(function(){function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function h(a){return function(){return this[a]}}function ca(a){return function(){return a}}var l,da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)},ea="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;
function fa(){fa=aa();ea.Symbol||(ea.Symbol=ga)}var ha=0;function ga(a){return"jscomp_symbol_"+(a||"")+ha++}function ia(){fa();var a=ea.Symbol.iterator;a||(a=ea.Symbol.iterator=ea.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&da(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ja(this)}});ia=aa()}function ja(a){var b=0;return ka(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}
function ka(a){ia();a={next:a};a[ea.Symbol.iterator]=function(){return this};return a}function la(a){ia();var b=a[Symbol.iterator];return b?b.call(a):ja(a)}for(var ma=ea,oa=["Promise"],pa=0;pa<oa.length-1;pa++){var qa=oa[pa];qa in ma||(ma[qa]={});ma=ma[qa]}
var sa=oa[oa.length-1],ta=ma[sa],ua=function(){function a(a){this.g=0;this.v=void 0;this.j=[];var b=this.A();try{a(b.resolve,b.reject)}catch(g){b.reject(g)}}function b(){this.g=null}if(ta)return ta;b.prototype.j=function(a){null==this.g&&(this.g=[],this.v());this.g.push(a)};b.prototype.v=function(){var a=this;this.o(function(){a.B()})};var c=ea.setTimeout;b.prototype.o=function(a){c(a,0)};b.prototype.B=function(){for(;this.g&&this.g.length;){var a=this.g;this.g=[];for(var b=0;b<a.length;++b){var c=
a[b];delete a[b];try{c()}catch(k){this.A(k)}}}this.g=null};b.prototype.A=function(a){this.o(function(){throw a;})};a.prototype.A=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;return{resolve:a(this.X),reject:a(this.B)}};a.prototype.X=function(b){if(b===this)this.B(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.H(b);else{var c;a:switch(typeof b){case "object":c=null!=b;break a;case "function":c=!0;break a;default:c=!1}c?this.D(b):
this.C(b)}};a.prototype.D=function(a){var b=void 0;try{b=a.then}catch(g){this.B(g);return}"function"==typeof b?this.I(b,a):this.C(a)};a.prototype.B=function(a){this.F(2,a)};a.prototype.C=function(a){this.F(1,a)};a.prototype.F=function(a,b){if(0!=this.g)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.g);this.g=a;this.v=b;this.S()};a.prototype.S=function(){if(null!=this.j){for(var a=this.j,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.j=null}};var d=new b;a.prototype.H=
function(a){var b=this.A();a.o(b.resolve,b.reject)};a.prototype.I=function(a,b){var c=this.A();try{a.call(b,c.resolve,c.reject)}catch(k){c.reject(k)}};a.prototype.then=function(b,c){function d(a,b){return"function"==typeof a?function(b){try{e(a(b))}catch(W){f(W)}}:b}var e,f,u=new a(function(a,b){e=a;f=b});this.o(d(b,e),d(c,f));return u};a.prototype.o=function(a,b){function c(){switch(e.g){case 1:a(e.v);break;case 2:b(e.v);break;default:throw Error("Unexpected state: "+e.g);}}var e=this;null==this.j?
d.j(c):this.j.push(function(){d.j(c)})};a.resolve=function(b){return b instanceof a?b:new a(function(a){a(b)})};a.reject=function(b){return new a(function(a,c){c(b)})};a.j=function(b){return new a(function(c,d){for(var e=la(b),f=e.next();!f.done;f=e.next())a.resolve(f.value).o(c,d)})};a.g=function(b){var c=la(b),d=c.next();return d.done?a.resolve([]):new a(function(b,e){function f(a){return function(c){g[a]=c;k--;0==k&&b(g)}}var g=[],k=0;do g.push(void 0),k++,a.resolve(d.value).o(f(g.length-1),e),
d=c.next();while(!d.done)})};a.$jscomp$new$AsyncExecutor=function(){return new b};return a}();ua!=ta&&null!=ua&&da(ma,sa,{configurable:!0,writable:!0,value:ua});var va=va||{},m=this;function n(a){return void 0!==a}function wa(a,b,c){a=a.split(".");c=c||m;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&n(b)?c[d]=b:c[d]?c=c[d]:c=c[d]={}}function xa(a,b){a=a.split(".");b=b||m;for(var c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}
function ya(){}function za(a){a.Ee=void 0;a.ua=function(){return a.Ee?a.Ee:a.Ee=new a}}
function Aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function Ba(a){return"array"==Aa(a)}function Ca(a){var b=Aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function Da(a){return"string"==typeof a}function Ea(a){return"number"==typeof a}function Fa(a){return"function"==Aa(a)}function Ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function Ha(a){return a[Ia]||(a[Ia]=++Ja)}var Ia="closure_uid_"+(1E9*Math.random()>>>0),Ja=0;
function Ka(a,b,c){return a.call.apply(a.bind,arguments)}function La(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ka:La;return q.apply(null,arguments)}
function Ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function Na(a,b){for(var c in b)a[c]=b[c]}var r=Date.now||function(){return+new Date};
function Oa(a){if(m.execScript)m.execScript(a,"JavaScript");else if(m.eval){if(null==Pa)if(m.eval("var _evalTest_ = 1;"),"undefined"!=typeof m._evalTest_){try{delete m._evalTest_}catch(d){}Pa=!0}else Pa=!1;if(Pa)m.eval(a);else{var b=m.document,c=b.createElement("SCRIPT");c.type="text/javascript";c.defer=!1;c.appendChild(b.createTextNode(a));b.body.appendChild(c);b.body.removeChild(c)}}else throw Error("goog.globalEval not available");}var Pa=null;
function t(a,b){function c(){}c.prototype=b.prototype;a.J=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Dt=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};function Qa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Qa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(Qa,Error);Qa.prototype.name="CustomError";var Ra;function Sa(a,b){return 0==a.lastIndexOf(b,0)}function Ta(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function Ua(a){return/^[\s\xa0]*$/.test(a)}var Va=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function Wa(a){return decodeURIComponent(a.replace(/\+/g," "))}var Xa=/&/g,Za=/</g,$a=/>/g,ab=/"/g,bb=/'/g,cb=/\x00/g,db=/[\x00&<>"']/;
function eb(a){var b={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c;c=m.document.createElement("div");return a.replace(fb,function(a,e){var d=b[a];if(d)return d;"#"==e.charAt(0)&&(e=Number("0"+e.substr(1)),isNaN(e)||(d=String.fromCharCode(e)));d||(c.innerHTML=a+" ",d=c.firstChild.nodeValue.slice(0,-1));return b[a]=d})}
function gb(a){return a.replace(/&([^;]+);/g,function(a,c){switch(c){case "amp":return"&";case "lt":return"<";case "gt":return">";case "quot":return'"';default:return"#"!=c.charAt(0)||(c=Number("0"+c.substr(1)),isNaN(c))?a:String.fromCharCode(c)}})}var fb=/&([^;\s<&]+);?/g,hb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};
function ib(a){a=n(void 0)?a.toFixed(void 0):String(a);var b=a.indexOf(".");-1==b&&(b=a.length);return hb("0",Math.max(0,2-b))+a}function jb(a){return null==a?"":String(a)}function kb(a){return Array.prototype.join.call(arguments,"")}function lb(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^r()).toString(36)}function mb(a,b){return a<b?-1:a>b?1:0}var nb=2147483648*Math.random()|0;function ob(a,b){return Array.prototype.indexOf.call(a,b,void 0)}function pb(a,b,c){Array.prototype.forEach.call(a,b,c)}function qb(a,b){for(var c=Da(a)?a.split(""):a,d=a.length-1;0<=d;--d)d in c&&b.call(void 0,c[d],d,a)}function rb(a,b){return Array.prototype.map.call(a,b,void 0)}function sb(a,b){return Array.prototype.some.call(a,b,void 0)}
function tb(a,b){a:{for(var c=a.length,d=Da(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:Da(a)?a.charAt(b):a[b]}function ub(a,b){return 0<=ob(a,b)}function vb(a,b){ub(a,b)||a.push(b)}function wb(a,b){b=ob(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function xb(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function yb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function zb(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(Ca(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var g=0;g<f;g++)a[e+g]=d[g]}else a.push(d)}}function Ab(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}
function Bb(a,b,c){function d(a){return Ga(a)?"o"+Ha(a):(typeof a).charAt(0)+a}b=b||a;c=c||d;for(var e={},f=0,g=0;g<a.length;){var k=a[g++],p=c(k);Object.prototype.hasOwnProperty.call(e,p)||(e[p]=!0,b[f++]=k)}b.length=f}function Cb(a,b,c){if(!Ca(a)||!Ca(b)||a.length!=b.length)return!1;var d=a.length;c=c||Db;for(var e=0;e<d;e++)if(!c(a[e],b[e]))return!1;return!0}function Db(a,b){return a===b}
function Eb(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if(Ba(d))for(var e=0;e<d.length;e+=8192)for(var f=Eb.apply(null,Ab(d,e,e+8192)),g=0;g<f.length;g++)b.push(f[g]);else b.push(d)}return b};function Fb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function Gb(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function Hb(a){var b=0,c;for(c in a)b++;return b}function Ib(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Jb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Kb(a,b){return null!==a&&b in a}function Lb(a,b){for(var c in a)if(a[c]==b)return!0;return!1}function Mb(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}
function Nb(a,b){return(b=Mb(a,b,void 0))&&a[b]}function Ob(a){for(var b in a)return!1;return!0}function Pb(a){var b={},c;for(c in a)b[c]=a[c];return b}function Qb(a){var b=Aa(a);if("object"==b||"array"==b){if(Fa(a.clone))return a.clone();var b="array"==b?[]:{},c;for(c in a)b[c]=Qb(a[c]);return b}return a}var Rb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Sb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Rb.length;f++)c=Rb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function Tb(a){var b=arguments.length;if(1==b&&Ba(arguments[0]))return Tb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var Ub;a:{var Vb=m.navigator;if(Vb){var Wb=Vb.userAgent;if(Wb){Ub=Wb;break a}}Ub=""}function v(a){return-1!=Ub.indexOf(a)};function Xb(){return(v("Chrome")||v("CriOS"))&&!v("Edge")};function Yb(){return v("iPhone")&&!v("iPod")&&!v("iPad")}function Zb(){return Yb()||v("iPad")||v("iPod")};function $b(a,b){var c=ac;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var bc="",cc=/WebKit\/(\S+)/.exec(Ub);cc&&(bc=cc?cc[1]:"");var dc=bc,ac={};
function ec(a){return $b(a,function(){for(var b=0,c=Va(String(dc)).split("."),d=Va(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=mb(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||mb(0==g[2].length,0==k[2].length)||mb(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})};var fc=v("Firefox"),gc=Yb()||v("iPod"),hc=v("iPad"),ic=v("Android")&&!(Xb()||v("Firefox")||v("Opera")||v("Silk")),jc=Xb(),kc=v("Safari")&&!(Xb()||v("Coast")||v("Opera")||v("Edge")||v("Silk")||v("Android"))&&!Zb();function lc(a){return rb(a,function(a){a=a.toString(16);return 1<a.length?a:"0"+a}).join("")};var mc=null;function nc(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function oc(a){a=String(a);if(nc(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function pc(a){return eval("("+a+")")}function qc(a,b){return(new rc(b)).ia(a)}
function rc(a){this.g=a}rc.prototype.ia=function(a){var b=[];sc(this,a,b);return b.join("")};
function sc(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(Ba(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],sc(a,a.g?a.g.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),tc(d,c),c.push(":"),sc(a,a.g?a.g.call(b,d,e):e,c),f=","));c.push("}");return}}switch(typeof b){case "string":tc(b,
c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}}var uc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},vc=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function tc(a,b){b.push('"',a.replace(vc,function(a){var b=uc[a];b||(b="\\u"+(a.charCodeAt(0)|65536).toString(16).substr(1),uc[a]=b);return b}),'"')};function wc(a,b,c,d){this.g=a;this.Pf=b;this.j=c;this.Ue=d;this.uk=0}function x(){}var xc="function"==typeof Uint8Array;function y(a,b,c,d,e){a.g=null;b||(b=c?[c]:[]);a.C=c?String(c):void 0;a.A=0===c?-1:0;a.o=b;a:{if(a.o.length&&(b=a.o.length-1,(c=a.o[b])&&"object"==typeof c&&!Ba(c)&&!(xc&&c instanceof Uint8Array))){a.v=b-a.A;a.j=c;break a}-1<d?(a.v=d,a.j=null):a.v=Number.MAX_VALUE}a.B={};if(e)for(d=0;d<e.length;d++)b=e[d],b<a.v?(b+=a.A,a.o[b]=a.o[b]||yc):a.j[b]=a.j[b]||yc}var yc=[];
function zc(a,b,c){for(var d=[],e=0;e<a.length;e++)d[e]=b.call(a[e],c,a[e]);return d}function A(a,b){if(b<a.v){b+=a.A;var c=a.o[b];return c===yc?a.o[b]=[]:c}c=a.j[b];return c===yc?a.j[b]=[]:c}function Ac(a,b,c){a=A(a,b);return null==a?c:a}function B(a,b,c){b<a.v?a.o[b+a.A]=c:a.j[b]=c}function C(a,b,c){a.g||(a.g={});if(!a.g[c]){var d=A(a,c);d&&(a.g[c]=new b(d))}return a.g[c]}
function Bc(a,b,c){a.g||(a.g={});if(!a.g[c]){for(var d=A(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.g[c]=e}b=a.g[c];b==yc&&(b=a.g[c]=[]);return b}function D(a,b,c){a.g||(a.g={});var d=c?Cc(c):c;a.g[b]=c;B(a,b,d)}function Dc(a,b,c){a.g||(a.g={});c=c||[];for(var d=[],e=0;e<c.length;e++)d[e]=Cc(c[e]);a.g[b]=c;B(a,b,d)}function Ec(a){if(a.g)for(var b in a.g){var c=a.g[b];if(Ba(c))for(var d=0;d<c.length;d++)c[d]&&Cc(c[d]);else c&&Cc(c)}}function Cc(a){Ec(a);return a.o}
var Fc=m.JSON&&m.JSON.stringify||"object"===typeof JSON&&JSON.stringify;l=x.prototype;
l.ia=xc?function(){var a=Uint8Array.prototype.toJSON;Uint8Array.prototype.toJSON=function(){Ca(this);if(!mc){mc={};for(var a=0;65>a;a++)mc[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)}for(var a=mc,b=[],e=0;e<this.length;e+=3){var f=this[e],g=e+1<this.length,k=g?this[e+1]:0,p=e+2<this.length,u=p?this[e+2]:0,w=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|u>>6,u=u&63;p||(u=64,g||(k=64));b.push(a[w],a[f],a[k],a[u])}return b.join("")};try{var b=Fc.call(null,Cc(this),Gc)}finally{Uint8Array.prototype.toJSON=
a}return b}:Fc?function(){return Fc.call(null,Cc(this),Gc)}:function(){return qc(Cc(this),Gc)};function Gc(a,b){if(Ea(b)){if(isNaN(b))return"NaN";if(Infinity===b)return"Infinity";if(-Infinity===b)return"-Infinity"}return b}function Hc(a){var b=Ic[a[0]];if(!b)throw Error("Unknown JsPb message type: "+a[0]);return new b(a)}l.toString=function(){Ec(this);return this.o.toString()};
l.Ge=function(a){if(this.j){this.g||(this.g={});var b=a.g;return a.j?(!this.g[b]&&this.j[b]&&(this.g[b]=new a.j(this.j[b])),this.g[b]):this.j[b]}};l.Id=function(a,b){this.g||(this.g={});var c=this.v+this.A;this.o[c]||(this.j=this.o[c]={});c=a.g;a.j?(this.g[c]=b,this.j[c]=b?Cc(b):b):this.j[c]=b};function Jc(a,b){return a==b||!(!a||!b)&&a instanceof b.constructor&&Kc(Cc(a),Cc(b))}
function Lc(a,b){a=a||{};b=b||{};var c={},d;for(d in a)c[d]=0;for(d in b)c[d]=0;for(d in c)if(!Kc(a[d],b[d]))return!1;return!0}
function Kc(a,b){if(a==b)return!0;if(!Ga(a)||!Ga(b)||a.constructor!=b.constructor)return!1;if(xc&&a.constructor===Uint8Array){if(a.length!=b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!=b[c])return!1;return!0}if(a.constructor===Array){for(var d=void 0,e=void 0,f=Math.max(a.length,b.length),c=0;c<f;c++){var g=a[c],k=b[c];g&&g.constructor==Object&&(d=g,g=void 0);k&&k.constructor==Object&&(e=k,k=void 0);if(!Kc(g,k))return!1}return d||e?(d=d||{},e=e||{},Lc(d,e)):!0}if(a.constructor===Object)return Lc(a,
b);throw Error("Invalid type in JSPB array");}l.clone=function(){return Mc(this)};function Mc(a){return new a.constructor(Nc(Cc(a)))}function Nc(a){var b;if(Ba(a)){for(var c=Array(a.length),d=0;d<a.length;d++)null!=(b=a[d])&&(c[d]="object"==typeof b?Nc(b):b);return c}if(xc&&a instanceof Uint8Array)return new Uint8Array(a);c={};for(d in a)null!=(b=a[d])&&(c[d]="object"==typeof b?Nc(b):b);return c}function Oc(a,b){Ic[a]=b;b.Pt=a}var Ic={};function Pc(a){y(this,a,0,-1,null)}t(Pc,x);Pc.prototype.getUrl=function(){return A(this,2)};Pc.prototype.getId=function(){return A(this,9)};function Qc(a){y(this,a,0,-1,null)}t(Qc,x);Qc.prototype.getUrl=function(){return A(this,1)};function Rc(a){y(this,a,0,-1,null)}t(Rc,x);function Sc(a){y(this,a,0,1,null)}t(Sc,x);function Tc(a){y(this,a,0,-1,null)}t(Tc,x);Tc.prototype.L=function(){return A(this,1)};function Uc(a){y(this,a,0,-1,null)}t(Uc,x);Uc.prototype.L=function(){return A(this,1)};function Vc(a){y(this,a,0,-1,null)}t(Vc,x);Vc.prototype.getId=function(){return A(this,4)};function Wc(a){y(this,a,0,-1,null)}t(Wc,x);function Xc(a){y(this,a,0,-1,Yc)}t(Xc,x);var Yc=[8];Xc.prototype.getId=function(){return A(this,1)};function Zc(a){return Bc(a,Xc,8)}function $c(a){y(this,a,0,-1,null)}t($c,x);
$c.prototype.getId=function(){return A(this,1)};function ad(a){return C(a,Xc,2)}function bd(a){y(this,a,0,-1,null)}t(bd,x);bd.prototype.getId=function(){return A(this,1)};bd.prototype.Za=function(){return C(this,Tc,2)};function cd(a){y(this,a,0,-1,null)}t(cd,x);function dd(a){y(this,a,0,-1,ed)}t(dd,x);var ed=[5];function fd(a){y(this,a,0,-1,null)}t(fd,x);l=fd.prototype;l.dc=function(){return Ac(this,2,!0)};l.Zc=function(a){B(this,2,a)};l.bc=function(){return A(this,3)};l.gc=function(){return Ac(this,4,!0)};l.hc=function(){return Ac(this,5,!0)};function gd(a){y(this,a,0,-1,null)}t(gd,x);function hd(a){y(this,a,"uc",-1,null)}t(hd,x);Oc("uc",hd);function id(a){y(this,a,"rjse",-1,null)}t(id,x);Oc("rjse",id);function jd(a){y(this,a,"u",-1,kd)}t(jd,x);var kd=[1,2];Oc("u",jd);function ld(a){y(this,a,"kd",-1,null)}t(ld,x);Oc("kd",ld);ld.prototype.se=function(){return C(this,fd,7)};function md(a){y(this,a,"tf",-1,null)}t(md,x);Oc("tf",md);function nd(a){y(this,a,0,-1,od)}t(nd,x);var od=[1];function pd(a){y(this,a,"sr",-1,qd)}t(pd,x);var qd=[1];
Oc("sr",pd);function rd(a,b,c){function d(a){return c?yb(a):a}var e=null;a&&Ba(a)&&(e=d(a),Ba(e[0])&&b==e[0][0]&&(e=d(e[0]),e.shift()));return e};function sd(a){return function(){return a}}var td=sd(null);function ud(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}};function vd(a,b,c,d,e,f,g){var k="";a&&(k+=a+":");c&&(k+="//",b&&(k+=b+"@"),k+=c,d&&(k+=":"+d));e&&(k+=e);f&&(k+="?"+f);g&&(k+="#"+g);return k}var wd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xd(a){return a?decodeURI(a):a}function yd(){return xd(m.location.href.match(wd)[3]||null)}function zd(a){a=a.match(wd);return vd(a[1],a[2],a[3],a[4])}
function Ad(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e,f=null;0<=d?(e=a[c].substring(0,d),f=a[c].substring(d+1)):e=a[c];b(e,f?Wa(f):"")}}}function Bd(a){if(a[1]){var b=a[0],c=b.indexOf("#");0<=c&&(a.push(b.substr(c)),a[0]=b=b.substr(0,c));c=b.indexOf("?");0>c?a[1]="?":c==b.length-1&&(a[1]=void 0)}return a.join("")}
function Cd(a,b,c){if(Ba(b))for(var d=0;d<b.length;d++)Cd(a,String(b[d]),c);else null!=b&&c.push("&",a,""===b?"":"=",encodeURIComponent(String(b)))}function Dd(a,b,c){for(c=c||0;c<b.length;c+=2)Cd(b[c],b[c+1],a);return a}function Ed(a){a=Dd([],a,void 0);a[0]="";return a.join("")}function Fd(a,b){for(var c in b)Cd(c,b[c],a);return a}function Gd(a){a=Fd([],a);a[0]="";return a.join("")}function Hd(a,b){return Bd(2==arguments.length?Dd([a],arguments[1],0):Dd([a],arguments,1))}
function Id(a,b){return Bd(Fd([a],b))}function Jd(a,b,c){a=[a,"&",b];null!=c&&a.push("=",encodeURIComponent(String(c)));return Bd(a)}function Kd(a,b,c,d){for(var e=c.length;0<=(b=a.indexOf(c,b))&&b<d;){var f=a.charCodeAt(b-1);if(38==f||63==f)if(f=a.charCodeAt(b+e),!f||61==f||38==f||35==f)return b;b+=e+1}return-1}var Ld=/#|$/;function Md(a,b){var c=a.search(Ld),d=Kd(a,0,b,c);if(0>d)return null;var e=a.indexOf("&",d);if(0>e||e>c)e=c;d+=b.length+1;return Wa(a.substr(d,e-d))}var Nd=/[?&]($|#)/;
function Od(a,b){var c=a.length-1;0<=c&&a.indexOf("/",c)==c&&(a=a.substr(0,a.length-1));Sa(b,"/")&&(b=b.substr(1));return kb(a,"/",b)};function Pd(a,b,c,d,e){b&&!Ua(b)&&Va(b.toLowerCase());this.g=e}Pd.prototype.getId=h("g");function Qd(){};function Rd(a,b){if(n(b.getId())){var c=b.getId();B(a,1,c)}c=ad(b);if(n(c)){var d=ad(a);c?d?Sd(d,c):D(a,2,c):D(a,2,void 0)}n(A(b,3))&&(c=A(b,3),B(a,3,c));n(A(b,4))&&(c=A(b,4),B(a,4,c));d=C(b,bd,5);if(n(d))if(c=C(a,bd,5),d)if(c){if(n(d.getId())){var e=d.getId();B(c,1,e)}e=d.Za();if(n(e)){var f=c.Za();e?f?Td(f,e):D(c,2,e):D(c,2,void 0)}d=C(d,$c,3);n(d)&&(e=C(c,$c,3),d?e?Rd(e,d):D(c,3,d):D(c,3,void 0))}else D(a,5,d);else D(a,5,void 0);n(A(b,6))&&(c=A(b,6),B(a,6,c));n(A(b,7))&&(c=A(b,7),B(a,7,c));n(A(b,
8))&&(c=A(b,8),B(a,8,c));n(A(b,9))&&(b=A(b,9),B(a,9,b))}
function Sd(a,b){if(n(b.getId())){var c=b.getId();B(a,1,c)}n(A(b,2))&&(c=A(b,2),B(a,2,c));c=C(b,Tc,3);if(n(c)){var d=C(a,Tc,3);c?d?Td(d,c):D(a,3,c):D(a,3,void 0)}c=C(b,Tc,4);n(c)&&(d=C(a,Tc,4),c?d?Td(d,c):D(a,4,c):D(a,4,void 0));c=C(b,Vc,5);n(c)&&(d=C(a,Vc,5),c?d?Ud(d,c):D(a,5,c):D(a,5,void 0));d=C(b,Pc,14);if(n(d))if(c=C(a,Pc,14),d)if(c){if(n(A(d,1))){var e=A(d,1);B(c,1,e)}n(d.getUrl())&&(e=d.getUrl(),B(c,2,e));var f=C(d,Qc,3);if(n(f))if(e=C(c,Qc,3),f)if(e){if(n(f.getUrl())){var g=f.getUrl();B(e,
1,g)}n(A(f,2))&&(g=A(f,2),B(e,2,g));n(A(f,3))&&(f=A(f,3),B(e,3,f))}else D(c,3,f);else D(c,3,void 0);n(A(d,4))&&(e=A(d,4),B(c,4,e));n(A(d,5))&&(e=A(d,5),B(c,5,e));n(A(d,6))&&(e=A(d,6),B(c,6,e));f=C(d,Rc,7);n(f)&&(e=C(c,Rc,7),f?e?(n(A(f,1))&&(g=A(f,1),B(e,1,g)),n(A(f,2))&&(g=A(f,2),B(e,2,g)),n(A(f,3))&&(g=A(f,3),B(e,3,g)),n(A(f,4))&&(f=A(f,4),B(e,4,f))):D(c,7,f):D(c,7,void 0));n(A(d,8))&&(d=A(d,8),B(c,8,d))}else D(a,14,d);else D(a,14,void 0);n(A(b,6))&&(c=A(b,6),B(a,6,c));n(A(b,7))&&(c=A(b,7),B(a,7,
c));Zc(b)&&(c=xb(Zc(a),Zc(b)),Dc(a,8,c));d=C(b,Uc,9);n(d)&&(c=C(a,Uc,9),d?c?(n(d.L())&&(e=d.L(),B(c,1,e)),n(A(d,2))&&(e=A(d,2),B(c,2,e)),n(C(d,Sc,3))&&(e=C(d,Sc,3),D(c,3,e)),n(A(d,4))&&(d=A(d,4),B(c,4,d))):D(a,9,d):D(a,9,void 0));n(A(b,10))&&(c=A(b,10),B(a,10,c));n(A(b,11))&&(c=A(b,11),B(a,11,c));n(A(b,12))&&(c=A(b,12),B(a,12,c));n(A(b,13))&&(c=A(b,13),B(a,13,c));n(A(b,15))&&(c=A(b,15),B(a,15,c));n(A(b,16))&&(c=A(b,16),B(a,16,c));n(A(b,17))&&(c=A(b,17),B(a,17,c));n(A(b,20))&&(c=A(b,20),B(a,20,c));
d=C(b,Wc,18);n(d)&&(c=C(a,Wc,18),d?c?(d=C(d,Vc,1),n(d)&&(e=C(c,Vc,1),d?e?Ud(e,d):D(c,1,d):D(c,1,void 0))):D(a,18,d):D(a,18,void 0));c=C(b,dd,19);n(c)&&(b=C(a,dd,19),c?b?(n(A(c,1))&&(a=A(c,1),B(b,1,a)),n(A(c,3))&&(a=A(c,3),B(b,3,a)),n(A(c,2))&&(a=A(c,2),B(b,2,a)),n(A(c,4))&&(a=A(c,4),B(b,4,a)),n(Bc(c,cd,5))&&(a=Bc(c,cd,5),Dc(b,5,a))):D(a,19,c):D(a,19,void 0))}function Td(a,b){if(n(b.L())){var c=b.L();B(a,1,c)}n(A(b,2))&&(b=A(b,2),B(a,2,b))}
function Ud(a,b){if(n(A(b,1))){var c=A(b,1);B(a,1,c)}n(A(b,2))&&(c=A(b,2),B(a,2,c));n(A(b,3))&&(c=A(b,3),B(a,3,c));n(b.getId())&&(c=b.getId(),B(a,4,c));n(A(b,5))&&(c=A(b,5),B(a,5,c));n(A(b,6))&&(c=A(b,6),B(a,6,c));n(A(b,7))&&(c=A(b,7),B(a,7,c));n(A(b,8))&&(b=A(b,8),B(a,8,b))};function Vd(){this.g="";this.j=Wd}var Wd={};var Xd={nn:["BC","AD"],mn:["Before Christ","Anno Domini"],Op:"JFMAMJJASOND".split(""),rs:"JFMAMJJASOND".split(""),Lp:"January February March April May June July August September October November December".split(" "),qs:"January February March April May June July August September October November December".split(" "),bs:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ts:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),wt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
vs:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ds:"Sun Mon Tue Wed Thu Fri Sat".split(" "),us:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Pp:"SMTWTFS".split(""),ss:"SMTWTFS".split(""),cs:["Q1","Q2","Q3","Q4"],Dq:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Kl:["AM","PM"],mm:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Rs:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],nm:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],nh:6,xt:[5,6],oh:5},Yd=Xd,
Yd=Xd;function Zd(a,b,c){Ea(a)?(this.g=$d(a,b||0,c||1),ae(this,c||1)):Ga(a)?(this.g=$d(a.getFullYear(),a.getMonth(),a.getDate()),ae(this,a.getDate())):(this.g=new Date(r()),a=this.g.getDate(),this.g.setHours(0),this.g.setMinutes(0),this.g.setSeconds(0),this.g.setMilliseconds(0),ae(this,a))}function $d(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}l=Zd.prototype;l.Qf=Yd.nh;l.Rf=Yd.oh;l.clone=function(){var a=new Zd(this.g);a.Qf=this.Qf;a.Rf=this.Rf;return a};
l.getFullYear=function(){return this.g.getFullYear()};l.getMonth=function(){return this.g.getMonth()};l.getDate=function(){return this.g.getDate()};l.getTime=function(){return this.g.getTime()};l.set=function(a){this.g=new Date(a.getFullYear(),a.getMonth(),a.getDate())};function be(a){return[a.getFullYear(),ib(a.getMonth()+1),ib(a.getDate())].join("")+""}l.Ab=function(a){return!(!a||this.getFullYear()!=a.getFullYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};l.toString=function(){return be(this)};
function ae(a,b){a.getDate()!=b&&a.g.setUTCHours(a.g.getUTCHours()+(a.getDate()<b?1:-1))}l.valueOf=function(){return this.g.valueOf()};function ce(a){C(a,Vc,1);this.g=a}ce.prototype.Ab=function(a){return Jc(this.g,a.g)};function de(a){a.getId()||A(a,11);this.g=a;0==A(this.g,13)&&(B(this.g,13,void 0),B(this.g,15,void 0))}l=de.prototype;l.update=function(a){n(A(a,13))&&0!=A(a,13)&&(D(a,3,void 0),D(a,4,void 0),D(a,9,void 0));Sd(this.g,a);0==A(this.g,13)&&(B(this.g,13,void 0),B(this.g,15,void 0))};l.Ab=function(a){return Jc(this.g,a.g)};l.getId=function(){return this.g.getId()||A(this.g,11)||""};l.gb=function(){return!!A(this.g,12)};l.Da=function(){return!!A(this.g,13)};function E(){this.X=this.X;this.S=this.S}E.prototype.X=!1;E.prototype.isDisposed=h("X");E.prototype.V=function(){this.X||(this.X=!0,this.G())};function F(a,b){b=Ma(G,b);a.X?n(void 0)?b.call(void 0):b():(a.S||(a.S=[]),a.S.push(n(void 0)?q(b,void 0):b))}E.prototype.G=function(){if(this.S)for(;this.S.length;)this.S.shift()()};function G(a){a&&"function"==typeof a.V&&a.V()}function ee(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];Ca(d)?ee.apply(null,d):G(d)}};function H(a,b){this.type=a;this.o=this.target=b;this.v=!1;this.Cg=!0}H.prototype.stopPropagation=function(){this.v=!0};H.prototype.A=function(){this.Cg=!1};var fe=[],ge=[],he=!1;function ie(a){fe[fe.length]=a;if(he)for(var b=0;b<ge.length;b++)a(q(ge[b].g,ge[b]))};ec("528");ec("528");function je(a,b){H.call(this,a?a.type:"");this.o=this.target=null;this.screenY=this.screenX=this.clientY=this.clientX=0;this.g=this.state=null;a&&this.init(a,b)}t(je,H);
je.prototype.init=function(a,b){this.type=a.type;var c=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.o=b;null===c?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0);this.state=a.state;this.g=a;a.defaultPrevented&&
this.A()};je.prototype.stopPropagation=function(){je.J.stopPropagation.call(this);this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0};je.prototype.A=function(){je.J.A.call(this);var a=this.g;a.preventDefault?a.preventDefault():a.returnValue=!1};function ke(){}var le="closure_listenable_"+(1E6*Math.random()|0);function me(a){return!(!a||!a[le])}var ne=0;function oe(a,b,c,d,e){this.listener=a;this.g=null;this.src=b;this.type=c;this.capture=!!d;this.td=e;this.key=++ne;this.Xc=this.vb=!1}function pe(a){a.Xc=!0;a.listener=null;a.g=null;a.src=null;a.td=null};function qe(a){this.src=a;this.g={};this.j=0}function re(a,b,c,d,e,f){var g=b.toString();b=a.g[g];b||(b=a.g[g]=[],a.j++);var k=se(b,c,e,f);-1<k?(a=b[k],d||(a.vb=!1)):(a=new oe(c,a.src,g,!!e,f),a.vb=d,b.push(a));return a}function te(a,b){var c=b.type;c in a.g&&wb(a.g[c],b)&&(pe(b),0==a.g[c].length&&(delete a.g[c],a.j--))}function ue(a,b,c,d,e){a=a.g[b.toString()];b=-1;a&&(b=se(a,c,d,e));return-1<b?a[b]:null}
function se(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Xc&&f.listener==b&&f.capture==!!c&&f.td==d)return e}return-1};var ve="closure_lm_"+(1E6*Math.random()|0),we={},xe=0;function ye(a,b,c,d,e){if(Ba(b)){for(var f=0;f<b.length;f++)ye(a,b[f],c,d,e);return null}c=ze(c);return me(a)?a.listen(b,c,d,e):Ae(a,b,c,!1,d,e)}
function Ae(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,k=Be(a);k||(a[ve]=k=new qe(a));c=re(k,b,c,d,e,f);if(c.g)return c;d=Ce();c.g=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(De(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");xe++;return c}function Ce(){function a(c){return b.call(a.src,a.listener,c)}var b=Ee;return a}
function Fe(a,b,c,d,e){if(Ba(b)){for(var f=0;f<b.length;f++)Fe(a,b[f],c,d,e);return null}c=ze(c);return me(a)?re(a.v,String(b),c,!0,d,e):Ae(a,b,c,!0,d,e)}function Ge(a,b,c,d,e){if(Ba(b))for(var f=0;f<b.length;f++)Ge(a,b[f],c,d,e);else c=ze(c),me(a)?a.cd(b,c,d,e):a&&(a=Be(a))&&(b=ue(a,b,c,!!d,e))&&He(b)}
function He(a){if(!Ea(a)&&a&&!a.Xc){var b=a.src;if(me(b))te(b.v,a);else{var c=a.type,d=a.g;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(De(c),d);xe--;(c=Be(b))?(te(c,a),0==c.j&&(c.src=null,b[ve]=null)):pe(a)}}}function Ie(a,b,c,d,e){c=ze(c);d=!!d;return me(a)?ue(a.v,String(b),c,d,e):a?(a=Be(a))?ue(a,b,c,d,e):null:null}function De(a){return a in we?we[a]:we[a]="on"+a}
function Ee(a,b){if(a.Xc)a=!0;else{b=new je(b,this);var c=a.listener,d=a.td||a.src;a.vb&&He(a);a=c.call(d,b)}return a}function Be(a){a=a[ve];return a instanceof qe?a:null}var Je="__closure_events_fn_"+(1E9*Math.random()>>>0);function ze(a){if(Fa(a))return a;a[Je]||(a[Je]=function(b){return a.handleEvent(b)});return a[Je]}ie(function(a){Ee=a(Ee)});function I(){E.call(this);this.v=new qe(this);this.Xb=this;this.F=null}t(I,E);I.prototype[le]=!0;l=I.prototype;l.addEventListener=function(a,b,c,d){ye(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Ge(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.F;if(c){b=[];for(var d=1;c;c=c.F)b.push(c),++d}c=this.Xb;d=a.type||a;if(Da(a))a=new H(a,c);else if(a instanceof H)a.target=a.target||c;else{var e=a;a=new H(d,c);Sb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.v&&0<=g;g--)f=a.o=b[g],e=Ke(f,d,!0,a)&&e;a.v||(f=a.o=c,e=Ke(f,d,!0,a)&&e,a.v||(e=Ke(f,d,!1,a)&&e));if(b)for(g=0;!a.v&&g<b.length;g++)f=a.o=b[g],e=Ke(f,d,!1,a)&&e;return e};
l.G=function(){I.J.G.call(this);if(this.v){var a=this.v,b=0,c;for(c in a.g){for(var d=a.g[c],e=0;e<d.length;e++)++b,pe(d[e]);delete a.g[c];a.j--}}this.F=null};l.listen=function(a,b,c,d){return re(this.v,String(a),b,!1,c,d)};l.cd=function(a,b,c,d){var e;e=this.v;a=String(a).toString();if(a in e.g){var f=e.g[a];b=se(f,b,c,d);-1<b?(pe(f[b]),Array.prototype.splice.call(f,b,1),0==f.length&&(delete e.g[a],e.j--),e=!0):e=!1}else e=!1;return e};
function Ke(a,b,c,d){b=a.v.g[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Xc&&g.capture==c){var k=g.listener,p=g.td||g.src;g.vb&&te(a.v,g);e=!1!==k.call(p,d)&&e}}return e&&0!=d.Cg};function Le(a){I.call(this);this.ee(a)}t(Le,I);l=Le.prototype;
l.ee=function(a){var b=a.kd;if(!n(C(b,Vc,9)))throw Error("Invalid or missing user.");var c=C(b,Vc,9),d=new Qd,e=A(c,1);d.v=e;e=A(c,8);d.g=e&&!Ua(e)?Va(e.toLowerCase()):null;e=A(c,2);d.B=e;e=A(c,3);d.A=e;e=c.getId()||"";d.j=e;c=!!A(c,5);d.o=c;this.Tg=new Pd(0,d.g,0,0,d.j);this.De=!!A(b,40);this.Df=!A(b,20);this.ce=A(b,11);this.Sf=!!A(b,12);A(b,6);this.Ef=n(a.l)?!!a.l:!!A(b,25);this.vg=A(b,21);this.Ff=A(b,23);this.Wg=A(b,24);this.fg=A(b,31);n(a.i)?this.de=a.i:this.de=void 0;if(a=C(b,md,44))this.fe=
A(a,1);this.dispatchEvent("r")};l.fg=null;l.de=void 0;l.ce=null;l.Ef=!1;l.De=!1;l.vg=null;l.Ff=null;l.Wg=null;l.Df=!0;l.Sf=!1;l.Tg=null;l.fe=null;function Me(a,b,c,d,e){this.j=a;this.g=b;this.o=c;this.v=d;this.Od=e}l=Me.prototype;l.dc=h("j");l.bc=h("g");l.gc=h("o");l.hc=h("v");l.Ab=function(a){return a instanceof Me?this.dc()==a.dc()&&this.bc()==a.bc()&&this.gc()==a.gc()&&this.hc()==a.hc()&&this.Od==a.Od:!1};function Ne(a,b){this.width=a;this.height=b}l=Ne.prototype;l.clone=function(){return new Ne(this.width,this.height)};l.xi=function(){return this.width*this.height};l.ba=function(){return!this.xi()};l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Oe(a){return a?new Pe(9==a.nodeType?a:a.ownerDocument||a.document):Ra||(Ra=new Pe)}function Qe(a,b){Fb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Re.hasOwnProperty(d)?a.setAttribute(Re[d],b):Sa(d,"aria-")||Sa(d,"data-")?a.setAttribute(d,b):a[d]=b})}
var Re={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Se(a){return a.parentWindow||a.defaultView}function Te(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Pe(a){this.g=a||m.document||document}Pe.prototype.createElement=function(a){return this.g.createElement(String(a))};
Pe.prototype.appendChild=function(a,b){a.appendChild(b)};Pe.prototype.j=Te;Pe.prototype.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function Ue(a){var b=a.kd;Da(b)&&(b=pc(b));Ba(b)&&(b=rd(b,"kd",!0),b.unshift("kd"),a.kd=new ld(b));Le.call(this,a)}t(Ue,Le);
Ue.prototype.ee=function(a){Ue.J.ee.call(this,a);this.g=a.kd;var b;if(!(b=this.A))if(Da(document.URL)){var c=document.URL,d=c.search(Ld),e=0,f;for(b=[];0<=(f=Kd(c,e,"disco",d));){e=c.indexOf("&",f);if(0>e||e>d)e=d;f+=6;b.push(Wa(c.substr(f,e-f)))}if(1<b.length)throw Error("Only one docoid can be specified in the url query parameter");if(m.history&&m.history.replaceState){for(var c=document.URL,d=c.search(Ld),e=0,g=[];0<=(f=Kd(c,e,"disco",d));)g.push(c.substring(e,f)),e=Math.min(c.indexOf("&",f)+1||
d,d);g.push(c.substr(e));c=g.join("").replace(Nd,"$1");try{m.history.replaceState(null,document.title||"",c)}catch(k){}}b=0<b.length?b[0]:null}else b=null;this.A=b;this.o=a.storage||null;this.C=!!a["storage-ro"];this.D=!!a.so;this.B=a.listeners||{};a.readonly||a["fatal-readonly"]||A(this.g,8);A(this.g,3);Ve(this);this.j=!!a["defer-first-sync"];this.dispatchEvent("r")};Ue.prototype.se=function(){var a=this.g.se();return new Me(!!a&&!!a.dc(),!!a&&!!a.bc(),!!a&&!!a.gc(),!!a&&!!a.hc(),!!a&&!!Ac(a,6,!0))};
function Ve(a){return a.g&&!!A(a.g,18)};function We(a){this.g=a}We.prototype.toString=h("g");var Xe=new We("visibility"),Ye=new We("selection"),Ze=new We("value"),$e=new We("enabled"),af=new We("change"),bf=new We("action");var cf=v("Macintosh")||Zb();function df(a){m.setTimeout(function(){throw a;},0)}var ef;
function ff(){var a=m.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!v("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=q(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!v("Trident")&&!v("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(n(c.next)){c=c.next;var a=c.mf;c.mf=null;a()}};return function(a){d.next={mf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){m.setTimeout(a,0)}}function gf(a){return a}ie(function(a){gf=a});function hf(a,b,c){this.v=c;this.o=a;this.A=b;this.j=0;this.g=null}hf.prototype.get=function(){var a;0<this.j?(this.j--,a=this.g,this.g=a.next,a.next=null):a=this.o();return a};function jf(a,b){a.A(b);a.j<a.v&&(a.j++,b.next=a.g,a.g=b)};var lf=new hf(function(){return new kf},function(a){a.reset()},100);function mf(){var a=nf,b=null;a.g&&(b=a.g,a.g=a.g.next,a.g||(a.j=null),b.next=null);return b}function kf(){this.next=this.scope=this.g=null}kf.prototype.set=function(a,b){this.g=a;this.scope=b;this.next=null};kf.prototype.reset=function(){this.next=this.scope=this.g=null};function of(a,b){pf||qf();rf||(pf(),rf=!0);var c=nf,d=lf.get();d.set(a,b);c.j?c.j.next=d:c.g=d;c.j=d}var pf;function qf(){if(-1!=String(m.Promise).indexOf("[native code]")){var a=m.Promise.resolve(void 0);pf=function(){a.then(sf)}}else pf=function(){var a=sf,a=gf(a);!Fa(m.setImmediate)||m.Window&&m.Window.prototype&&!v("Edge")&&m.Window.prototype.setImmediate==m.setImmediate?(ef||(ef=ff()),ef(a)):m.setImmediate(a)}}var rf=!1,nf=new function(){this.j=this.g=null};
function sf(){for(var a;a=mf();){try{a.g.call(a.scope)}catch(b){df(b)}jf(lf,a)}rf=!1};function tf(a){E.call(this);this.B=1;this.o=[];this.v=0;this.g=[];this.j={};this.C=!!a}t(tf,E);function uf(a,b,c,d){var e=a.j[b];e||(e=a.j[b]=[]);var f=a.B;a.g[f]=b;a.g[f+1]=c;a.g[f+2]=d;a.B=f+3;e.push(f);return f}function vf(a,b,c,d){if(b=a.j[b]){var e=a.g;if(b=tb(b,function(a){return e[a+1]==c&&e[a+2]==d}))return a.ub(b)}return!1}
tf.prototype.ub=function(a){var b=this.g[a];if(b){var c=this.j[b];0!=this.v?(this.o.push(a),this.g[a+1]=ya):(c&&wb(c,a),delete this.g[a],delete this.g[a+1],delete this.g[a+2])}return!!b};
tf.prototype.A=function(a,b){var c=this.j[a];if(c){for(var d=Array(arguments.length-1),e=1,f=arguments.length;e<f;e++)d[e-1]=arguments[e];if(this.C)for(e=0;e<c.length;e++){var g=c[e];wf(this.g[g+1],this.g[g+2],d)}else{this.v++;try{for(e=0,f=c.length;e<f;e++)g=c[e],this.g[g+1].apply(this.g[g+2],d)}finally{if(this.v--,0<this.o.length&&0==this.v)for(;c=this.o.pop();)this.ub(c)}}}};function wf(a,b,c){of(function(){a.apply(b,c)})}
function xf(a,b){if(b){var c=a.j[b];c&&(pb(c,a.ub,a),delete a.j[b])}else a.g.length=0,a.j={}}tf.prototype.aa=function(a){if(a){var b=this.j[a];return b?b.length:0}a=0;for(b in this.j)a+=this.aa(b);return a};tf.prototype.G=function(){tf.J.G.call(this);xf(this);this.o.length=0};function yf(a){E.call(this);this.g=new tf(a);F(this,this.g)}t(yf,E);yf.prototype.ub=function(a){return this.g.ub(a)};yf.prototype.aa=function(a){return this.g.aa(n(a)?a.toString():void 0)};function zf(a){this.g=a};function Af(a,b){E.call(this);this.A=a;this.o={};this.g=b?Pb(b):{};this.B=Pb(this.g);Bf(this);this.v=new tf;this.j=new yf}t(Af,E);function Bf(a){n(a.g["keys-enabled"])||(a.g["keys-enabled"]=!0);a.g.enabled||(a.o["default"]=!0)}l=Af.prototype;l.G=function(){Af.J.G.call(this);this.v.V();this.j.V();delete this.v;delete this.j;delete this.g};l.getId=h("A");l.Zc=function(a,b){b=b||"default";var c=!0;if(a){delete this.o[b];for(var d in this.o){c=!1;break}}else this.o[b]=!0,c=!1;Cf(this,"enabled",c)};
function Df(a){Cf(a,"visible",!1)}function Ef(a){Cf(a,"selected",!1)}l.va=function(){return this.g.keys};function Cf(a,b,c){c!==a.g[b]&&(a.g[b]=c,a.j.g.A(af.toString(),new zf(b)),(c=Ff(b))&&a.j.g.A(c.toString(),new zf(b)))}l.ub=function(a){return 1E6<a?this.j.ub(a-1E6):this.v.ub(a)};l.reset=function(){xf(this.v);xf(this.j.g,n(void 0)?(void 0).toString():void 0);this.g=Pb(this.B);this.o={};Bf(this)};
function Ff(a){switch(a){case "visible":return Xe;case "selected":return Ye;case "value":return Ze;case "enabled":return $e;default:return null}};function Gf(a){this.g={};a=a||m._docs_flag_initialData;var b=m.WIZ_global_data;!a&&b&&(a=b.nWIH1e);a&&Sb(this.g,a)}za(Gf);Gf.prototype.get=function(a){return this.g[a]};function Hf(a,b){a=a.get(b);return Da(a)?"true"==a||"1"==a:!!a}function If(a,b){return Number(a.get(b))}function Jf(a,b){a=a.get(b);return null!=a?String(a):""}function Kf(a,b){a=a.get(b);return null!=a?Object(a):{}};function J(){return Gf.ua()};function Lf(a){y(this,a,0,-1,null)}t(Lf,x);Lf.prototype.na=function(){return A(this,12)};function Mf(a){y(this,a,0,-1,null)}t(Mf,x);function Nf(a,b){var c=a.va();Ba(c)||(c=[c]);c.push(b);Cf(a,"keys",c)}function Of(a){var b="Ctrl+"+(cf?"Meta+":"Alt+");Da(void 0)&&(b+="undefined+");for(var c="",d=0;d<a.length;d++)c+=b+a[d]+(d<a.length-1?" ":"");return c}function Pf(a,b){return"docs-icon-img docs-icon-"+a+(b?"-rtl":"")}function Qf(){return null};function Rf(a,b,c){this.v=a;this.o=b||null;this.j={};this.A=!!c}Rf.prototype.g=function(a,b){this.j[a]=b;return this};function K(a){var b;b=a.j;"label"in b||(b.label="");b=a.j;"hint"in b||(b.hint=a.j.label);b=a.j;"visible"in b||(b.visible=!0);b=new Af(a.v,a.j);a.o&&a.o(b);return b}function Sf(a,b){return a.g("docs-action-data-extractor",b).g("docs-action-data-extractor-requires-data",void 0)}Rf.prototype.enabled=function(a){return this.g("enabled",a)};function Tf(a,b){return a.g("hint",b)}
function L(a,b){b=Pf(b,a.A&&void 0);return a.g("icon",b)}function M(a,b){return a.g("docs-impression-code",b)}Rf.prototype.keys=function(a){return this.g("keys",a)};function N(a,b){return a.g("label",b)}function Uf(a,b){return a.g("long-label",b)}function O(a,b){return a.g("synonyms",b)}function P(a,b){return a.g("category",b)}Rf.prototype.value=function(a){return this.g("value",a)};function Vf(a){return a.g("force-ctrl-key",!0)};var Wf=!1;
function Xf(){function a(a,c,d,e,f){return K(P(M(Vf(N(new Rf(a),c).value(e)).keys((cf?"Ctrl+Alt+":"Alt+Shift+")+d),f),"Menus"))}Yf=a("docs-menubar-file-focus","File menu","F",Q.mh.getId(),307);Zf=a("docs-menubar-edit-focus","Edit menu","E",Q.ih.getId(),306);$f=a("docs-menubar-view-focus","View menu","V",Q.ui.getId(),314);ag=a("docs-menubar-insert-focus","Insert menu","I",Q.vh.getId(),310);bg=a("docs-menubar-help-focus","Help menu","H",Q.rh.getId(),309);cg=a("docs-menubar-screenreader-focus","Accessibility menu",
"A",Q.af.getId(),1279);dg=a("docs-menubar-tools-focus","Tools menu","T",Q.li.getId(),313);eg=a("docs-menubar-table-focus","Table menu","B",Q.gi.getId(),312);fg=a("docs-menubar-format-focus","Format menu","O",Q.qh.getId(),308);gg=a("docs-menubar-extensions-focus","Add-ons menu","N",Q.Ah.getId(),1058);jc&&!cf&&(Nf(Yf,"Alt+F"),Nf(Zf,"Alt+E"),Nf($f,"Alt+V"),Nf(ag,"Alt+I"),Nf(bg,"Alt+H"),Nf(dg,"Alt+T"),Nf(eg,"Alt+B"),Nf(fg,"Alt+O"),Nf(gg,"Alt+N"),Nf(cg,"Alt+A"))}var Q={},Yf,Zf,$f,ag,bg,cg,dg,eg,fg,gg;
(function(){function a(a){return new Rf(a)}function b(a){var b=new Lf;Da(a)&&B(b,11,a);return b}function c(a,b,c,d,e){a=M(N(new Rf(a),b),c);null!=d&&a.keys(d);null!=e&&L(a,e);return K(a)}var d=cf?"Ctrl+Alt+Z":jc?"Alt+Z":"Alt+Shift+Z";Q.Vl=K(P(Uf(M(N(a("docs-chrome-focus"),"Move to top of application"),668),"Move focus out of editing area").keys(["Ctrl+Alt+Shift+M"]),"Navigation"));Q.wp=c("docs-menu-bar","",59);Q.Ws=c("docs-tool-bar","",347);Q.dm=c("docs-context-menu","",172);Q.em=K(P(M(N(a("docs-context-menu-shortcut"),
"Context menu"),173).keys(["Ctrl+Shift+\\","Ctrl+Shift+X"]),"Menus"));Q.Xp=c("docs-new-menu","New",65);Q.Tp=K(O(Uf(L(M(N(a("docs-document"),"Document"),61),"document"),"New document"),"create | write | word | pages |"));Q.Yp=K(O(Uf(L(M(N(a("docs-presentation"),"Presentation"),66),"punch"),"New presentation"),"create | new slides | powerpoint | keynote |"));Q.aq=K(O(Uf(L(M(N(a("docs-spreadsheet"),"Spreadsheet"),68),"spreadsheet"),"New spreadsheet"),"create | new workbook | excel | numbers |"));Q.Vp=
K(O(Uf(L(M(N(a("docs-form"),"Form"),63),"form"),"New form"),"create | new survey | poll | question |"));Q.Up=K(O(Uf(L(M(N(a("docs-drawing"),"Drawing"),62),"drawing"),"New drawing"),"create new picture | new image | visio | diagram | chart"));Q.$p=K(O(Uf(L(M(N(a("docs-script"),"Script"),690),"script"),"New script"),"create | automate | macro | extension | plugin"));Q.Qp=K(O(Uf(L(M(N(a("docs-atari"),"Site"),2351),"site"),"New Site"),"create | website | url | web page | site"));Q.Wp=K(O(Uf(M(N(a("docs-template"),
"From template..."),64),"New document from template..."),"create | template | resume | letter |"));Q.Rp=c("docs-new-custom","",60);Q.dn=c("docs-download-menu","Download as",18);Q.mh=c("docs-file-menu","",24);Q.lh=K(M(L(N(a("docs-export-disabled"),"Export options disabled..."),"help"),2188));Q.Bn=c("docs-file-custom","",373);Q.OPEN=K(P(O(M(N(a("docs-open"),"Open..."),73).keys("Ctrl+O"),"find | document | search ||"),"File commands"));Q.pq=c("docs-open-custom","",344);Q.gt=c("docs-upload-custom","",
115);Q.et=c("docs-upload","Upload...",114);Q.er=c("docs-revisions-custom","",90);Q.Kq=K(O(M(N(a("docs-rename"),"Rename..."),84),"save as | save a copy | save | title |"));Q.hh=K(P(O(M(N(a("docs-edit-description"),"Edit description..."),20).keys("Ctrl+Shift+E"),"change | describe |||"),"Editing"));Q.vp=K(O(M(N(a("docs-make-copy"),"Make a copy..."),58),"save as | save | save a copy | copy to |"));Q.mi=K(O(L(M(N(a("docs-trash"),"Move to trash"),765),"trash"),"trash | delete | remove ||"));Q.Fr=K(P(L(M(N(a("docs-save"),
"Save"),97).keys("Ctrl+S"),"save"),"File commands"));Q.Xh=K(M(Tf(N(a("docs-show-new-changes"),"See new changes"),"See changes since you last viewed this document"),1885));Q.Yh=K(M(a("docs-show-new-changes-sidebar"),2223));Q.$h=K(M(Tf(N(a("docs-show-unseen-new-changes"),"See new changes"),"See changes since you last viewed this document"),2109));Q.Eh=K(M(a("docs-new-changes-mode"),2194));Q.cm=K(M(a("docs-close-new-changes"),2193));Q.ai=K(M(Tf(N(a("docs-show-v0"),"View original document"),"View original document"),
2561));Q.en=K(M(Tf(N(a("docs-download-v0"),"Download original document"),"Download original document"),29240).g("docs-diagnostics-data-translator",Qf));Q.es=c("docs-speak-copy-selection","",663);Q.yq=c("docs-custom-inline","",79);Q.zq=K(O(M(N(a("docs-print-preview"),"Print preview"),80),"printer ||||"));Q.Bq=K(M(a("docs-print-preview-mode"),2254));Q.Kh=K(M(a("docs-print-preview-sidebar"),2224));Q.Aq=c("docs-print-preview-close","",81);Q.xq=K(P(O(L(M(N(a("docs-print"),"Print"),78).keys("Ctrl+P"),"print"),
"printer ||||"),"File commands"));Q.bf=K(O(L(M(N(a("docs-star"),"Star"),102),"star"),"favorite ||||"));Q.cf=c("docs-subscribe","Subscribe",104,null,"subscribe");Q.Vh=K(O(M(N(a("docs-share"),"Share..."),101),"people ||||"));Q.Zg=c("docs-collections","Move to folder...",11,null,"folder-solid");Q.Gh=K(O(L(M(N(a("docs-organize"),"Move to..."),74),"folder-solid"),"organize | folders | Drive | move to | collection"));Q.Lh=K(O(M(N(a("docs-publish"),"Publish to the web..."),82),"send | webpage |||"));Q.Cq=
c("docs-publish-custom","",571);Q.Ph=K(O(M(N(a("docs-report-abuse"),"Report abuse/copyright "),87),"Report issue | error |||"));Q.uq=K(O(M(N(a("docs-page-setup"),"Page setup..."),267),"orientation | landscape | portrait | margins | letter"));Q.Zm=K(O(M(N(a("docs-doc-details"),"Document details..."),2532),"details | information | info | about |"));Q.ih=c("docs-edit-menu","Edit",22);Q.$g=K(P(O(L(M(N(a("docs-copy"),"Copy"),12).keys("Ctrl+C"),"copy"),"Copy selection ||||"),"Editing"));Q.gm=c("docs-copypaste-custom",
"",13);Q.ah=K(P(O(L(M(N(a("docs-cut"),"Cut"),14).keys("Ctrl+X"),"cut"),"Cut selection ||||"),"Editing"));Q.fn=c("docs-edit-custom","",19);Q.Hh=K(P(O(L(M(N(a("docs-paste"),"Paste"),76).keys("Ctrl+V"),"paste"),"Paste selection ||||"),"Editing"));Q.Ih=K(P(L(M(N(a("docs-paste-without-formatting"),"Paste without formatting"),2462).keys("Ctrl+Shift+V"),"paste-without-formatting"),"Editing"));Q.Mh=K(P(O(L(M(N(a("docs-redo"),"Redo"),83).keys(["Ctrl+Y","Ctrl+Shift+Z"]),"redo"),"redo edit ||||"),"Editing"));
Q.as=K(P(O(M(N(a("docs-select-all"),"Select all"),99).keys("Ctrl+A"),"select everything ||||"),"Selection"));Q.Th=K(P(O(M(N(a("docs-select-none"),"Select none"),100).keys("Ctrl+Shift+A"),"deselect || unselect ||"),"Selection"));Q.pi=K(P(O(L(M(N(a("docs-undo"),"Undo"),113).keys("Ctrl+Z"),"undo"),"undo edit ||||"),"Editing"));Q.Gn=c("docs-find-next","",29,["Ctrl+G","F3"]);Q.Hn=c("docs-find-previous","",30,["Ctrl+Shift+G","Shift+F3"]);Q.In=K(P(O(M(N(a("docs-find-start"),"Find..."),31).keys("Ctrl+F"),
"search | locate |||"),"Editing"));Q.Dn=c("docs-find","",26);Q.En=K(P(O(M(N(a("docs-find-and-replace-start"),"Find and replace..."),27).keys((cf?"Meta+Shift":"Ctrl")+"+H"),"search | locate |||"),"Editing"));Q.Fn=c("docs-find-and-replace-stop","",28);Q.REPLACE=c("docs-replace","",85);Q.Lq=c("docs-replace-all","",86);Q.fq=K(P(M(N(a("docs-nudge-image-down"),"Nudge image down"),1114).keys("Down"),"With objects"));Q.gq=K(P(M(N(a("docs-nudge-image-left"),"Nudge image left"),1115).keys("Left"),"With objects"));
Q.lq=K(P(M(N(a("docs-nudge-image-right"),"Nudge image right"),1120).keys("Right"),"With objects"));Q.mq=K(P(M(N(a("docs-nudge-image-up"),"Nudge image up"),1121).keys("Up"),"With objects"));Q.hq=K(P(M(N(a("docs-nudge-image-pixel-down"),"Nudge image down by a pixel"),1116).keys("Shift+Down"),"With objects"));Q.iq=K(P(M(N(a("docs-nudge-image-pixel-left"),"Nudge image left by a pixel"),1117).keys("Shift+Left"),"With objects"));Q.jq=K(P(M(N(a("docs-nudge-image-pixel-right"),"Nudge image right by a pixel"),
1118).keys("Shift+Right"),"With objects"));Q.kq=K(P(M(N(a("docs-nudge-image-pixel-up"),"Nudge image up by a pixel"),1119).keys("Shift+Up"),"With objects"));Q.tr=c("docs-rotate","",1136);Q.Er=c("docs-rotate-menu","Rotate",535);Q.xr=K(P(M(N(a("docs-rotate-cw"),"Rotate clockwise by 15\u00b0"),1077).keys("Alt+Right"),"With objects"));Q.yr=K(P(M(N(a("docs-rotate-cw-1"),"Rotate clockwise by 1\u00b0"),1078).keys("Alt+Shift+Right"),"With objects"));Q.zr=K(O(M(N(a("docs-rotate-cw-90"),"Rotate clockwise 90\u00b0"),
537),"turn | pivot | clockwise | spin |"));Q.ur=K(P(M(N(a("docs-rotate-ccw"),"Rotate counter-clockwise by 15\u00b0"),1079).keys("Alt+Left"),"With objects"));Q.vr=K(P(M(N(a("docs-rotate-ccw-1"),"Rotate counter-clockwise by 1\u00b0"),1080).keys("Alt+Shift+Left"),"With objects"));Q.wr=K(O(M(N(a("docs-rotate-ccw-90"),"Rotate counter-clockwise 90\u00b0"),536),"turn | pivot | counterclockwise | spin |"));Q.Cr=K(P(M(N(a("docs-rotate-image-cw"),"Rotate image clockwise by 15\u00b0"),1130).keys("Alt+Right"),
"With objects"));Q.Dr=K(P(M(N(a("docs-rotate-image-cw-1"),"Rotate image clockwise by 1\u00b0"),1131).keys("Alt+Shift+Right"),"With objects"));Q.Ar=K(P(M(N(a("docs-rotate-image-ccw"),"Rotate image counter-clockwise by 15\u00b0"),1132).keys("Alt+Left"),"With objects"));Q.Br=K(P(M(N(a("docs-rotate-image-ccw-1"),"Rotate image counter-clockwise by 1\u00b0"),1133).keys("Alt+Shift+Left"),"With objects"));Q.vh=c("docs-insert-menu","Insert",46);Q.ro=K(M(a("docs-insert-date-and-time"),1038));Q.to=K(O(Tf(M(N(a("docs-insert-date-and-time-dialog"),
"Date & time"),1037),"Insert date and time"),"insert date and time | insert date | insert time | insert day |"));Q.vo=K(O(Uf(L(M(N(a("docs-image"),"Image..."),43),"image-type"),"Insert image..."),"photo | picture | add a photo | add a picture | add an image"));Q.wo=K(M(a("docs-insert-image-blob"),1704));Q.Bo=K(O(L(M(N(a("docs-shape"),"Shape"),47),"shapes"),"drawing | diagram |||"));Q.Co=K(O(Uf(L(M(N(a("docs-special-character"),"Special characters..."),48),"special-character"),"Insert special characters..."),
"symbol | add a symbol | add symbols ||"));Q.Do=K(O(Uf(L(M(N(a("docs-text-box"),"Text box"),49),"textbox"),"Insert text box"),"area | add |||"));Q.Po=K(O(Uf(L(M(N(a("docs-video"),"Video..."),50),"video"),"Insert video..."),"movie | youtube | add ||"));Q.po=K(L(M(N(a("docs-insert-chart-menu"),"Chart"),29191),"chart"));Q.oo=K(L(M(N(a("docs-insert-chart"),"From Sheets..."),29151),"spreadsheet"));Q.no=K(L(M(N(a("docs-insert-bar-chart"),"Bar"),29187),"bar-chart"));Q.qo=K(L(M(N(a("docs-insert-column-chart"),
"Column"),29188),"column-chart"));Q.xo=K(L(M(N(a("docs-insert-line-chart"),"Line"),29189),"line-chart"));Q.Ao=K(L(M(N(a("docs-insert-pie-chart"),"Pie"),29190),"pie-chart"));Q.hm=K(P(L(M(N(a("docs-copy-format"),"Copy formatting"),174).keys("Ctrl+Alt+C"),"textbox"),"Editing"));Q.wq=K(P(M(N(a("docs-paste-format"),"Paste formatting"),271).keys("Ctrl+Alt+V"),"Editing"));Q.qh=c("docs-format-menu","Format",34);Q.Xg=K(P(O(L(M(N(a("docs-bold"),"Bold"),2).keys("Ctrl+B"),"bold"),"strong | dark |||"),"Text formatting"));
Q.dd=K(Sf(M(N(a("docs-font-family"),"Font"),32),function(a){var b=new Lf;Da(a)&&B(b,12,a);return b}));Q.jn=K(O(M(N(a("docs-edit-font-family"),"Get fonts..."),21),"Get fonts ||||"));Q.Mn=K(O(Sf(M(N(a("docs-font-size"),"Font size"),33),function(a){var b=new Lf;Ea(a)&&B(b,9,a);return b}),"point | px | pt | change font size | set font size"));Q.Pn=K(M(N(a("docs-font-size-menu"),"Font size"),2235));Q.On=K(O(M(N(a("docs-font-size-increment"),"Increase font size"),2236).keys("Ctrl+Shift+."),"bigger | make the font bigger | make bigger | make it bigger |"));
Q.Nn=K(O(M(N(a("docs-font-size-decrement"),"Decrease font size"),2237).keys("Ctrl+Shift+,"),"smaller | make the font smaller | make smaller | make it smaller |"));Q.xh=K(P(O(L(M(N(a("docs-italic"),"Italic"),51).keys("Ctrl+I"),"italic"),"emphasis | emphasized | italicize ||"),"Text formatting"));Q.ws=K(P(O(L(M(N(a("docs-strikethrough"),"Strikethrough"),103).keys("Alt+Shift+5"),"strikethrough"),"strike-through | strikethrough |||"),"Text formatting"));Q.xs=K(P(O(L(M(N(a("docs-subscript"),"Subscript"),
105).keys("Ctrl+,"),"subscript"),"sub script | sub-script | apply subscript ||"),"Text formatting"));Q.ys=K(P(O(L(M(N(a("docs-superscript"),"Superscript"),106).keys("Ctrl+."),"superscript"),"super script | super-script | exponent | apply superscript |"),"Text formatting"));Q.Rl=c("docs-border-color","Border color",363);Q.Sl=c("docs-border-style","Border style",372);Q.Os=K(O(Sf(L(M(N(a("docs-text-bgcolor"),"Text background color"),108),"text-bgcolor"),function(a){var b=new Lf;Da(a)&&(a=new Mf([a]),
D(b,3,a));return b}),"highlight | background color |||"));Q.eq=c("docs-no-text-bgcolor","Transparent",680,null,"no-color");Q.Ps=c("docs-text-color","Text color",374);Q.Qs=K(Sf(L(M(O(N(a("docs-text-fgcolor"),"Text color"),"Font color ||||"),109),"text-color"),function(a){var b=new Lf;Da(a)&&(a=new Mf([a]),D(b,4,a));return b}));Q.oi=K(P(L(M(N(a("docs-underline"),"Underline"),112).keys("Ctrl+U"),"underline"),"Text formatting"));Q.bq=c("docs-no-fill","Transparent",69,null,"no-color");Q.cq=c("docs-no-line",
"Transparent",70,null,"no-color");Q.Cn=c("docs-fill-color","Fill color",25,null,"fill-color");Q.Ro=c("docs-line-color","Line color",52,null,"line-color");Q.To=c("docs-line-menu","Lines",1171);Q.LINE_WIDTH=K(O(L(M(N(a("docs-line-width"),"Line weight"),53),"line-width"),"thickness | width |||"));Q.So=K(O(L(M(N(a("docs-line-dashing"),"Line dash"),508),"line-type"),"border style | line style | dotted line | stroke style |"));Q.vq=K(L(M(N(a("docs-paint-format"),"Paint format"),75),"paint-format"));Q.Wl=
K(P(O(L(Tf(M(N(a("docs-clear-formatting"),"Clear formatting"),5),"Clear formatting").keys(["Ctrl+\\","Ctrl+Space"]),"clear-formatting"),"remove formatting ||||"),"Text formatting"));Q.rq=K(P(M(N(a("docs-open-link"),"Open link"),356).keys("Alt+Enter"),"Editing"));Q.rm=K(M(O(N(a("docs-delete-link"),"Remove link"),"delete link ||||"),15));Q.yo=K(O(Uf(M(a("docs-insert-link"),44),"Insert link..."),"url | web site | address | web page | add a hyperlink"));Q.zo=K(P(O(Uf(L(Tf(M(N(a("docs-insert-link-dialog"),
"Link..."),45),"Insert link...").keys("Ctrl+K"),"link"),"Insert link..."),"url | web site | address | web page | add a hyperlink"),"Editing"));Q.im=K(M(O(N(a("docs-copy-link"),"Copy link URL"),"copy link ||||"),362));Q.Jn=K(Vf(M(a("docs-focus-bubble"),659).keys(Of(["E","P"]))));Q.ui=c("docs-view-menu","",118);Q.ht=c("docs-view-custom","",117);Q.zt=K(P(O(M(N(a("docs-zoom-in"),"Zoom in"),119).keys(["Ctrl+Alt+Num-Plus","Ctrl+Alt+Equals"]),"increase | bigger | enlarge | magnify |"),"Navigation"));Q.At=
K(P(O(M(N(a("docs-zoom-out"),"Zoom out"),120).keys(["Ctrl+Alt+Num-Minus","Ctrl+Alt+Dash"]),"decrease | smaller |||"),"Navigation"));Q.ti=K(P(Vf(O(M(N(a("docs-view-compact"),"Compact controls"),116).keys("Ctrl+Shift+F"),"exit | leave |||")),"Navigation"));Q.uh=K(O(M(N(a("docs-hide-controls"),"Full screen"),42),"exit | leave |||"));Q.Ss=K(P(M(N(a("docs-toggle-screenreader"),"Toggle screen reader support"),23).keys(["Ctrl+Alt+Z","Alt+Shift+`"]),"Screen reader support"));Q.ln=c("docs-enable-braille",
"Enable Braille support",1271);Q.Np=K(O(M(N(a("docs-mute_collaborators"),"Turn off collaborator announcements"),29251),"silence collaborators | mute collaborators |||").g("selected",!1));var e=cf?"Meta":"Alt";Q.hs=K(P(Vf(M(N(a("docs-speak-selection"),"Speak selection"),338).keys("Ctrl+"+e+"+X")),"Screen reader support"));Q.ks=K(P(Vf(M(O(N(a("docs-speak-selection-formatting"),"Speak selection formatting"),"speak formatting ||||"),660).keys(Of(["A","F"]))),"Screen reader support"));Q.gs=K(P(Vf(M(O(N(a("docs-speak-remaining-section"),
"Speak from cursor location"),"speak from here | speak from location |||"),1218).keys(e+"+Ctrl+R")),"Screen reader support"));Q.li=c("docs-tools-menu","",111);Q.Ts=c("docs-tools-custom","",110);Q.Us=c("docs-macros-extensions","",775);Q.Vs=c("docs-tools-top-custom","",721);Q.Jh=K(O(M(N(a("docs-preferences"),"Preferences..."),77),"options | settings | configurations ||"));var f=P(O(Uf(Tf(M(N(a("docs-tools-define"),"Define"),290),"Define word"),"Define word"),"dictionary | look up | lookup | |"),"Editing"),
g=Hf(J(),"docs-explore");g||f.keys("Ctrl+Shift+Y");Q.ki=K(f);f=P(O(M(N(a("docs-reference-menu"),"Research"),315),"reference | search | lookup | look up |"),"Navigation");g||f.keys("Ctrl+Alt+Shift+I");Q.Nh=K(f);Q.Oh=c("docs-reference-sidebar","",316);Q.Hq=c("docs-reference-insert-text","",318);Q.Eq=c("docs-reference-insert-image","",317);Q.Fq=c("docs-reference-insert-image-placeholder","",350);Q.Gq=c("docs-reference-insert-link","",339);Q.fh=c("docs-dictionary-sidebar","",29211);f=P(O(Uf(Tf(M(N(a("docs-dictionary-sidebar-focus"),
"Define"),29212),"Define word"),"Define word"),"dictionary | look up | lookup | |"),"Editing");g&&f.keys("Ctrl+Shift+Y");Q.xm=K(f);Q.vm=c("docs-dictionary-close","",29214);Q.wm=c("docs-dictionary-search","",29335);Q.kh=c("docs-explore-sidebar","",2558);f=P(O(M(L(N(a("docs-explore-menu"),"Explore"),"explore-black-padded"),2557),"explore | search | lookup | look up |"),"Navigation");g&&f.keys("Ctrl+Alt+Shift+I");Q.xn=K(f);Q.An=c("docs-explore-widget","",29275);Q.on=c("docs-explore-close","",2609);Q.un=
c("docs-explore-refresh-nuggets","",2612);Q.vn=c("docs-explore-search","",2613);Q.qn=c("docs-explore-preview-image","",29205);Q.wn=c("docs-explore-show-more","",2610);Q.yn=c("docs-explore-suggested-content-available","",29201);Q.zn=c("docs-explore-suggested-content-not-available","",29202);Q.pn=c("docs-explore-feedback","",29224);Q.tn=c("docs-explore-promo-show","",29281);Q.rn=c("docs-explore-promo-continue","",29279);Q.sn=c("docs-explore-promo-dismiss","",29280);Q.Mr=c("docs-scratchpad-sidebar",
"",29215);Q.Jr=K(L(M(N(a("docs-scratchpad-open"),"Keep notepad"),29216),"keep-lightbulb"));Q.Gr=c("docs-scratchpad-close","",29217);Q.Hr=c("docs-scratchpad-focus","",29218);Q.Kr=K(L(M(N(a("docs-scratchpad-save"),"Save to Keep notepad"),29219),"keep-lightbulb"));Q.Lr=K(L(M(N(a("docs-scratchpad-save-link"),"Save to Keep notepad"),29308),"keep-lightbulb"));Q.Ir=c("docs-scratchpad-insert","",29241);Q.Ko=K(M(N(a("docs-insert-tool-open"),"Research"),1899));Q.Lo=K(M(a("docs-insert-tool-open-image-search"),
2211));Q.Mo=K(M(a("docs-insert-tool-open-web"),2191));Q.Fo=c("docs-insert-tool-insert-citation","",29298);Q.Jo=K(M(a("docs-insert-tool-insert-text"),1943));Q.Go=c("docs-insert-tool-insert-image","",2200);Q.Io=c("docs-insert-tool-insert-image-placeholder","",29270);Q.Ho=K(M(a("docs-insert-tool-insert-image-blob"),29262));Q.Eo=K(M(a("docs-insert-tool-copy"),2598));Q.No=K(M(a("docs-insert-tool-paste"),2599));Q.Oo=K(M(a("docs-insert-tool-search"),2192));Q.As=K(O(M(N(a("docs-table-delete"),"Delete table"),
1258),"remove table ||||"));Q.Bs=K(O(M(N(a("docs-table-delete-column"),"Delete column"),1259),"remove column ||||"));Q.Cs=K(O(M(N(a("docs-table-delete-row"),"Delete row"),1260),"remove row ||||"));Q.Ds=K(O(N(M(a("docs-table-distribute-columns"),717),"Distribute columns"),"even | equal | same size | width |"));Q.Es=K(O(N(M(a("docs-table-distribute-rows"),718),"Distribute rows"),"even | equal | same size | height |"));Q.fi=K(Sf(M(N(a("docs-table-insert"),"Insert table"),1261),function(a){var b=new Lf;
Ea(a.width)&&Ea(a.height)&&(B(b,13,a.width),B(b,14,a.height));return b}));Cf(Q.fi,"value",new Ne(0,0));Q.Fs=K(O(M(N(a("docs-table-insert-column-left"),"Insert column left"),1262),"add column left | insert new column left | add new column left ||"));Q.Gs=K(O(M(N(a("docs-table-insert-column-right"),"Insert column right"),1263),"add column right | insert new column right | add new column right | insert column | insert new column"));Q.Hs=K(M(N(a("docs-table-insert-menu"),"Table"),1264));Q.Is=K(O(M(N(a("docs-table-insert-row-above"),
"Insert row above"),1266),"add row above | insert new row above | add new row above ||"));Q.Js=K(O(M(N(a("docs-table-insert-row-below"),"Insert row below"),1267),"add row below | insert new row below | add new row below | insert row | insert new row"));Q.xp=K(M(a("docs-mobile-ui-table-insert-column-left"),1946));Q.yp=K(M(a("docs-mobile-ui-table-insert-column-right"),1947));Q.zp=K(M(a("docs-mobile-ui-table-insert-row-above"),1948));Q.Ap=K(M(a("docs-mobile-ui-table-insert-row-below"),1949));Q.Ks=c("docs-table-insert-table-menu",
"Insert table",1265);Q.gi=c("docs-table-menu","Table",107);Q.Ls=K(O(M(N(a("docs-table-merge-cells"),"Merge cells"),1268),"combine ||||"));Q.Ns=K(O(M(N(a("docs-table-unmerge-cells"),"Unmerge cells"),1269),"separate | split |||"));Q.Ms=K(P(O(M(N(a("docs-table-select-borders"),"Select table borders"),446),"select borders ||||"),"Selection"));Q.rh=c("docs-help-menu","",40);Q.Sn=K(O(M(N(a("docs-help-center"),"Help Center"),35),"help forum | user forum | discussion forum ||"));Q.Wn=K(P(O(Uf(M(N(a("docs-help-shortcuts"),
"Keyboard shortcuts"),41).keys("Ctrl+/"),"See keyboard shortcuts"),"hotkeys ||||"),"Navigation"));Q.Un=K(O(M(N(a("docs-feedback"),"Report a problem"),37),"Problem | error | feedback ||"));Q.Qn=K(O(M(N(a("docs-google-help"),"Get help with..."),580),"Problem | help |||"));Q.Tn=c("docs-help-custom","",36);Q.af=K(M(a("docs-screenreader-menu"),1278));Q.$r=K(M(a("docs-screenreader-menu-toolbar"),2195));Q.Yr=c("docs-screenreader-speak-menu","Speak",1317);Q.Nr=c("docs-screenreader-comments-menu","Comments",
1368);Q.Or=c("docs-screenreader-edits-menu","Edits",2337);Q.Pr=c("docs-screenreader-footnote-menu","Footnote",1369);Q.Sr=c("docs-screenreader-headings-menu","Headings",1378);Q.Rr=c("docs-screenreader-graphics-menu","Graphics",1371);Q.Ur=c("docs-screenreader-list-menu","List",1377);Q.Tr=c("docs-screenreader-link-menu","Link",1373);Q.Zr=c("docs-screenreader-table-menu","Table",1374);Q.Wr=c("docs-screenreader-misspelling-menu","Misspelling",1375);Q.Qr=c("docs-screenreader-formatting-menu","Formatting",
1376);Q.Xr=c("docs-screenreader-settings-menu","Settings",1372);Q.Vr=c("docs-screenreader-menu-custom-items","",1284);Q.Yl=c("docs-clipboard","Web clipboard",6,null,"clipboard");Q.$l=K(L(M(a("docs-clipboard-copy"),8),"copy"));Q.bm=K(L(M(N(a("docs-clipboard-paste-from-server"),"Paste from server"),10),"paste"));Q.Zl=K(O(M(N(a("docs-clipboard-clear-items"),"Clear all items"),7),"remove | delete |||"));Q.am=K(O(M(N(a("docs-clipboard-help"),"Web clipboard help"),9),"assist | support |||"));Q.rr=c("docs-revisions-zoomin",
"Zoom in",95);Q.sr=c("docs-revisions-zoomout","Zoom out",96);Q.nr=c("docs-revisions-revert","",92);Q.ir=K(M(a("docs-revisions-mode"),1956));Q.or=c("docs-revisions-show","",93);Q.pr=K(M(Tf(a("docs-revisions-show-revert-dialog"),"Restore this revision"),29319));Q.dr=c("docs-revisions-close","",89);Q.Rh=c("docs-revisions-sidebar","",94);Q.fr=c("docs-revisions-diff","",91);Q.hr=c("docs-revisions-load-details","",29299);Q.qr=c("docs-revisions-toggle-name-filter","",29336);Q.gr=K(P(O(M(N(a("docs-revisions-focus"),
"See revision history"),346).keys("Ctrl+Alt+Shift+H"),"revisions history | revert old changes | undo previous changes | fix | prior versions"),"Navigation"));Q.kr=K(P(Vf(O(M(Tf(N(a("docs-revisions-move-to-change-next"),"Move to next edit"),"Next edit"),1060).keys(["Ctrl+Alt+K",Of(["N","R"])]),"move to next edit in revision history | move to next change |||")),"Navigation"));Q.lr=K(P(Vf(O(M(Tf(N(a("docs-revisions-move-to-change-previous"),"Move to previous edit"),"Previous edit"),1061).keys(["Ctrl+Alt+J",
Of(["P","R"])]),"move to previous edit in revision history | move to previous change |||")),"Navigation"));Q.jr=K(M(a("docs-revisions-modify-name"),29323));Q.mr=K(M(N(a("docs-revisions-name-menu"),"Named revisions menu"),29329));Q.Yg=c("docs-chat-sidebar","",4);Q.Ul=K(P(O(M(N(a("docs-chat-focus"),"Chat"),3).keys("Shift+Esc"),"Chat ||||"),"Navigation"));Q.tm=c("docs-details-close","",353);Q.eh=c("docs-details-sidebar","",355);Q.um=c("docs-details-focus","",354);Q.nq=K(Vf(N(Tf(M(a("docs-omnibox"),71),
"Search the menus"),"Search the menus").keys(["Alt+/",d])));Q.Vn=c("docs-help-omnibox","",750);Q.Rn=c("docs-hats-focus","",1007,"Ctrl+Alt+Shift+D");Q.Km=K(P(O(Uf(L(Tf(M(N(a("docs-docos-insert-discussion"),"Comment"),17),"Add comment").keys("Ctrl+Alt+M"),"comment"),"Add comment"),"Add comment ||||"),"Comments"));Q.Mm=K(O(M(N(a("docs-docos-insert-posted-discussion"),"Comment"),29260),"Add comment | Insert comment |||"));Q.Gm=c("docs-docos-delete-discussion","Delete",16);Q.Cm=K(P(O(Uf(L(Tf(M(N(a("docs-docos-activity-box"),
"Open comments thread"),625),"Open comments thread").keys("Ctrl+Alt+Shift+A"),"comment"),"Open comments thread..."),"Open comments thread | Open discussions thread | Open comments activity box ||"),"Comments"));Q.Am=K(O(M(N(a("docs-docos-accept-all-suggestions"),"Accept all suggestions"),29327),"Apply recommendations | Batch accept |||"));Q.Sm=K(O(M(N(a("docs-docos-reject-all-suggestions"),"Reject all suggestions"),29328),"Dismiss recommendations | Delete recommendations | Batch reject ||"));Q.Jm=
K(O(M(N(a("docs-docos-highlight-suggestions"),"Highlight suggestions"),29340),"Show recommendations | View recommendations |||"));Q.Qm=K(O(M(N(a("docs-docos-preview-accept-all-suggestions"),'Preview "Accept all" suggestions'),29338),"Show recommendations | Preview batch applied suggestions |||"));Q.Rm=K(O(M(N(a("docs-docos-preview-reject-all-suggestions"),'Preview "Reject All" suggestions'),29339),"Preview dismiss recommendations | Show deleted recommendations | Preview batch reject ||"));Q.Bm=c("docs-docos-accept-suggestion",
"",670);Q.Im=c("docos-delete-suggestion","",768);Q.Nm=K(P(Vf(M(N(a("docs-docos-move-into-discussion"),"Enter current comment"),235).keys(Of(["E","C"]))),"Comments"));Q.Xm=K(P(M(N(a("docs-docos-view-discussion"),"View comment"),2356),"Comments"));Q.Wm=K(P(M(N(a("docs-docos-view-comment"),"View comment"),29257),"Comments"));Q.Ym=K(P(M(N(a("docs-docos-view-suggestion"),"View suggestion"),29258),"Comments"));Q.Om=K(P(Vf(O(M(N(a("docs-docos-move-to-discussion-next"),"Move to next comment"),238).keys(Of(["N",
"C"])),"Go to next comment ||||")),"Comments"));Q.Pm=K(P(Vf(O(M(N(a("docs-docos-move-to-discussion-previous"),"Move to previous comment"),239).keys(Of(["P","C"])),"Go to previous comment ||||")),"Comments"));Q.Um=c("docs-docos-reject-suggestion","",671);Q.Lm=K(P(M(a("docs-docos-insert-instant-doco"),17),"Comments"));Q.Em=K(M(a("docs-docos-convert-smart-todo-to-discussion"),29208));Q.Fm=K(M(a("docs-docos-convert-smart-todo-to-draft"),29246));Q.Dm=K(M(a("docs-docos-convert-draft-to-discussion"),29245));
Q.zm=K(a("docs-docos-abort-smart-todo"));Q.Tm=K(M(a("docs-docos-reject-smart-todo"),29210));Q.Vm=K(M(a("docs-docos-set-smart-todo-feature-enabled"),29268));Q.Hm=K(M(a("docs-docos-delete-draft"),29247));Q.Kn=c("docs-focus-editor","",192);Q.ep=c("docs-macros-menu","",57);Q.bp=K(L(M(N(a("macros-insert"),"Script..."),55),"insert-script"));Q.cp=K(O(M(N(a("macros-manage"),"Script manager..."),56),"find scripts | browse scripts | load scripts ||"));Q.Vo=K(O(M(N(a("macros-editor"),"Script editor..."),54),
"edit scripts ||||"));Q.ap=c("macros-gallery","Script gallery...",349);Q.Wo=c("macros-exec","",337);Q.gp=c("macros-resume","",352);Q.Yo=c("macros-extension-disabled","",992);Q.Zo=c("macros-extension-help","Help",1081);Q.$o=c("macros-extension-menu-promo","",1145);Q.Xo=c("macros-extensions","Get add-ons...",664);Q.Ah=c("docs-extensions-menu","",1056);Q.Bh=c("macros-manage-extensions","Manage add-ons...",757);Q.hp=c("macros-toggle-extension-enabled","",778);Q.jp=c("macros-toggle-extension-enabled-in-all-docs",
"",1039);Q.fp=K(M(a("macros-polymorphic-item"),2452));Q.Uo=c("macros-application-focus","",692);Q.zh=c("macros-application-sidebar","",693);Q.kp=c("macros-trigger-0","",731,"Ctrl+Alt+Shift+0");Q.lp=c("macros-trigger-1","",732,"Ctrl+Alt+Shift+1");Q.mp=c("macros-trigger-2","",733,"Ctrl+Alt+Shift+2");Q.np=c("macros-trigger-3","",734,"Ctrl+Alt+Shift+3");Q.op=c("macros-trigger-4","",735,"Ctrl+Alt+Shift+4");Q.pp=c("macros-trigger-5","",736,"Ctrl+Alt+Shift+5");Q.qp=c("macros-trigger-6","",737,"Ctrl+Alt+Shift+6");
Q.rp=c("macros-trigger-7","",738,"Ctrl+Alt+Shift+7");Q.sp=c("macros-trigger-8","",739,"Ctrl+Alt+Shift+8");Q.up=c("macros-trigger-9","",740,"Ctrl+Alt+Shift+9");Q.gh=c("language-menu","Language",232);Q.Ll=K(Sf(M(a("apply-language-settings"),169),b));Q.Fh=c("docs-online","",348);Q.jh=c("embed-parent-focus","",358,"Ctrl+Shift+Esc");Q.Ml=c("docs-apply-similar-spellcheck-suggestion","",370);Q.Nl=c("docs-apply-spellcheck-suggestion","",121);Q.Ol=c("docs-apply-spellcheck-suggestion-no-focus","",375);Q.Zn=
c("docs-ignore-word","",130);Q.$n=c("docs-ignore-word-contextual","",371);Q.ao=c("docs-ignore-word-no-focus","",376);Q.os=c("docs-spellcheck-move-iterator-to-next","Next misspelling",729);Q.ps=c("docs-spellcheck-move-iterator-to-previous","Previous misspelling",730);Q.sq=c("docs-override-spellcheck-suggestion","",148);Q.fs=c("docs-speak-override-spellcheck-suggestion","",1301);Q.tq=c("docs-override-spellcheck-suggestion-no-focus","",377);Q.Jq=c("docs-remove-overridden-spellcheck-suggestion","",1236);
Q.ls=K(Tf(M(a("docs-spellcheck-change-menu"),707),"More change options"));Q.ms=K(Tf(M(a("docs-spellcheck-dictionary-menu"),1298),"More dictionary options"));Q.ns=K(Tf(M(a("docs-spellcheck-ignore-menu"),708),"More ignore options"));Q.Zh=K(O(M(N(a("docs-show-spellcheck-tool"),"Spelling..."),368),"misspelled | spellcheck |||"));Q.Xn=K(M(a("docs-highlight-current-misspelled-text"),2637));Q.Xl=K(M(a("docs-clear-misspelled-text-highlight"),2636));Q.Wh=K(O(Tf(M(N(a("docs-show-dictionary-tool"),"Personal dictionary..."),
1255),"Personal dictionary"),"misspelling | dictionary | correction | spellcheck |"));Q.Mp=c("docs-more-button","More",369);Q.Bp=K(Tf(M(a("docs-mode-switcher"),1090),"Mode"));Q.Fp=c("docs-mode-switcher-contextmenu","",1094);Q.Ch=c("docs-mode-switcher-viewmenu","Mode",1253);Q.Gp=K(Uf(L(M(a("docs-mode-switcher-edit"),1091),"mode-edit"),"Editing mode"));Q.Hp=K(L(M(N(a("docs-mode-switcher-edit-contextmenu"),"Return to editing"),1095),"mode-edit"));Q.Ip=K(P(M(N(a("docs-mode-switcher-edit-shortcut"),"Switch to editing"),
1233).keys("Ctrl+Alt+Shift+Z"),"Editing"));Q.Cp=K(Uf(L(M(a("docs-mode-switcher-comment"),1092),"mode-review"),"Suggesting mode"));Q.Dp=K(L(M(N(a("docs-mode-switcher-comment-contextmenu"),"Suggest edits"),1096),"mode-review"));Q.Ep=K(P(M(N(a("docs-mode-switcher-comment-shortcut"),"Switch to suggesting"),1232).keys("Ctrl+Alt+Shift+X"),"Editing"));Q.Jp=K(Uf(L(M(a("docs-mode-switcher-view"),1217),"mode-view"),"Viewing mode"));Q.Kp=K(P(M(N(a("docs-mode-switcher-view-shortcut"),"Switch to viewing"),1234).keys("Ctrl+Alt+Shift+C"),
"Editing"));Q.ji=K(O(Tf(M(a("docs-toggle-input-tools"),360),"Input tools").keys("Ctrl+Shift+K"),"Toggle input tools ||||"));Q.Sh=K(O(Tf(M(a("docs-input-tools-menu"),359),"Select input tools").keys("Ctrl+Alt+Shift+K"),"Input tool ||||"));Q.st=K(O(L(Tf(M(N(a("docs-voice-tools-show"),"Voice typing..."),697),"Voice typing"),"mic"),"voice | dictation | speech | speak | microphone"));Q.qt=K(P(Sf(O(M(N(a("docs-voice-recording"),"Start voice typing"),696).keys("Ctrl+Shift+S"),"voice | dictation | speech | speak | microphone"),
b),"Editing"));Q.ot=c("docs-voice-insert-spoken-text","",709);Q.mt=c("docs-voice-display-dotted-span","",710);Q.it=c("docs-voice-add-corrections-suggestions","",711);Q.lt=c("docs-voice-clear-corrections-suggestions","",712);Q.jt=K(Sf(M(a("docs-voice-apply-correction"),713),function(){return new Lf}));Q.pt=K(M(N(a("docs-voice-newline"),"newline"),2483));Q.tt=c("docs-voice-typing-language-menu","",2446);Q.kt=K(Sf(M(a("docs-voice-apply-voice-typing-language"),2447),b));Q.nt=K(O(M(N(a("docs-voice-help"),
"Voice typing help"),2535),"voice commands help | voice commands list | voice commands | see voice typing help | see all voice commands"));Q.rt=K(O(M(N(a("docs-voice-stop-listening"),"Stop listening"),29244),"stop dictating | stop voice typing | end listening | end dictating | end voice typing"));Q.Il=c("docs-alt-text","",681);Q.Jl=c("docs-alt-text-dialog","Alt text...",460);Q.Hl=c("docs-after-zoom","",1003);Q.ZOOM=K(Sf(M(N(a("docs-zoom"),"Zoom"),749),function(a){var b=new Lf;Ea(a)&&B(b,19,a);return b}));
Q.Bt=K(O(M(N(a("docs-zoom-to-fit"),"Fit"),490),"zoom ||||"));Q.jm=K(O(L(M(N(a("docs-crop-mode"),"Crop image"),970),"crop"),"resize | reshape | shrink | obscure |"));Q.km=c("docs-crop-mode-exit","",1055,"Enter");Q.Qq=K(P(Vf(M(N(a("docs-resize-image-larger"),"Resize image larger"),1138).keys("Ctrl+"+e+"+K")),"With objects"));Q.Rq=K(P(Vf(M(N(a("docs-resize-image-larger-x"),"Resize image larger horizontally"),1139).keys("Ctrl+"+e+"+B")),"With objects"));Q.Sq=K(P(Vf(M(N(a("docs-resize-image-larger-y"),
"Resize image larger vertically"),1140).keys("Ctrl+"+e+"+I")),"With objects"));Q.Tq=K(P(Vf(M(N(a("docs-resize-image-smaller"),"Resize image smaller"),1141).keys("Ctrl+"+e+"+J")),"With objects"));Q.Uq=K(P(Vf(M(N(a("docs-resize-image-smaller-x"),"Resize image smaller horizontally"),1142).keys("Ctrl+"+e+"+W")),"With objects"));Q.Vq=K(P(Vf(M(N(a("docs-resize-image-smaller-y"),"Resize image smaller vertically"),1143).keys("Ctrl+"+e+"+Q")),"With objects"));Q.Wq=K(P(Vf(M(N(a("docs-resize-larger"),"Resize larger"),
1102).keys("Ctrl+"+e+"+K")),"With objects"));Q.Xq=K(P(Vf(M(N(a("docs-resize-larger-x"),"Resize larger horizontally"),1101).keys("Ctrl+"+e+"+B")),"With objects"));Q.Yq=K(P(Vf(M(N(a("docs-resize-larger-y"),"Resize larger vertically"),1100).keys("Ctrl+"+e+"+I")),"With objects"));Q.Zq=K(P(Vf(M(N(a("docs-resize-smaller"),"Resize smaller"),1099).keys("Ctrl+"+e+"+J")),"With objects"));Q.$q=K(P(Vf(M(N(a("docs-resize-smaller-x"),"Resize smaller horizontally"),1097).keys("Ctrl+"+e+"+W")),"With objects"));Q.br=
K(P(Vf(M(N(a("docs-resize-smaller-y"),"Resize smaller vertically"),1098).keys("Ctrl+"+e+"+Q")),"With objects"));Q.Mq=K(O(M(N(a("docs-replace-image"),"Replace image..."),1216),"photo | picture | change | switch | swap"));Q.Nq=K(O(M(a("docs-replace-image-blob"),1868),"photo | picture | change | switch | swap"));Q.Oq=K(O(M(N(a("docs-replace-image-dialog"),"Replace image..."),1161),"photo | picture | change | switch | swap"));Q.Pq=K(O(L(M(N(a("docs-reset-image"),"Reset image"),1174),"reset-image"),"photo | picture | remove filters | revert changes |"));
Q.mo=K(M(N(a("docs-image-palette"),"Image options..."),29300));Q.bo=c("docs-image-effects-brightness","",1291);Q.co=c("docs-image-effects-contrast","",1292);Q.fo=c("docs-image-effects-opacity","",1293);Q.ho=c("docs-image-effects-recolor","",1294);Q.io=c("docs-image-effects-reset","",1295);Q.jo=c("docs-image-effects-sidebar","",1296);Q.lo=c("docs-image-effects-sidebar-focus","Image options...",1297);Q.bh=c("docs-debug-menu","",1882);Q.om=c("docs-debug-custom-items","",1883);Q.Qo=c("docs-js-error",
"JS Error",504);Q.$e=c("docs-no-download","",1863,["Ctrl+P","Ctrl+C","Ctrl+X"]);Q.$s=K(L(M(N(a("docs-update-chart"),"Update chart"),29154),"update-chart"));Q.Zs=K(M(N(a("docs-update-all-charts"),"Update all charts"),29276));Q.oq=K(M(N(a("docs-open-chart-in-sheets"),"Open in Sheets"),29184));Q.Xs=K(M(N(a("docs-unlink-chart"),"Unlink from Sheets"),29186));Q.Ln=K(Vf(M(a("docs-focus-embedded-content-controls"),29193).keys(Of(["E","O"]))));Q.bt=K(L(M(N(a("docs-update-grid-range"),"Update table"),29324),
"update-table"));Q.qq=K(M(N(a("docs-open-grid-range-in-sheets"),"Open in Sheets"),29325));Q.Ys=K(M(N(a("docs-unlink-grid-range"),"Unlink from Sheets"),29326));Q.$m=K(M(N(a("docs-domain-template-approve"),"Approve"),29253));Q.bn=K(M(N(a("docs-domain-template-reject"),"Reject"),29254));Q.an=K(M(N(a("docs-domain-template-dismiss-moderation"),"Got it"),29255))})();function hg(a){H.call(this,"docs-action-registered");this.action=a}t(hg,H);Na(aa().prototype,aa().prototype);function ig(a){I.call(this);this.ed={};if(!Wf){if(Wf)for(var b in Q)Q[b].reset();Wf=!0;Df(Q.hh);Df(Q.gh);Df(Q.Th);Df(Q.Vh);Df(Q.Jh);Df(Q.Lh);Df(Q.Nh);Df(Q.Ph);Df(Q.jh);Df(Q.Wh);Df(Q.Xh);Df(Q.ai);Df(Q.$h);Df(Q.Zh);Df(Q.ki);Df(Q.mi);Df(Q.Ch);Df(Q.lh);Df(Q.Ih);Ef(Q.Xg);Ef(Q.xh);Ef(Q.oi);Ef(Q.ti);Ef(Q.uh);Ef(Q.Eh);Ef(Q.bf);Ef(Q.cf);Df(Q.bf);Df(Q.cf);Df(Q.Zg);Df(Q.Gh);cf||(Nf(Q.ah,"Shift+Delete"),Nf(Q.$g,"Ctrl+Insert"),Nf(Q.$e,"Shift+Delete"),Nf(Q.$e,"Ctrl+Insert"),Nf(Q.Hh,"Shift+Insert"));Df(Q.Yg);Df(Q.eh);
Df(Q.zh);Df(Q.Rh);Df(Q.Oh);Df(Q.Yh);Df(Q.Kh);Df(Q.kh);Df(Q.fh);Df(Q.ji);Df(Q.Sh);Df(Q.af);Df(Q.bh);Q.Fh.Zc(!0);Q.Bh.Zc(!1);Xf();a=!!a;if(!Wf)throw Error("Actions not registered");Cf(Q.Mh,"icon",Pf("redo",a));Cf(Q.pi,"icon",Pf("undo",a))}this.nd={}}t(ig,I);ig.prototype.G=function(){ig.J.G.call(this);for(var a in this.ed)a in this.nd||G(this.ed[a])};var jg={uo:"docos-insert-discussion",Tl:"docos-cancel-insert-discussion",Sp:"docos-new-doco",Zp:"docos-new-reply",pm:"docos-delete-doco",sm:"docos-delete-reply",gn:"docos-edit-doco",kn:"docos-edit-reply",hn:"docos-edit-draft",Ql:"docos-before-highlight-doco",Yn:"docos-highlight-doco",cr:"docos-resolve-doco",ct:"docos-update-notification-settings",Pl:"docos-back-to-document",Gl:"docos-accept-suggestion",Iq:"docos-reject-suggestion",fm:"docos-convert-doco",qm:"docos-reject-doco-with-feedback",yt:"docos-write-feedback",
ym:"docos-disable-smart-todo-feature",ut:"docos-vote-doco",vt:"docos-vote-reply"};function kg(){ig.call(this,!1)}t(kg,ig);function lg(a,b){this.o=a;this.g=b;this.constructor.ef||(this.constructor.ef={});this.constructor.ef[this.toString()]=this}lg.prototype.ia=function(){return this.toString()};lg.prototype.toString=function(){this.j||(this.j=this.o.g+":"+this.g);return this.j};lg.prototype.L=h("g");function mg(a,b){lg.call(this,a,b)}t(mg,lg);function ng(a){og.hasOwnProperty(a);this.g=a;og[a]=this}var og;og={};new ng("lib");var pg="StopIteration"in m?m.StopIteration:{message:"StopIteration",stack:""};function qg(){}qg.prototype.next=function(){throw pg;};qg.prototype.Ub=function(){return this};function rg(a){if(a instanceof qg)return a;if("function"==typeof a.Ub)return a.Ub(!1);if(Ca(a)){var b=0,c=new qg;c.next=function(){for(;;){if(b>=a.length)throw pg;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function sg(a,b){if(Ca(a))try{pb(a,b,void 0)}catch(c){if(c!==pg)throw c;}else{a=rg(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==pg)throw c;}}};function tg(a,b){this.j={};this.g=[];this.v=this.o=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof tg?(c=a.va(),d=a.ga()):(c=Jb(a),d=Ib(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}l=tg.prototype;l.aa=h("o");l.ga=function(){ug(this);for(var a=[],b=0;b<this.g.length;b++)a.push(this.j[this.g[b]]);return a};l.va=function(){ug(this);return this.g.concat()};
l.zb=function(a){for(var b=0;b<this.g.length;b++){var c=this.g[b];if(vg(this.j,c)&&this.j[c]==a)return!0}return!1};l.Ab=function(a,b){if(this===a)return!0;if(this.o!=a.aa())return!1;b=b||wg;ug(this);for(var c,d=0;c=this.g[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function wg(a,b){return a===b}l.ba=function(){return 0==this.o};function xg(a){a.j={};a.g.length=0;a.o=0;a.v=0}function yg(a,b){vg(a.j,b)&&(delete a.j[b],a.o--,a.v++,a.g.length>2*a.o&&ug(a))}
function ug(a){if(a.o!=a.g.length){for(var b=0,c=0;b<a.g.length;){var d=a.g[b];vg(a.j,d)&&(a.g[c++]=d);b++}a.g.length=c}if(a.o!=a.g.length){for(var e={},c=b=0;b<a.g.length;)d=a.g[b],vg(e,d)||(a.g[c++]=d,e[d]=1),b++;a.g.length=c}}l.get=function(a,b){return vg(this.j,a)?this.j[a]:b};l.set=function(a,b){vg(this.j,a)||(this.o++,this.g.push(a),this.v++);this.j[a]=b};l.forEach=function(a,b){for(var c=this.va(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};l.clone=function(){return new tg(this)};
l.Ub=function(a){ug(this);var b=0,c=this.v,d=this,e=new qg;e.next=function(){if(c!=d.v)throw Error("The map has changed since the iterator was created");if(b>=d.g.length)throw pg;var e=d.g[b++];return a?e:d.j[e]};return e};function vg(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function zg(a){return a.aa&&"function"==typeof a.aa?a.aa():Ca(a)||Da(a)?a.length:Hb(a)}function Ag(a){if(a.ga&&"function"==typeof a.ga)return a.ga();if(Da(a))return a.split("");if(Ca(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ib(a)}function Bg(a){if(a.va&&"function"==typeof a.va)return a.va();if(!a.ga||"function"!=typeof a.ga){if(Ca(a)||Da(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Jb(a)}}
function Cg(a,b){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,void 0);else if(Ca(a)||Da(a))pb(a,b,void 0);else for(var c=Bg(a),d=Ag(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}function Dg(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(Ca(a)||Da(a))return Array.prototype.every.call(a,b,void 0);for(var c=Bg(a),d=Ag(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Eg(a){this.g=new tg;if(a){a=Ag(a);for(var b=a.length,c=0;c<b;c++)Fg(this,a[c])}}function Gg(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+Ha(a):b.substr(0,1)+a}l=Eg.prototype;l.aa=function(){return this.g.aa()};function Fg(a,b){a.g.set(Gg(b),b)}l.ba=function(){return this.g.ba()};l.contains=function(a){a=Gg(a);return vg(this.g.j,a)};l.ga=function(){return this.g.ga()};l.clone=function(){return new Eg(this)};l.Ab=function(a){return this.aa()==zg(a)&&Hg(this,a)};
function Hg(a,b){var c=zg(b);if(a.aa()>c)return!1;!(b instanceof Eg)&&5<c&&(b=new Eg(b));return Dg(a,function(a){var c=b;return c.contains&&"function"==typeof c.contains?c.contains(a):c.zb&&"function"==typeof c.zb?c.zb(a):Ca(c)||Da(c)?ub(c,a):Lb(c,a)})}l.Ub=function(){return this.g.Ub(!1)};function Ig(a,b){a instanceof Error||(a=Error(a),Error.captureStackTrace&&Error.captureStackTrace(a,Ig));a.stack||(a.stack=Jg(Ig));if(b){for(var c=0;a["message"+c];)++c;a["message"+c]=String(b)}return a}function Jg(a){var b;b=Error();if(Error.captureStackTrace)Error.captureStackTrace(b,a||Jg),b=String(b.stack);else{try{throw b;}catch(c){b=c}b=(b=b.stack)?String(b):null}b||(b=Kg(a||arguments.callee.caller,[]));return b}
function Kg(a,b){var c=[];if(ub(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Lg(a)+"(");for(var d=a.arguments,e=0;d&&e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Lg(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Kg(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Lg(a){if(Mg[a])return Mg[a];a=String(a);if(!Mg[a]){var b=/function ([^\(]+)/.exec(a);Mg[a]=b?b[1]:"[Anonymous]"}return Mg[a]}var Mg={};function Ng(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Og(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function R(a,b){this.g=0;this.C=void 0;this.v=this.j=this.o=null;this.A=this.B=!1;if(a!=ya)try{var c=this;a.call(b,function(a){Pg(c,2,a)},function(a){Pg(c,3,a)})}catch(d){Pg(this,3,d)}}function Qg(){this.next=this.context=this.j=this.v=this.g=null;this.o=!1}Qg.prototype.reset=function(){this.context=this.j=this.v=this.g=null;this.o=!1};var Rg=new hf(function(){return new Qg},function(a){a.reset()},100);function Sg(a,b,c){var d=Rg.get();d.v=a;d.j=b;d.context=c;return d}
function Tg(a){if(a instanceof R)return a;var b=new R(ya);Pg(b,2,a);return b}function Ug(a){return new R(function(b,c){c(a)})}function Vg(a,b,c){Wg(a,b,c,null)||of(Ma(b,a))}function Xg(a){return new R(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},g=function(a){c(a)},k=0,p;k<a.length;k++)p=a[k],Vg(p,Ma(f,k),g);else b(e)})}
function Yg(a){return new R(function(b){var c=a.length,d=[];if(c)for(var e=function(a,e,f){c--;d[a]=e?{pd:!0,value:f}:{pd:!1,reason:f};0==c&&b(d)},f=0,g;f<a.length;f++)g=a[f],Vg(g,Ma(e,f,!0),Ma(e,f,!1));else b(d)})}function Zg(){var a,b,c=new R(function(c,e){a=c;b=e});return new $g(c,a,b)}R.prototype.then=function(a,b,c){return ah(this,Fa(a)?a:null,Fa(b)?b:null,c)};Ng(R);function bh(a,b){b=Sg(b,b,void 0);b.o=!0;ch(a,b);return a}function dh(a,b,c){return ah(a,null,b,c)}
R.prototype.cancel=function(a){0==this.g&&of(function(){var b=new eh(a);fh(this,b)},this)};function fh(a,b){if(0==a.g)if(a.o){var c=a.o;if(c.j){for(var d=0,e=null,f=null,g=c.j;g&&(g.o||(d++,g.g==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.g&&1==d?fh(c,b):(f?(d=f,d.next==c.v&&(c.v=d),d.next=d.next.next):gh(c),hh(c,e,3,b)))}a.o=null}else Pg(a,3,b)}function ch(a,b){a.j||2!=a.g&&3!=a.g||ih(a);a.v?a.v.next=b:a.j=b;a.v=b}
function ah(a,b,c,d){var e=Sg(null,null,null);e.g=new R(function(a,g){e.v=b?function(c){try{var e=b.call(d,c);a(e)}catch(u){g(u)}}:a;e.j=c?function(b){try{var e=c.call(d,b);!n(e)&&b instanceof eh?g(b):a(e)}catch(u){g(u)}}:g});e.g.o=a;ch(a,e);return e.g}R.prototype.S=function(a){this.g=0;Pg(this,2,a)};R.prototype.D=function(a){this.g=0;Pg(this,3,a)};
function Pg(a,b,c){0==a.g&&(a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.g=1,Wg(c,a.S,a.D,a)||(a.C=c,a.g=b,a.o=null,ih(a),3!=b||c instanceof eh||jh(a,c)))}function Wg(a,b,c,d){if(a instanceof R)return ch(a,Sg(b||ya,c||null,d)),!0;if(Og(a))return a.then(b,c,d),!0;if(Ga(a))try{var e=a.then;if(Fa(e))return kh(a,e,b,c,d),!0}catch(f){return c.call(d,f),!0}return!1}
function kh(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function g(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,g,f)}catch(p){f(p)}}function ih(a){a.B||(a.B=!0,of(a.F,a))}function gh(a){var b=null;a.j&&(b=a.j,a.j=b.next,b.next=null);a.j||(a.v=null);return b}R.prototype.F=function(){for(var a;a=gh(this);)hh(this,a,this.g,this.C);this.B=!1};
function hh(a,b,c,d){if(3==c&&b.j&&!b.o)for(;a&&a.A;a=a.o)a.A=!1;if(b.g)b.g.o=null,lh(b,c,d);else try{b.o?b.v.call(b.context):lh(b,c,d)}catch(e){mh.call(null,e)}jf(Rg,b)}function lh(a,b,c){2==b?a.v.call(a.context,c):a.j&&a.j.call(a.context,c)}function jh(a,b){a.A=!0;of(function(){a.A&&mh.call(null,b)})}var mh=df;function eh(a){Qa.call(this,a)}t(eh,Qa);eh.prototype.name="cancel";function $g(a,b,c){this.g=a;this.resolve=b;this.reject=c};/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function S(a,b){this.B=[];this.O=a;this.H=b||null;this.v=this.g=!1;this.o=void 0;this.X=this.R=this.F=!1;this.C=0;this.j=null;this.A=0}l=S.prototype;l.cancel=function(a){if(this.g)this.o instanceof S&&this.o.cancel();else{if(this.j){var b=this.j;delete this.j;a?b.cancel(a):(b.A--,0>=b.A&&b.cancel())}this.O?this.O.call(this.H,this):this.X=!0;this.g||this.P(new nh)}};l.vf=function(a,b){this.F=!1;oh(this,a,b)};function oh(a,b,c){a.g=!0;a.o=c;a.v=!b;ph(a)}
function qh(a){if(a.g){if(!a.X)throw new rh;a.X=!1}}l.K=function(a){qh(this);oh(this,!0,a)};l.P=function(a){qh(this);oh(this,!1,a)};l.T=function(a,b){return U(this,a,null,b)};function sh(a,b,c){return U(a,null,b,c)}function th(a,b){return U(a,b,b,void 0)}function uh(a,b,c){U(a,b,function(c){var d=b.call(a,c);if(!n(d))throw c;return d},c)}function U(a,b,c,d){a.B.push([b,c,d]);a.g&&ph(a);return a}
l.then=function(a,b,c){var d,e,f=new R(function(a,b){d=a;e=b});U(this,d,function(a){a instanceof nh?f.cancel():e(a)});return f.then(a,b,c)};Ng(S);function vh(a,b){U(a,b.K,b.P,b)}function wh(a,b){b instanceof S?a.T(q(b.Wb,b)):a.T(function(){return b})}S.prototype.Wb=function(a){var b=new S;vh(this,b);a&&(b.j=this,this.A++);return b};function xh(a){return sb(a.B,function(a){return Fa(a[1])})}
function ph(a){if(a.C&&a.g&&xh(a)){var b=a.C,c=yh[b];c&&(m.clearTimeout(c.g),delete yh[b]);a.C=0}a.j&&(a.j.A--,delete a.j);for(var b=a.o,d=c=!1;a.B.length&&!a.F;){var e=a.B.shift(),f=e[0],g=e[1],e=e[2];if(f=a.v?g:f)try{var k=f.call(e||a.H,b);n(k)&&(a.v=a.v&&(k==b||k instanceof Error),a.o=b=k);if(Og(b)||"function"===typeof m.Promise&&b instanceof m.Promise)d=!0,a.F=!0}catch(p){b=p,a.v=!0,xh(a)||(c=!0)}}a.o=b;d&&(k=q(a.vf,a,!0),d=q(a.vf,a,!1),b instanceof S?(U(b,k,d),b.R=!0):b.then(k,d));c&&(b=new zh(b),
yh[b.g]=b,a.C=b.g)}function Ah(a){var b=new S;b.K(a);return b}function Bh(a){var b=new S;b.P(a);return b}function rh(){Qa.call(this)}t(rh,Qa);rh.prototype.message="Deferred has already fired";rh.prototype.name="AlreadyCalledError";function nh(){Qa.call(this)}t(nh,Qa);nh.prototype.message="Deferred was canceled";nh.prototype.name="CanceledError";function zh(a){this.g=m.setTimeout(q(this.o,this),0);this.j=a}zh.prototype.o=function(){delete yh[this.g];throw this.j;};var yh={};function Ch(a){E.call(this);this.j={};this.B={};this.A={};this.g={};this.C={};this.D={};this.F=a?a.F:new I;this.I=!a;this.o=null;a?(this.o=a,this.A=a.A,this.g=a.g,this.B=a.B,this.C=a.C):r();a=Dh(this);this!=a&&(a.v?a.v.push(this):a.v=[this])}t(Ch,E);function Dh(a){for(;a.o;)a=a.o;return a}Ch.prototype.get=function(a){var b=Eh(this,a);if(null==b)throw new Fh(a);return b};
function Eh(a,b){for(var c=a;c;c=c.o){if(c.isDisposed())throw Error("AppContext is disposed.");if(c.j[b])return c.j[b][0];if(c.D[b])break}if(c=a.A[b]){c=c(a);if(null==c)throw Error("Factory method for service "+b+" returned null or undefined.");a.Na(b,c);return c}return null}Ch.prototype.Na=function(a,b,c){if(this.isDisposed())c||G(b);else{this.j[a]=[b,!c];c=Gh(this,this,a);for(var d=0;d<c.length;d++)c[d].K(null);delete this.B[a];return b}};
function Gh(a,b,c){var d=[],e=a.g[c];e&&(qb(e,function(a){var c;a:{for(c=a.vi;c;){if(c==b){c=!0;break a}c=c.o}c=!1}c&&(d.push(a.d),wb(e,a))}),0==e.length&&delete a.g[c]);return d}function Hh(a,b){a.g&&Cg(a.g,function(a,d,e){qb(a,function(c){c.vi==b&&wb(a,c)});0==a.length&&delete e[d]})}
Ch.prototype.G=function(){if(Dh(this)==this){var a=this.v;if(a)for(;a.length;)a[0].V()}else for(var a=Dh(this).v,b=0;b<a.length;b++)if(a[b]==this){a.splice(b,1);break}for(var c in this.j)a=this.j[c],a[1]&&a[0].V&&a[0].V();this.j=null;this.I&&this.F.V();Hh(this,this);this.g=null;G(this.H);this.D=this.H=null;Ch.J.G.call(this)};function Fh(a){Qa.call(this);this.id=a;this.message='Service for "'+a+'" is not registered'}t(Fh,Qa);var Ih=new ng("fva");new mg(Ih,1);function Jh(){Ch.call(this)}t(Jh,Ch);function Kh(a){return a.get("config")}function Lh(a){return a.get("stream")};function Mh(a,b,c){var d=ad(a);this.g=a;this.A=b;this.B=c||null;this.v={};this.j={};this.o=new de(d);b=this.getId();if(a=ad(a))for(a=Zc(a),c=0;c<a.length;c++)d=new de(a[c]),n(A(a[c],13))?this.v[d.getId()]=d:(this.j[d.getId()]=d,this.A.bind(b,d.getId()))}Mh.prototype.getId=function(){return this.o.getId()};function Nh(a){return A(a.g,8)||""}function Oh(a){return"draft"==a.B||"client-integrated-draft"==a.B||"instant-doco"==a.B||"smart-todo"==a.B}Mh.prototype.gb=function(){return!!A(this.g,9)};
Mh.prototype.Da=function(){return this.o.Da()};function Ph(a,b){this.g=a;this.j=b||null}Ph.prototype.getId=function(){return ad(this.g).getId()};function Qh(){this.o={};this.g={};this.j=0}function Rh(a,b,c){b="$"+b;return a.g[b]?a.g[b]["$"+(c?c:"")]||null:null}function Sh(a,b,c,d){c="$"+c;a.g[c]||(a.g[c]={});a.o[b]=new Th;a.g[c]["$"+(d?d:"")]=b}Qh.prototype.bind=function(a,b){if(null!==Rh(this,a,b))return!1;this.j++;Sh(this,this.j,a,b);return!0};function Uh(a,b,c){var d=Rh(a,b,c);null!==d&&(delete a.o[d],delete a.g["$"+b]["$"+(c?c:"")])}
function Vh(a,b,c,d,e){var f=Rh(a,b,c);if(null===f||null!==Rh(a,d,e))return!1;Uh(a,b,c||void 0);Sh(a,f,d,e);return!0}function Wh(a,b,c){return Rh(a,b,c)||0}function Th(){};function Xh(a){I.call(this);this.H=a;this.g={};this.j={};this.A=[];this.D=[];this.C={};this.B={};this.o=new Qh}t(Xh,I);
function Yh(a,b,c){c=c||"c";var d=Zh(a),e=$h(a,b.getId(),A(ad(b.g),11)||"");if(e){var f=e.getId(),g=e.Da(),k;b=b.g;var p=Mc(e.g);ad(b);for(var u=ad(b),w=b.getId(),z=null!=w?w:e.getId(),w=n(A(u,13))&&0!=A(u,13)&&!e.Da(),T=(!n(A(u,13))||0==A(u,13))&&e.Da(),W=Zc(u),na=0;na<W.length;na++){var ra=W[na],Z=e.j[ra.getId()||""]||e.j[A(ra,11)||""];k=!1;Z||(Z=e.v[ra.getId()||""]||e.v[A(ra,11)||""],k=!!Z);if(Z){var Ya=Z.getId();Z.update(ra);if(Ya!=Z.getId()&&(delete e.j[Ya],e.j[Z.getId()]=Z,Wh(e.A,z,Ya)&&!Vh(e.A,
z,Ya,z,Z.getId())))throw Error("Error updating ID from "+z+", "+Ya+" to "+z+", "+Z.getId());Z.Da()?(delete e.j[Z.getId()],e.v[Z.getId()]=Z,Uh(e.A,z,Z.getId())):k&&!Z.Da()&&(delete e.v[Z.getId()],e.j[Z.getId()]=Z,e.A.bind(z,Z.getId()))}else Z=new de(ra),Z.Da()?(e.v[Z.getId()]=Z,Uh(e.A,z,Z.getId())):(e.j[Z.getId()]=Z,delete e.v[Z.getId()],e.A.bind(z,Z.getId())),Z=Zc(ad(e.g)),Z.push(ra),ra=ad(e.g),Dc(ra,8,Z)}z=0;n(A(b,6))&&A(b,6)!=!!A(e.g,6)&&(z=A(b,6)?z|2:z|4);w&&!k?z|=16:T&&(z|=8);Dc(u,8,[]);w&&(D(u,
3,void 0),D(u,4,void 0),D(u,9,void 0));Rd(e.g,b);e.o.update(u);Jc(e.g,p)||(z|=1);k=z;ai(a,e);if(f!=e.getId()&&(delete a.g[f],delete a.j[f],b=Wh(a.o,f),delete a.C[b],a.g[e.getId()]=e,b&&!Vh(a.o,f,null,e.getId(),null)))throw Error("Error updating ID from "+f+" to "+e.getId());b=Wh(a.o,e.getId());e.Da()?(delete a.g[e.getId()],Uh(a.o,e.getId()),a.j[e.getId()]=e,b&&(a.C[b]=e),"n"!=c&&!Oh(e)&&e.gb()&&(vb(a.A,e.getId()),vb(a.D,e.getId())),a.dispatchEvent(new bi("dd",c,e.getId(),f!=e.getId()?f:void 0,Nh(e)))):
(g&&(delete a.j[e.getId()],delete a.C[b],a.g[e.getId()]=e,Nh(e)&&a.o.bind(e.getId()),e.getId()),0!=k&&("n"!=c&&!Oh(e)&&e.gb()&&vb(a.A,e.getId()),a.dispatchEvent(new bi("cd",c,e.getId(),f!=e.getId()?f:void 0,Nh(e)))))}else if(e=a.o,f=b.j?b.j:void 0,e=new Mh(Mc(b.g),e,f),e.Da())a.j[e.getId()]=e;else if((f=A(a.H.g,38))||(f=C(e.o.g,Wc,18),f=!(null!=f&&new ce(f)&&e.o)),f){f=c||"c";if(n(A(e.g,8)))if(g=Nh(e),(k=a.B[g]||null)&&Nh(k)!=g?(delete a.B[g],g=null):g=k,g&&Oh(g)){if(Vh(a.o,g.getId(),null,e.getId(),
null),g=g.getId(),k=f||"c",b=a.g[g])n(A(b.g,8))&&(Nh(b),delete a.B[Nh(b)]),delete a.g[g],Uh(a.o,g),a.dispatchEvent(new bi("dd",k,g,void 0))}else a.o.bind(e.getId());a.g[e.getId()]=e;ai(a,e);A(e.g,6);"n"!=f&&!Oh(e)&&e.gb()&&vb(a.A,e.getId());a.dispatchEvent(new bi("cd",f,e.getId(),void 0,Nh(e),Wh(a.o,e.getId())))}Zh(a)!=d&&(Zh(a),a.dispatchEvent(new bi("p",c,void 0,void 0)))}
function ci(a){function b(a){return a.gb()}var c=Array.prototype.filter.call(Ib(a.g),b,void 0);a=Array.prototype.filter.call(Ib(a.j),b,void 0);return c.concat(a)}function Zh(a){function b(a){return a.gb()}return!(!Nb(a.g,b)&&!Nb(a.j,b))}function di(a){for(var b=0;b<a.A.length;b++){var c=a.A[b],d=a.g[c];d||(d=a.j[c]);if(d&&d.gb())return!0}return!1}function $h(a,b,c){return a.g[b]||a.j[b]||a.g[c]||a.j[c]||null}function ai(a,b){Nh(b)&&(b.Da()?delete a.B[Nh(b)]:a.B[Nh(b)]=b)}
function ei(a){a.dispatchEvent(new bi("f","c",void 0,void 0));a.dispatchEvent(new bi("af","c"))}function bi(a,b,c,d){H.call(this,a);this.source=b;this.j=c||null;this.g=d||null}t(bi,H);function fi(){var a=Math.floor(4294967296*Math.random()).toString(16),a=hb("0",Math.max(0,8-a.length))+a;return Math.floor(2147483648*Math.random()).toString(16)+a};function V(a){E.call(this);this.j=a;this.g={}}t(V,E);var gi=[];V.prototype.listen=function(a,b,c,d){Ba(b)||(b&&(gi[0]=b.toString()),b=gi);for(var e=0;e<b.length;e++){var f=ye(a,b[e],c||this.handleEvent,d||!1,this.j||this);if(!f)break;this.g[f.key]=f}return this};function hi(a,b,c,d){return ii(a,b,c,d,void 0)}function ii(a,b,c,d,e,f){if(Ba(c))for(var g=0;g<c.length;g++)ii(a,b,c[g],d,e,f);else{b=Fe(b,c,d||a.handleEvent,e,f||a.j||a);if(!b)return a;a.g[b.key]=b}return a}
V.prototype.cd=function(a,b,c,d,e){if(Ba(b))for(var f=0;f<b.length;f++)this.cd(a,b[f],c,d,e);else if(a=Ie(a,b,c||this.handleEvent,d,e||this.j||this))He(a),delete this.g[a.key];return this};function ji(a){Fb(a.g,function(a,c){this.g.hasOwnProperty(c)&&He(a)},a);a.g={}}V.prototype.G=function(){V.J.G.call(this);ji(this)};V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function ki(){this.g=r()}new ki;ki.prototype.set=ba("g");ki.prototype.reset=function(){this.set(r())};ki.prototype.get=h("g");function li(a,b){this.bb=new rc(a);this.g=b?pc:oc}li.prototype.stringify=function(a){return this.bb.ia(a)};li.prototype.parse=function(a){return this.g(a)};function mi(a){this.j=0;this.o=a||100;this.g=[]}l=mi.prototype;l.get=function(a){a=ni(this,a);return this.g[a]};l.set=function(a,b){a=ni(this,a);this.g[a]=b};l.aa=function(){return this.g.length};l.ba=function(){return 0==this.g.length};l.ga=function(){for(var a=this.aa(),b=this.aa(),c=[],a=this.aa()-a;a<b;a++)c.push(this.get(a));return c};l.va=function(){for(var a=[],b=this.aa(),c=0;c<b;c++)a[c]=c;return a};l.zb=function(a){for(var b=this.aa(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};
function oi(a){return 0==a.aa()?null:a.get(a.aa()-1)}function ni(a,b){if(b>=a.g.length)throw Error("Out of bounds exception");return a.g.length<a.o?b:(a.j+Number(b))%a.o};function pi(a,b){this.o=this.F=this.v="";this.C=null;this.A=this.g="";this.B=!1;var c;a instanceof pi?(this.B=n(b)?b:a.B,qi(this,a.v),this.F=a.F,ri(this,a.o),si(this,a.C),this.g=a.g,ti(this,a.j.clone()),this.A=a.A):a&&(c=String(a).match(wd))?(this.B=!!b,qi(this,c[1]||"",!0),this.F=ui(c[2]||""),ri(this,c[3]||"",!0),si(this,c[4]),this.g=ui(c[5]||"",!0),ti(this,c[6]||"",!0),this.A=ui(c[7]||"")):(this.B=!!b,this.j=new vi(null,0,this.B))}
pi.prototype.toString=function(){var a=[],b=this.v;b&&a.push(wi(b,xi,!0),":");var c=this.o;if(c||"file"==b)a.push("//"),(b=this.F)&&a.push(wi(b,xi,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.C,null!=c&&a.push(":",String(c));if(c=this.g)this.o&&"/"!=c.charAt(0)&&a.push("/"),a.push(wi(c,"/"==c.charAt(0)?yi:zi,!0));(c=this.j.toString())&&a.push("?",c);(c=this.A)&&a.push("#",wi(c,Ai));return a.join("")};
pi.prototype.resolve=function(a){var b=this.clone(),c=!!a.v;c?qi(b,a.v):c=!!a.F;c?b.F=a.F:c=!!a.o;c?ri(b,a.o):c=null!=a.C;var d=a.g;if(c)si(b,a.C);else if(c=!!a.g){if("/"!=d.charAt(0))if(this.o&&!this.g)d="/"+d;else{var e=b.g.lastIndexOf("/");-1!=e&&(d=b.g.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=Sa(e,"/"),e=e.split("/"),f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&
f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?b.g=d:c=""!==a.j.toString();c?ti(b,a.j.clone()):c=!!a.A;c&&(b.A=a.A);return b};pi.prototype.clone=function(){return new pi(this)};function qi(a,b,c){a.v=c?ui(b,!0):b;a.v&&(a.v=a.v.replace(/:$/,""))}function ri(a,b,c){a.o=c?ui(b,!0):b}function si(a,b){if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.C=b}else a.C=null}
function ti(a,b,c){b instanceof vi?(a.j=b,Bi(a.j,a.B)):(c||(b=wi(b,Ci)),a.j=new vi(b,0,a.B))}function Di(a,b,c){a.j.set(b,c);return a}function Ei(a,b,c){Ba(c)||(c=[String(c)]);Fi(a.j,b,c)}function Gi(a){Di(a,"zx",lb());return a}function Hi(a){return a instanceof pi?a.clone():new pi(a,void 0)}function Ii(a,b,c,d){var e=new pi(null,void 0);a&&qi(e,a);b&&ri(e,b);c&&si(e,c);d&&(e.g=d);return e}function ui(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function wi(a,b,c){return Da(a)?(a=encodeURI(a).replace(b,Ji),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ji(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var xi=/[#\/\?@]/g,zi=/[\#\?:]/g,yi=/[\#\?]/g,Ci=/[\#\?@]/g,Ai=/#/g;function vi(a,b,c){this.j=this.g=null;this.o=a||null;this.v=!!c}function Ki(a){a.g||(a.g=new tg,a.j=0,a.o&&Ad(a.o,function(b,c){b=Wa(b);Ki(a);a.o=null;b=Li(a,b);var d=a.g.get(b);d||a.g.set(b,d=[]);d.push(c);a.j=a.j+1}))}l=vi.prototype;
l.aa=function(){Ki(this);return this.j};function Mi(a,b){Ki(a);b=Li(a,b);vg(a.g.j,b)&&(a.o=null,a.j=a.j-a.g.get(b).length,yg(a.g,b))}l.ba=function(){Ki(this);return 0==this.j};function Ni(a,b){Ki(a);b=Li(a,b);return vg(a.g.j,b)}l.zb=function(a){var b=this.ga();return ub(b,a)};l.va=function(){Ki(this);for(var a=this.g.ga(),b=this.g.va(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};
l.ga=function(a){Ki(this);var b=[];if(Da(a))Ni(this,a)&&(b=xb(b,this.g.get(Li(this,a))));else{a=this.g.ga();for(var c=0;c<a.length;c++)b=xb(b,a[c])}return b};l.set=function(a,b){Ki(this);this.o=null;a=Li(this,a);Ni(this,a)&&(this.j=this.j-this.g.get(a).length);this.g.set(a,[b]);this.j=this.j+1;return this};l.get=function(a,b){a=a?this.ga(a):[];return 0<a.length?String(a[0]):b};function Fi(a,b,c){Mi(a,b);0<c.length&&(a.o=null,a.g.set(Li(a,b),yb(c)),a.j=a.j+c.length)}
l.toString=function(){if(this.o)return this.o;if(!this.g)return"";for(var a=[],b=this.g.va(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.ga(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}return this.o=a.join("&")};l.clone=function(){var a=new vi;a.o=this.o;this.g&&(a.g=this.g.clone(),a.j=this.j);return a};function Li(a,b){b=String(b);a.v&&(b=b.toLowerCase());return b}
function Bi(a,b){b&&!a.v&&(Ki(a),a.o=null,a.g.forEach(function(a,b){var c=b.toLowerCase();b!=c&&(Mi(this,b),Fi(this,c,a))},a));a.v=b};function Oi(a,b){I.call(this);this.j=a||1;this.g=b||m;this.o=q(this.zl,this);this.A=r()}t(Oi,I);l=Oi.prototype;l.enabled=!1;l.Ta=null;l.setInterval=function(a){this.j=a;this.Ta&&this.enabled?(this.stop(),this.start()):this.Ta&&this.stop()};l.zl=function(){if(this.enabled){var a=r()-this.A;0<a&&a<.8*this.j?this.Ta=this.g.setTimeout(this.o,this.j-a):(this.Ta&&(this.g.clearTimeout(this.Ta),this.Ta=null),this.dispatchEvent("tick"),this.enabled&&(this.Ta=this.g.setTimeout(this.o,this.j),this.A=r()))}};
l.start=function(){this.enabled=!0;this.Ta||(this.Ta=this.g.setTimeout(this.o,this.j),this.A=r())};l.stop=function(){this.enabled=!1;this.Ta&&(this.g.clearTimeout(this.Ta),this.Ta=null)};l.G=function(){Oi.J.G.call(this);this.stop();delete this.g};function Pi(a,b,c){if(Fa(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:m.setTimeout(a,b||0)}function Qi(a){m.clearTimeout(a)}
function Ri(){var a=null;return dh(new R(function(b,c){a=Pi(function(){b(void 0)},3E5);-1==a&&c(Error("Failed to schedule timer."))}),function(b){Qi(a);throw b;})};function Si(a,b,c){E.call(this);this.v=null!=c?q(a,c):a;this.o=b;this.j=q(this.Ok,this);this.g=[]}t(Si,E);l=Si.prototype;l.Jd=!1;l.kc=null;l.Mb=function(a){this.g=arguments;this.kc?this.Jd=!0:Ti(this)};l.stop=function(){this.kc&&(Qi(this.kc),this.kc=null,this.Jd=!1,this.g=[])};l.G=function(){Si.J.G.call(this);this.stop()};l.Ok=function(){this.kc=null;this.Jd&&(this.Jd=!1,Ti(this))};function Ti(a){a.kc=Pi(a.j,a.o);a.v.apply(null,a.g)};function Ui(){}Ui.prototype.g=null;function Vi(a){var b;(b=a.g)||(b={},Wi(a)&&(b[0]=!0,b[1]=!0),b=a.g=b);return b};var Xi;function Yi(){}t(Yi,Ui);function Zi(a){return(a=Wi(a))?new ActiveXObject(a):new XMLHttpRequest}function Wi(a){if(!a.j&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.j=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.j}Xi=new Yi;function $i(a,b,c,d,e){this.g=a;this.ea=c;this.B=d;this.A=e||1;this.ya=45E3;this.o=new V(this);this.v=new Oi;this.v.setInterval(250)}l=$i.prototype;l.Nb=null;l.Hb=!1;l.Ac=null;l.Ye=null;l.Dd=null;l.rd=null;l.Bc=null;l.Ed=null;l.Qb=null;l.Fa=null;l.Pd=0;l.Rg=null;l.Md=null;l.lc=null;l.Nc=-1;l.Dc=!1;l.ye=0;l.Bd=null;var aj={},bj={};l=$i.prototype;l.setTimeout=ba("ya");function cj(a,b,c){a.rd=1;a.Bc=Gi(b.clone());a.Qb=c;a.j=!0;dj(a,null)}
function ej(a,b,c,d){a.rd=1;a.Bc=Gi(b.clone());a.Qb=null;a.j=c;dj(a,d)}function dj(a,b){a.Dd=r();fj(a);a.Ed=a.Bc.clone();Ei(a.Ed,"t",a.A);a.Pd=0;a.Fa=a.g.ae(a.g.$c()?b:null);0<a.ye&&(a.Bd=new Si(q(a.Vg,a,a.Fa),a.ye));a.o.listen(a.Fa,"readystatechange",a.hl);b=a.Nb?Pb(a.Nb):{};a.Qb?(a.Md="POST",b["Content-Type"]="application/x-www-form-urlencoded",a.Fa.send(a.Ed,a.Md,a.Qb,b)):(a.Md="GET",a.Fa.send(a.Ed,a.Md,null,b));a.g.tb(1)}l.hl=function(a){a=a.target;var b=this.Bd;b&&3==gj(a)?b.Mb():this.Vg(a)};
l.Vg=function(a){try{if(a==this.Fa)a:{var b=gj(this.Fa),c=this.Fa.o,d=this.Fa.$();if(!ec("420+")){if(4>b)break a}else if(3>b||3==b&&!this.Fa.sa())break a;this.Dc||4!=b||7==c||(8==c||0>=d?this.g.tb(3):this.g.tb(2));hj(this);var e=this.Fa.$();this.Nc=e;var f=this.Fa.sa();if(this.Hb=200==e){4==b&&ij(this);if(this.j){for(a=!0;!this.Dc&&this.Pd<f.length;){var g=jj(this,f);if(g==bj){4==b&&(this.lc=4,kj(),a=!1);lj(null);break}else if(g==aj){this.lc=4;kj();lj(f);a=!1;break}else lj(g),mj(this,g)}4==b&&0==
f.length&&(this.lc=1,kj(),a=!1);this.Hb=this.Hb&&a;a||(lj(f),ij(this),nj(this))}else lj(f),mj(this,f);this.Hb&&!this.Dc&&(4==b?this.g.Je(this):(this.Hb=!1,fj(this)))}else this.lc=400==e&&0<f.indexOf("Unknown SID")?3:0,kj(),ij(this),nj(this)}}catch(k){}finally{}};function jj(a,b){var c=a.Pd,d=b.indexOf("\n",c);if(-1==d)return bj;c=Number(b.substring(c,d));if(isNaN(c))return aj;d+=1;if(d+c>b.length)return bj;b=b.substr(d,c);a.Pd=d+c;return b}l.cancel=function(){this.Dc=!0;ij(this)};
function fj(a){a.Ye=r()+a.ya;oj(a,a.ya)}function oj(a,b){if(null!=a.Ac)throw Error("WatchDog timer not null");a.Ac=pj(q(a.Wk,a),b)}function hj(a){a.Ac&&(m.clearTimeout(a.Ac),a.Ac=null)}l.Wk=function(){this.Ac=null;var a=r();0<=a-this.Ye?(2!=this.rd&&this.g.tb(3),ij(this),this.lc=2,kj(),nj(this)):oj(this,this.Ye-a)};function nj(a){a.g.gg()||a.Dc||a.g.Je(a)}function ij(a){hj(a);G(a.Bd);a.Bd=null;a.v.stop();ji(a.o);if(a.Fa){var b=a.Fa;a.Fa=null;b.abort();b.V()}a.Rg&&(a.Rg=null)}l.fb=h("ea");l.eb=h("B");
function mj(a,b){try{a.g.rg(a,b),a.g.tb(4)}catch(c){}};function lj(a){if(a&&"y2f%"!=a)try{var b=pc(a);if(b)for(a=0;a<b.length;a++)if(Ba(b[a])){var c=b[a];if(!(2>c.length)){var d=c[1];if(Ba(d)&&!(1>d.length)){var e=d[0];if("noop"!=e&&"stop"!=e)for(var f=1;f<d.length;f++)d[f]=""}}}qc(b)}catch(g){}};function qj(a,b,c,d,e){if(0==d)c(!1);else{var f=e||0;d--;rj(a,b,function(e){e?c(!0):m.setTimeout(function(){qj(a,b,c,d,f)},f)})}}function rj(a,b,c){var d=new Image;d.onload=function(){try{sj(d),c(!0)}catch(e){}};d.onerror=function(){try{sj(d),c(!1)}catch(e){}};d.onabort=function(){try{sj(d),c(!1)}catch(e){}};d.ontimeout=function(){try{sj(d),c(!1)}catch(e){}};m.setTimeout(function(){if(d.ontimeout)d.ontimeout()},b);d.src=a}
function sj(a){a.onload=null;a.onerror=null;a.onabort=null;a.ontimeout=null};function tj(a){this.g=a;this.j=new li(null,!0)}l=tj.prototype;l.we=null;l.Ua=null;l.Cd=!1;l.xe=null;l.Va=null;l.sb=-1;l.qd=null;l.Cc=null;l.connect=function(a){this.xe=a;a=uj(this.g,null,this.xe);kj();r();var b=this.g.F;null!=b?(this.qd=vj(this.g,b[0]),(this.Cc=b[1])?(this.Va=1,wj(this)):(this.Va=2,xj(this))):(Ei(a,"MODE","init"),this.Ua=new $i(this,0,void 0,void 0,void 0),this.Ua.Nb=this.we,ej(this.Ua,a,!1,null),this.Va=0)};
function wj(a){var b=uj(a.g,a.Cc,"/mail/images/cleardot.gif");Gi(b);qj(b.toString(),5E3,q(a.zi,a),3,2E3);a.tb(1)}l.zi=function(a){if(a)this.Va=2,xj(this);else{kj();var b=this.g;b.$a=b.yb.sb;yj(b,9)}a&&this.tb(2)};function xj(a){var b=a.g.S;null!=b?(kj(),b?(kj(),zj(a.g,a,!1)):(kj(),zj(a.g,a,!0))):(a.Ua=new $i(a,0,void 0,void 0,void 0),a.Ua.Nb=a.we,b=a.g,b=uj(b,b.$c()?a.qd:null,a.xe),kj(),Ei(b,"TYPE","xmlhttp"),ej(a.Ua,b,!1,a.qd))}l.ae=function(a){return this.g.ae(a)};
l.abort=function(){this.Ua&&(this.Ua.cancel(),this.Ua=null);this.sb=-1};l.gg=ca(!1);l.rg=function(a,b){this.sb=a.Nc;if(0==this.Va)if(b){try{var c=this.j.parse(b)}catch(d){a=this.g;a.$a=this.sb;yj(a,2);return}this.qd=vj(this.g,c[0]);this.Cc=c[1]}else a=this.g,a.$a=this.sb,yj(a,2);else 2==this.Va&&(this.Cd?(kj(),r()):"11111"==b?(kj(),this.Cd=!0,r(),this.sb=200,this.Ua.cancel(),kj(),zj(this.g,this,!0)):(kj(),r(),this.Cd=!1))};
l.Je=function(){this.sb=this.Ua.Nc;if(this.Ua.Hb)0==this.Va?this.Cc?(this.Va=1,wj(this)):(this.Va=2,xj(this)):2==this.Va&&(this.Cd?(kj(),zj(this.g,this,!0)):(kj(),zj(this.g,this,!1)));else{0==this.Va?kj():2==this.Va&&kj();var a=this.g;a.$a=this.sb;yj(a,2)}};l.$c=function(){return this.g.$c()};l.tb=function(a){this.g.tb(a)};function Aj(a){switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:return!0;default:return!1}};function Bj(a){I.call(this);this.headers=new tg;this.O=a||null;this.j=!1;this.N=this.g=null;this.I="";this.o=0;this.A="";this.C=this.U=this.H=this.R=!1;this.D=0;this.M=null;this.B="";this.Y=this.nc=!1}t(Bj,I);var Cj=/^https?$/i,Dj=["POST","PUT"],Ej=[];function Fj(a,b,c,d,e,f,g){var k=new Bj;Ej.push(k);b&&k.listen("complete",b);re(k.v,"ready",k.Ci,!0,void 0,void 0);f&&Gj(k,f);g&&(k.nc=g);k.send(a,c,d,e)}l=Bj.prototype;l.Ci=function(){this.V();wb(Ej,this)};function Gj(a,b){a.D=Math.max(0,b)}
l.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+a);b=b?b.toUpperCase():"GET";this.I=a;this.A="";this.o=0;this.R=!1;this.j=!0;this.g=this.$d();this.N=this.O?Vi(this.O):Vi(Xi);this.g.onreadystatechange=q(this.qg,this);try{this.$(),this.U=!0,this.g.open(b,String(a),!0),this.U=!1}catch(f){this.$();Hj(this,f);return}a=c||"";var e=this.headers.clone();d&&Cg(d,function(a,b){e.set(b,a)});d=tb(e.va(),Ij);c=m.FormData&&a instanceof
m.FormData;!ub(Dj,b)||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.B&&(this.g.responseType=this.B);"withCredentials"in this.g&&this.g.withCredentials!==this.nc&&(this.g.withCredentials=this.nc);try{Jj(this),0<this.D&&(this.Y=!1,this.$(),this.Y?(this.g.timeout=this.D,this.g.ontimeout=q(this.ya,this)):this.M=Pi(this.ya,this.D,this)),this.$(),this.H=!0,this.g.send(a),this.H=!1}catch(f){this.$(),Hj(this,
f)}};function Ij(a){return"content-type"==a.toLowerCase()}l.$d=function(){return this.O?Zi(this.O):Zi(Xi)};l.ya=function(){"undefined"!=typeof va&&this.g&&(this.A="Timed out after "+this.D+"ms, aborting",this.o=8,this.$(),this.dispatchEvent("timeout"),this.abort(8))};function Hj(a,b){a.j=!1;a.g&&(a.C=!0,a.g.abort(),a.C=!1);a.A=b;a.o=5;Kj(a);Lj(a)}function Kj(a){a.R||(a.R=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
l.abort=function(a){this.g&&this.j&&(this.$(),this.j=!1,this.C=!0,this.g.abort(),this.C=!1,this.o=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Lj(this))};l.G=function(){this.g&&(this.j&&(this.j=!1,this.C=!0,this.g.abort(),this.C=!1),Lj(this,!0));Bj.J.G.call(this)};l.qg=function(){this.isDisposed()||(this.U||this.H||this.C?Mj(this):this.Ie())};l.Ie=function(){Mj(this)};
function Mj(a){if(a.j&&"undefined"!=typeof va)if(a.N[1]&&4==gj(a)&&2==a.$())a.$();else if(a.H&&4==gj(a))Pi(a.qg,0,a);else if(a.dispatchEvent("readystatechange"),4==gj(a)){a.$();a.j=!1;try{if(a.Eb())a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.o=6;var b;try{b=2<gj(a)?a.g.statusText:""}catch(c){b=""}a.A=b+" ["+a.$()+"]";Kj(a)}}finally{Lj(a)}}}
function Lj(a,b){if(a.g){Jj(a);var c=a.g,d=a.N[0]?ya:null;a.g=null;a.N=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function Jj(a){a.g&&a.Y&&(a.g.ontimeout=null);Ea(a.M)&&(Qi(a.M),a.M=null)}l.Eb=function(){var a=this.$(),b;if(!(b=Aj(a))){if(a=0===a)a=String(this.I).match(wd)[1]||null,!a&&m.self&&m.self.location&&(a=m.self.location.protocol,a=a.substr(0,a.length-1)),a=!Cj.test(a?a.toLowerCase():"");b=a}return b};function gj(a){return a.g?a.g.readyState:0}
l.$=function(){try{return 2<gj(this)?this.g.status:-1}catch(a){return-1}};l.sa=function(){try{return this.g?this.g.responseText:""}catch(a){return""}};function Nj(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.B){case "":case "text":return a.g.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(b){return null}}l.getAllResponseHeaders=function(){return this.g&&4==gj(this)?this.g.getAllResponseHeaders():""};
ie(function(a){Bj.prototype.Ie=a(Bj.prototype.Ie)});function Oj(a,b,c,d){this.C=a||null;this.g=1;this.j=[];this.o=[];this.v=new li(null,!0);this.F=b||null;this.S=null!=c?c:null;this.A=d||!1}l=Oj.prototype;l.Mc=null;l.Jc=null;l.Ja=null;l.qa=null;l.ve=null;l.od=null;l.lf=null;l.ue=null;l.Wf=!0;l.Uc=0;l.oa=null;l.Bb=null;l.pb=null;l.Jb=null;l.yb=null;l.Ve=null;l.wd=-1;l.ig=-1;l.$a=-1;l.Kc=0;l.Vb=0;l.Xf=0;l.Kd=!1;l.Ib=8;var Pj=new I;function Qj(a){H.call(this,"statevent",a)}t(Qj,H);function Rj(a,b){H.call(this,"timingevent",a);this.size=b}t(Rj,H);
function Sj(a){H.call(this,"serverreachability",a)}t(Sj,H);l=Oj.prototype;l.connect=function(a,b,c,d,e){kj();this.ve=b;this.Jc=c||{};d&&n(e)&&(this.Jc.OSID=d,this.Jc.OAID=e);this.A?(pj(q(this.tf,this,a),100),Tj(this)):this.tf(a)};function Uj(a){Vj(a);if(3==a.g){var b=a.Uc++,c=a.od.clone();Di(c,"SID",a.ea);Di(c,"RID",b);Di(c,"TYPE","terminate");Wj(a,c);b=new $i(a,0,a.ea,b,void 0);b.rd=2;b.Bc=Gi(c.clone());(new Image).src=b.Bc;b.Dd=r();fj(b)}Xj(a)}l.fb=h("ea");
l.tf=function(a){Yj(this)&&(this.yb=new tj(this),this.yb.we=this.Mc,this.yb.j=this.v,this.yb.connect(a))};function Tj(a){a.$i(1,0);a.od=uj(a,null,a.ve);Zj(a)}function Vj(a){a.yb&&(a.yb.abort(),a.yb=null);a.qa&&(a.qa.cancel(),a.qa=null);a.pb&&(m.clearTimeout(a.pb),a.pb=null);ak(a);a.Ja&&(a.Ja.cancel(),a.Ja=null);a.Bb&&(m.clearTimeout(a.Bb),a.Bb=null)}l.gg=function(){return 0==this.g};function Zj(a){a.Ja||a.Bb||(a.Bb=pj(q(a.tg,a),0),a.Kc=0)}
l.tg=function(a){this.Bb=null;if(Yj(this))if(1==this.g){if(!a){this.Uc=Math.floor(1E5*Math.random());a=this.Uc++;var b=new $i(this,0,"",a,void 0);b.Nb=this.Mc;var c=bk(this),d=this.od.clone();Di(d,"RID",a);this.C&&Di(d,"CVER",this.C);Wj(this,d);cj(b,d,c);this.Ja=b;this.g=2}}else 3==this.g&&(a?ck(this,a):0==this.j.length||this.Ja||ck(this))};
function ck(a,b){var c;b?6<a.Ib?(a.j=a.o.concat(a.j),a.o.length=0,c=a.Uc-1,b=bk(a)):(c=b.eb(),b=b.Qb):(c=a.Uc++,b=bk(a));var d=a.od.clone();Di(d,"SID",a.ea);Di(d,"RID",c);Di(d,"AID",a.wd);Wj(a,d);c=new $i(a,0,a.ea,c,a.Kc+1);c.Nb=a.Mc;c.setTimeout(Math.round(1E4)+Math.round(1E4*Math.random()));a.Ja=c;cj(c,d,b)}function Wj(a,b){a.oa&&(a=a.oa.Tf(a))&&Fb(a,function(a,d){Di(b,d,a)})}
function bk(a){var b=Math.min(a.j.length,1E3),c=["count="+b],d;6<a.Ib&&0<b?(d=a.j[0].g,c.push("ofs="+d)):d=0;for(var e=0;e<b;e++){var f=a.j[e].g,g=a.j[e].map,f=6>=a.Ib?e:f-d;try{Cg(g,function(a,b){c.push("req"+f+"_"+b+"="+encodeURIComponent(a))})}catch(k){c.push("req"+f+"_type="+encodeURIComponent("_badmap"))}}a.o=a.o.concat(a.j.splice(0,b));return c.join("&")}function dk(a){a.qa||a.pb||(a.B=1,a.pb=pj(q(a.sg,a),0),a.Vb=0)}
function ek(a){if(a.qa||a.pb||3<=a.Vb)return!1;a.B++;a.pb=pj(q(a.sg,a),fk(a,a.Vb));a.Vb++;return!0}l.sg=function(){this.pb=null;if(Yj(this)){this.qa=new $i(this,0,this.ea,"rpc",this.B);this.qa.Nb=this.Mc;this.qa.ye=this.Xf;var a=this.lf.clone();Di(a,"RID","rpc");Di(a,"SID",this.ea);Di(a,"CI",this.Ve?"0":"1");Di(a,"AID",this.wd);Wj(this,a);Di(a,"TYPE","xmlhttp");ej(this.qa,a,!0,this.ue)}};function Yj(a){if(a.oa){var b=a.oa.og(a);if(0!=b)return yj(a,b),!1}return!0}
function zj(a,b,c){a.Ve=c;a.$a=b.sb;a.A||Tj(a)}
l.rg=function(a,b){if(0!=this.g&&(this.qa==a||this.Ja==a))if(this.$a=a.Nc,this.Ja==a&&3==this.g)if(7<this.Ib){var c;try{c=this.v.parse(b)}catch(d){c=null}if(Ba(c)&&3==c.length)if(a=c,0==a[0])a:{if(!this.pb){if(this.qa)if(this.qa.Dd+3E3<this.Ja.Dd)ak(this),this.qa.cancel(),this.qa=null;else break a;ek(this);kj()}}else this.ig=a[1],0<this.ig-this.wd&&37500>a[2]&&this.Ve&&0==this.Vb&&!this.Jb&&(this.Jb=pj(q(this.Ck,this),6E3));else yj(this,11)}else"y2f%"!=b&&yj(this,11);else if(this.qa==a&&ak(this),
!Ua(b))for(c=this.v.parse(b),Ba(c),a=c,b=0;b<a.length;b++)c=a[b],this.wd=c[0],c=c[1],2==this.g?"c"==c[0]?(this.ea=c[1],this.ue=vj(this,c[2]),c=c[3],null!=c?this.Ib=c:this.Ib=6,this.g=3,this.oa&&this.oa.rf(this),this.lf=uj(this,this.$c()?this.ue:null,this.ve),dk(this)):"stop"==c[0]&&yj(this,7):3==this.g&&("stop"==c[0]?yj(this,7):"noop"!=c[0]&&this.oa&&this.oa.qf(this,c),this.Vb=0)};function vj(a,b){return a.Wf?a.oa?a.oa.Vf(b):b:null}
l.Ck=function(){null!=this.Jb&&(this.Jb=null,this.qa.cancel(),this.qa=null,ek(this),kj())};function ak(a){null!=a.Jb&&(m.clearTimeout(a.Jb),a.Jb=null)}
l.Je=function(a){var b;if(this.qa==a)ak(this),this.qa=null,b=2;else if(this.Ja==a)this.Ja=null,b=1;else return;this.$a=a.Nc;if(0!=this.g)if(a.Hb)1==b?(r(),Pj.dispatchEvent(new Rj(Pj,a.Qb?a.Qb.length:0)),Zj(this),this.o.length=0):dk(this);else{var c=a.lc,d;if(!(d=3==c||7==c||0==c&&0<this.$a)){if(d=1==b)this.Ja||this.Bb||1==this.g||2<=this.Kc?d=!1:(this.Bb=pj(q(this.tg,this,a),fk(this,this.Kc)),this.Kc++,d=!0);d=!(d||2==b&&ek(this))}if(d)switch(c){case 1:yj(this,5);break;case 4:yj(this,10);break;case 3:yj(this,
6);break;case 7:yj(this,12);break;default:yj(this,2)}}};function fk(a,b){var c=5E3+Math.floor(1E4*Math.random());a.oa||(c*=2);return c*b}l.$i=function(a){if(!ub(arguments,this.g))throw Error("Unexpected channel state: "+this.g);};function yj(a,b){if(2==b||9==b){var c=null;a.oa&&(c=a.oa.Uf(a));var d=q(a.xl,a);c||(c=new pi("//www.google.com/images/cleardot.gif"),Gi(c));rj(c.toString(),1E4,d)}else kj();gk(a,b)}l.xl=function(a){a?kj():(kj(),gk(this,8))};
function gk(a,b){a.g=0;a.oa&&a.oa.pf(a,b);Xj(a);Vj(a)}function Xj(a){a.g=0;a.$a=-1;if(a.oa)if(0==a.o.length&&0==a.j.length)a.oa.Vd(a);else{var b=yb(a.o),c=yb(a.j);a.o.length=0;a.j.length=0;a.oa.Vd(a,b,c)}}function uj(a,b,c){var d=Hi(c);if(""!=d.o)b&&ri(d,b+"."+d.o),si(d,d.C);else var e=window.location,d=Ii(e.protocol,b?b+"."+e.hostname:e.hostname,e.port,c);a.Jc&&Fb(a.Jc,function(a,b){Di(d,b,a)});Di(d,"VER",a.Ib);Wj(a,d);return d}
l.ae=function(a){if(a&&!this.Kd)throw Error("Can't create secondary domain capable XhrIo object.");a=new Bj;a.nc=this.Kd;return a};function pj(a,b){if(!Fa(a))throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){a()},b)}l.tb=function(){Pj.dispatchEvent(new Sj(Pj))};function kj(){Pj.dispatchEvent(new Qj(Pj))}l.$c=function(){return this.Kd||!1};function hk(){}l=hk.prototype;l.og=ca(0);l.rf=aa();l.qf=aa();l.pf=aa();l.Vd=aa();l.Tf=function(){return{}};l.Uf=ca(null);
l.Vf=function(a){return a};function ik(){}Na(ik.prototype,aa().prototype);ik.prototype.ld=aa();ik.prototype.ke=aa();function jk(){E.call(this);this.j=[]}t(jk,E);jk.prototype.G=function(){this.j=[];jk.J.G.call(this)};function kk(a){jk.call(this);this.g=a}t(kk,jk);function lk(){var a=Jf(J(),"gaia_session_id");this.g=new kk(a)}za(lk);function mk(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(a,b,d,k,p,u,w,z){if("%"==u)return"%";var e=c.shift();if("undefined"==typeof e)throw Error("[goog.string.format] Not enough arguments");arguments[0]=e;return nk[u].apply(null,arguments)})}
var nk={s:function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+hb(" ",Number(c)-a.length):hb(" ",Number(c)-a.length)+a},f:function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;return d=0<=b.indexOf("-",0)?
f+d+hb(" ",a):f+hb(0<=b.indexOf("0",0)?"0":" ",a)+d},d:function(a,b,c,d,e,f,g,k){return nk.f(parseInt(a,10),b,c,d,0,f,g,k)}};nk.i=nk.d;nk.u=nk.d;function ok(a){this.o=a;this.j=Math.floor(a/50);this.g=new mi(50)}ok.prototype.get=function(a){return pk(this,a,function(a,c){return a+c.count})};function pk(a,b,c){b=b||r();qk(a,b);var d=0;b=a.j*(Math.floor(b/a.j)+1)-a.o;for(var e=a.g.aa()-1;0<=e;--e){var f=a.g.get(e);if(f.g<=b)break;d=c(d,f)}return d}function qk(a,b){var c=oi(a.g);c&&(c=c.g-a.j,b<c&&(mk("Went backwards in time: now=%d, slotStart=%d.  Resetting state.",b,c),a=a.g,a.g.length=0,a.j=0))}function rk(a){this.g=a}rk.prototype.count=0;
rk.prototype.min=Number.MAX_VALUE;rk.prototype.max=Number.MIN_VALUE;function sk(){this.g=new ok(8E3)}function tk(a,b){b=null!=b?b:1;return 1>=(a.g.get()+b)/(a.g.o/1E3)}function uk(a,b){b=null!=b?b:1;if(!tk(a,b))throw new vk(kb("Query would cause ","errorsender"," to exceed ",1," qps."));var c=a.g,d=r();qk(c,d);a=oi(c.g);if(!a||d>=a.g)a=new rk(c.j*(Math.floor(d/c.j)+1)),c=c.g,c.g[c.j]=a,c.j=(c.j+1)%c.o;a.count+=b;a.min=Math.min(b,a.min);a.max=Math.max(b,a.max)}function vk(a){Qa.call(this,a)}t(vk,Qa);function wk(a,b,c){E.call(this);this.g=a;this.v=b||0;this.j=c;this.o=q(this.ij,this)}t(wk,E);l=wk.prototype;l.rb=0;l.G=function(){wk.J.G.call(this);this.stop();delete this.g;delete this.j};l.start=function(a){this.stop();this.rb=Pi(this.o,n(a)?a:this.v)};l.stop=function(){0!=this.rb&&Qi(this.rb);this.rb=0};l.ij=function(){this.rb=0;this.g&&this.g.call(this.j)};function xk(a,b,c,d){E.call(this);this.o=null!=d?d:.15;this.A=a;this.v=b;this.C=c;this.g=new wk(this.F,void 0,this);this.B=Number.NEGATIVE_INFINITY;this.j=0}t(xk,E);xk.prototype.start=function(){yk(this,!1,!1)};function yk(a,b,c){b&&(a.g.stop(),zk(a,a.v));0==a.g.rb&&(b=r(),b=Math.max(0,a.B+a.j-b),0==b&&(c?b=zk(a,a.v):a.j=0),a.g.start(b))}xk.prototype.stop=function(){this.g.stop()};function zk(a,b){0<b&&0!=a.o&&(b=Math.floor(b*(1-a.o+Math.random()*a.o*2)));return a.j=b}
xk.prototype.F=function(){this.B=r();zk(this,Math.min(Math.max(2*this.j,this.v),this.C));this.A()};xk.prototype.G=function(){this.g.V();delete this.g;delete this.A;xk.J.G.call(this)};function Ak(a,b,c,d,e,f){E.call(this);this.j=new xk(q(this.nk,this),d||5E3,e||45E3,f);this.o=new V(this);this.v=a;this.A=b;(this.g=c||null)&&this.o.listen(this.g,"c",this.Wj).listen(this.g,"d",this.Uj);F(this,this.j);F(this,this.o)}t(Ak,E);l=Ak.prototype;l.Ic=!1;l.start=function(){this.Ic=!0;if(!this.g||this.g.g())this.A?yk(this.j,!1,!0):this.j.start()};l.stop=function(){this.j.stop();this.Ic=!1};l.Wj=function(){this.Ic&&yk(this.j,!0,!1)};l.Uj=function(){this.j.stop()};
l.nk=function(){!this.Ic||this.g&&!this.g.g()||(this.Ic=!1,this.v())};l.G=function(){delete this.v;delete this.o;delete this.j;delete this.g;Ak.J.G.call(this)};function Bk(a,b,c,d,e,f){this.pa=c||null;this.ha=!!e;this.ca=this.C=ya;this.I=new V(this);this.B=this.ea=this.M=null;this.Qa=a||Ck;this.R=null;this.o=new tf;this.Y=b;this.A=!1;this.S=null;this.v=this.U=this.N=!1;(this.j=d||null)&&this.I.listen(this.j,["c","d"],Ma(this.He,void 0));this.F=new Ak(q(this.il,this),!0,this.j||void 0,7E3,45E3);this.O=-1;this.g=null;this.Z={};this.la=!!f;this.X=-1;this.D=null;this.Pa=Hf(J(),"docs-ar");this.H=!1;this.ld("15",this.Hj,this)}t(Bk,hk);l=Bk.prototype;l.Ga=null;
l.We=null;l.ld=function(a,b,c){uf(this.o,a,b,c)};l.Vf=function(a){return this.pa||a};l.ke=function(a,b,c){return vf(this.o,a,b,c)};function Ck(a){if(1==a.length&&Da(a[0])){var b=a[0];Sa(b,"{this._action=")?(a={},function(){eval(b)}.call(a),a=[0,a._lsq,[b,a],a._tfe]):a=pc(b)}return{type:a[0],Kg:a[1],data:a[2],Qg:a[3]||null}}l.qf=function(a,b){a=this.Qa(b);a.Kg>this.O&&(this.O=a.Kg,this.R!=a.Qg&&(this.R=b=a.Qg,Dk(this,"tfe_changed",b)),Dk(this,String(a.type),a.data))};
function Dk(a,b,c){a.Oa&&a.Oa(b,c);a.o.A(b,c)}l.Tf=function(){var a=Pb(this.Z);a.lsq=String(this.O);null!=this.We&&(a.u=this.We);a.gsi=lk.ua().g.g;this.Pa&&-1!=this.X&&(a.ar=String(this.X),this.D&&(a.arat=this.D.g),this.X=-1,this.D=null);return a};l.og=function(){if(this.ka)try{uk(this.ka)}catch(a){if(!(a instanceof vk))throw a;return 8}return 0};l.rf=function(){this.A=!0;this.v=!1;this.He(0);this.ca()};l.Vd=function(){this.A=!1;this.v||this.F.start()};
function Ek(a,b,c,d){a.M=b||a.M;a.ea=c||a.ea;a.B=d||a.B||"";a.A||a.v||(a.U=!0,Fk(a))}function Fk(a){a.Ga&&(a.Ga.oa=null,Uj(a.Ga));var b;b=a.Y?a.Y():new Oj("1");b.Mc={"X-Same-Domain":"1"};b.Wf=!0;b.Kd=a.la;a.ha&&(b.Xf=200);b.oa=a;a.Ga=b;b={id:a.M};a.ea&&(b.sid=a.ea);a.Ga.connect(a.B+"/test",a.B+"/bind",b)}function Gk(a){a.g=null;a.S=null;a.A&&(a.U=!1,a.v=!1,Uj(a.Ga))}l.il=function(){this.U&&!this.A&&(this.v=!0,Fk(this),this.F.start())};l.pf=function(a,b){this.He(b)};
l.He=function(a){if(null!=a)if(this.S=a,this.N||6!=a)this.N=!1,2==a&&409==(this.Ga?this.Ga.$a:-1)&&(this.R=null,Dk(this,"tfe_changed",null));else{this.N=!0;Ek(this);return}a=this.j&&!this.j.g()?8:null!=this.S?this.S:0;a!=this.g&&(this.g=a,this.C.call(m,a))};function Hk(a){return null==a.g?0:a.g}l.Uf=function(){return Gi(new pi("//www.google.com/images/cleardot.gif"))};
l.Hj=function(a){var b=a.gaiaSessionIdentifier;if(b){if(a=lk.ua().g,a.g!=b)for(a.g=b,b=0;b<a.j.length;b++)a.j[b](new H("Changed",a))}else throw Error("GAIA session id should be a valid string. Received - "+b);};l.V=function(){this.H||(this.H=!0,this.Ga&&(this.Ga.oa=null,Uj(this.Ga),delete this.Ga),G(this.I),G(this.F),G(this.o),delete this.I,delete this.F,delete this.j,delete this.o)};l.isDisposed=h("H");var Ik=/\/d\/([^\/]+)/;function Jk(a){a=a.match(wd)[5]||null;return Ik.test(a)};function Kk(a,b){null!=a&&this.g.apply(this,arguments)}Kk.prototype.j="";Kk.prototype.set=function(a){this.j=""+a};Kk.prototype.g=function(a,b,c){this.j+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.j+=arguments[d];return this};Kk.prototype.toString=h("j");function Lk(a){y(this,a,"er",-1,null)}t(Lk,x);Oc("er",Lk);function Mk(a){y(this,a,"xsrf",-1,null)}t(Mk,x);Oc("xsrf",Mk);function Nk(a,b,c,d){H.call(this,a);this.errorCode=b;this.g=c;this.B=d}t(Nk,H);Nk.prototype.wb=null;Nk.prototype.C="";Nk.prototype.j=null;function Ok(a,b,c,d,e,f,g,k){this.g=a;this.v=b||"text";this.A=Ua(jb(c))?null:c;this.o=n(d)?d:200;this.B={};if(f)for(var p in f)this.B[p.toLowerCase()]=f[p];this.j=n(e)?e:0;this.S=g||{};this.F=k||null;this.C=void 0}var Pk=new li(void 0,!0);Ok.prototype.Eb=function(){return 0==this.j};Ok.prototype.Ka=function(){n(this.C)||(this.C=Qk(this.g||"",this.F));return this.C};
function Rk(a){var b=a.o,c=a.j,d=a.v,e=a.A,f;"text"==a.v?(f=a.g||"",f=-1!=f.indexOf("&")?"document"in m?eb(f):gb(f):f,50<f.length&&(f=f.substring(0,47)+"..."),db.test(f)&&(-1!=f.indexOf("&")&&(f=f.replace(Xa,"&amp;")),-1!=f.indexOf("<")&&(f=f.replace(Za,"&lt;")),-1!=f.indexOf(">")&&(f=f.replace($a,"&gt;")),-1!=f.indexOf('"')&&(f=f.replace(ab,"&quot;")),-1!=f.indexOf("'")&&(f=f.replace(bb,"&#39;")),-1!=f.indexOf("\x00")&&(f=f.replace(cb,"&#0;"))),f+="   (truncated)"):f="responseObject";b={RespStatus:b,
RespErr:c,RespType:d,RespContentType:e,RespString:f};Sb(b,a.S);return b}function Sk(a){return"text"==a.v&&null!=a.g&&Sa(a.g||"",")]}'\n")&&(a=a.Ka(),Ba(a)&&(a=a[0],Ba(a)&&"er"==a[0]))?new Lk(a):null}function Tk(a){a=Sk(a);if(!a)return null;a=A(a,4);return Ba(a)&&"xsrf"==a[0]?new Mk(a):null}function Uk(a){if(200==a.o&&null!=a.A&&!Sk(a)&&"text"==a.v){if(Ua(jb(a.g)))return!0;if(Sa(a.g||"",")]}'\n"))return null==a.Ka()}return!1}
function Qk(a,b){b=b||Pk;return a&&b.parse(a.replace(/^[^[{]+/,""))||null};function Vk(a,b,c){this.ka=b;this.j=a;this.N=c;this.D="";this.g=void 0;this.I=null;this.M="text";this.Z=void 0;this.F=3;this.Y=!1;this.A=ya;this.B=td;this.C=!1;this.S=ya;this.ya=-1;this.R=this.v=!1;this.H=new li(null,!0)}Vk.prototype.o=function(a){var b=[this.j];zb(b,arguments);this.j=Hd.apply(null,b);return this};
function Wk(a){if(!a.N)throw Error("Cannot add session data to request when session data not defined.");var b=a.j,c={};c.sid=a.N.g;c.c="0";c.w="0";var d=J();"docs-smv"in d.g&&(c.smv=If(d,"docs-smv"));a.j=Id(b,c)}function Xk(a,b){a.g=b;return a}function Yk(a,b){b=Gb(b,function(a){return Da(a)?a:qc(a)});return Xk(a,Gd(b))}function Zk(a,b,c){a.A=q(b,c);return a}function $k(a){a.C=!0;return a}function al(a){a.I="GET";return a}function bl(a,b){a.F=b;return a}function cl(a,b,c){a.S=q(b,c);return a}
Vk.prototype.setTimeout=function(a){this.ya=a;return this};function dl(a){a.v&&(Da(a.g)||Ba(a.g));var b=a.X();a.U(b);return b}function el(a){if(a.R){if(a=a.D,Jk(a)){Jk(a);a=a.match(wd);var b=a[5],b=b.replace(Ik,"");a=vd(a[1],a[2],a[3],a[4],b,a[6],a[7])}}else a=a.D;return a};function fl(a,b){this.g=a;this.j=b}fl.prototype.stringify=function(a){return m.JSON.stringify(a,this.g)};fl.prototype.parse=function(a){return m.JSON.parse(a,this.j)};function gl(a,b){this.name=n(a.name)?a.name:hl(a.code);Qa.call(this,Ta("%s %s",this.name,b))}t(gl,Qa);function hl(a){var b=Mb(il,function(b){return a==b});if(!n(b))throw Error("Invalid code: "+a);return b}var il={AbortError:3,EncodingError:5,InvalidModificationError:9,InvalidStateError:7,NotFoundError:1,NotReadableError:4,NoModificationAllowedError:6,PathExistsError:12,QuotaExceededError:10,SecurityError:2,SyntaxError:8,TypeMismatchError:11};function jl(a,b){H.call(this,a.type,b)}t(jl,H);function kl(a){I.call(this);this.g=a;this.g.onwritestart=q(this.j,this);this.g.onprogress=q(this.j,this);this.g.onwrite=q(this.j,this);this.g.onabort=q(this.j,this);this.g.onerror=q(this.j,this);this.g.onwriteend=q(this.j,this)}t(kl,I);kl.prototype.abort=function(){try{this.g.abort()}catch(a){throw new gl(a,"aborting save");}};kl.prototype.getError=function(){return this.g.error&&new gl(this.g.error,"saving file")};kl.prototype.j=function(a){this.dispatchEvent(new jl(a,this))};
kl.prototype.G=function(){delete this.g;kl.J.G.call(this)};function ll(a){kl.call(this,a);this.o=a}t(ll,kl);ll.prototype.write=function(a){try{this.o.write(a)}catch(b){throw new gl(b,"writing file");}};function ml(a,b){this.o=a;this.g=b}function nl(a){var b=new S;a.g.getMetadata(function(a){b.K(a)},q(function(a){b.P(new gl(a,"retrieving metadata for "+this.g.fullPath))},a));return b}function ol(a){var b=new S;a.g.remove(q(b.K,b,!0),q(function(a){b.P(new gl(a,"removing "+this.g.fullPath))},a));return b}function pl(a,b){ml.call(this,a,b);this.j=b}t(pl,ml);
function ql(a,b,c){var d=new S;a.j.getFile(b,rl(c),q(function(a){d.K(new sl(this.o,a))},a),q(function(a){d.P(new gl(a,"loading file "+b+" from "+this.g.fullPath))},a));return d}function tl(a,b,c){var d=new S;a.j.getDirectory(b,rl(c),q(function(a){d.K(new pl(this.o,a))},a),q(function(a){d.P(new gl(a,"loading directory "+b+" from "+this.g.fullPath))},a));return d}
function ul(a){var b=new S,c=a.j.createReader(),d=[],e=q(function(a){b.P(new gl(a,"listing directory "+this.g.fullPath))},a),f=q(function(a){if(a.length){for(var g=0,p;p=a[g];g++)d.push(p.isFile?new sl(this.o,p):new pl(this.o,p));c.readEntries(f,e)}else b.K(d)},a);c.readEntries(f,e);return b}function vl(a){var b=new S;a.j.removeRecursively(q(b.K,b,!0),q(function(a){b.P(new gl(a,"removing "+this.g.fullPath+" recursively"))},a));return b}
function rl(a){return 2==a?{create:!0}:3==a?{create:!0,exclusive:!0}:{}}function sl(a,b){ml.call(this,a,b);this.j=b}t(sl,ml);function wl(a){var b=new S;a.j.createWriter(function(a){b.K(new ll(a))},q(function(a){b.P(new gl(a,"creating writer for "+this.g.fullPath))},a));return b};function xl(a){this.g=a};function yl(a){var b=m.requestFileSystem||m.webkitRequestFileSystem;if(!Fa(b))return Bh(Error("File API unsupported"));var c=new S;b(a,10485760,function(a){c.K(new xl(a))},function(a){c.P(new gl(a,"requesting filesystem"))});return c}function zl(a,b,c){n(c)||(c=a.size);return a.webkitSlice?a.webkitSlice(b,c):a.mozSlice?a.mozSlice(b,c):a.slice?ec("537.1")?a.slice(b,c):(0>b&&(b+=a.size),0>b&&(b=0),0>c&&(c+=a.size),c<b&&(c=b),a.slice(b,c-b)):null};function Al(a){var b=Bl;return function(){var c=this||m,c=c.closure_memoize_cache_||(c.closure_memoize_cache_={}),d=b(Ha(a),arguments);return c.hasOwnProperty(d)?c[d]:c[d]=a.apply(this,arguments)}}function Bl(a,b){a=[a];for(var c=b.length-1;0<=c;--c)a.push(typeof b[c],b[c]);return a.join("\x0B")};function Cl(a){var b={};a=a.replace(/\r/g,"").split("\n");for(var c=0;c<a.length;c++){var d=a[c],e=d.indexOf(":");0>e||(b[d.substring(0,e)]=d.substring(e+2,d.length))}return b}function Dl(a){var b="";Fb(a,function(a,d){b+=d+": "+a+"\r\n"});return b}
var El=Al(function(){if(!m.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return 100!=b.size?!1:!0}),Fl=Al(function(){if(!m.Blob)return!1;var a=new Uint8Array(100),b;try{b=new Blob([a])}catch(c){return!1}return null===zl(b,0,1)?!1:!0});function Gl(){I.call(this)}t(Gl,I);function Hl(a){H.call(this,a)}t(Hl,H);l=Gl.prototype;l.Dg=ca(null);l.Eg=ca(null);l.sa=ca(null);l.start=aa();l.cancel=aa();function Il(a,b){this.j=a;this.g=b;this.o=!0}Il.prototype.Gd=ca(null);Il.prototype.Db=ca(!1);Il.prototype.vd=ca(!1);Il.prototype.ud=ca(!1);function Jl(a,b){Il.call(this,b,a.size);this.v=a}t(Jl,Il);l=Jl.prototype;l.Gd=h("v");l.Db=function(){return Fl()};l.vd=ca(!0);l.ud=ca(!1);l.xf=ca(null);function Kl(){I.call(this)}t(Kl,Gl);Kl.prototype.Mg=aa();function Ll(a,b,c,d,e,f,g,k){I.call(this);this.R=a;this.D=b;this.N=c;this.H=d;this.o=e||null;this.B=f||null;this.M=g?Pb(g):{};this.U=!!k;this.C="";a=new Zd;this.j="scotty-"+lb()+"-"+be(a);this.g=null;this.A=0;this.I=new V(this);F(this,this.I)}t(Ll,Kl);l=Ll.prototype;l.Mg=ba("C");l.Dg=function(){return this.g&&this.g.status||null};l.Eg=h("O");l.sa=function(){return this.g&&this.g.responseText||null};
l.start=function(){this.g=new XMLHttpRequest;var a=this;this.g.upload&&(this.g.upload.onprogress=function(b){a.A=b.loaded;a.dispatchEvent(new Hl("k"))});this.g.onload=function(b){a.A=a.N;a.O=Cl(b.target.getAllResponseHeaders());a.dispatchEvent(new Hl("l"))};this.g.onerror=function(){a.dispatchEvent(new Hl("m"))};this.g.open("POST",this.R);Fb(this.M,function(b,c){a.g.setRequestHeader(c,b)});this.g.setRequestHeader("Content-Type","multipart/form-data; boundary="+this.j);this.g.withCredentials=this.U;
this.g.send(Ml(this))};l.cancel=function(){this.g&&this.g.abort()};function Ml(a){var b=["--",a.j,"\r\n",'Content-Disposition: form-data; name="metadata"\r\n\r\n'+a.C+"\r\n","--",a.j,"\r\n",'Content-Disposition: form-data; name="Filedata"'+(a.o?'; filename="'+a.o+'"':"")+"\r\n"+(a.B?"Content-Type: "+a.B+"\r\n":"")+"Content-Transfer-Encoding: "+a.H+"\r\n","\r\n",a.D,"\r\n","--",a.j,"--\r\n"];return Da(a.D)?b.join(""):new Blob(b)};function Nl(a,b,c,d){var e=null;El()&&(e=d?new Blob([a],{type:d}):new Blob([a]));var f;if(e)f=e.size;else{f=[];for(var g=0,k=0;k<a.length;k++){var p=a.charCodeAt(k);128>p?f[g++]=p:(2048>p?f[g++]=p>>6|192:(55296==(p&64512)&&k+1<a.length&&56320==(a.charCodeAt(k+1)&64512)?(p=65536+((p&1023)<<10)+(a.charCodeAt(++k)&1023),f[g++]=p>>18|240,f[g++]=p>>12&63|128):f[g++]=p>>12|224,f[g++]=p>>6&63|128),f[g++]=p&63|128)}f=f.length}Il.call(this,c,f);this.F=f;this.A=e;this.C=a;this.v=b;this.B=d||void 0}t(Nl,Il);
l=Nl.prototype;l.Gd=h("A");l.Db=function(){return"base64"!=this.v&&Fl()};l.vd=function(){return"base64"!=this.v&&El()};l.ud=ca(!0);l.xf=function(a,b,c){return new Ll(a,this.A||this.C,this.F,"base64"==this.v?"base64":"binary",this.j,this.B,b,c)};function Ol(a,b){this.start=a<b?a:b;this.g=a<b?b:a}Ol.prototype.clone=function(){return new Ol(this.start,this.g)};function Pl(a){I.call(this);this.j=a}t(Pl,I);function Ql(a){H.call(this,a)}t(Ql,H);function Rl(a,b){H.call(this,a);this.Fe=!!b}t(Rl,Ql);l=Pl.prototype;l.Oe=ca(null);l.sa=ca(null);l.Pe=ca(null);l.start=aa();l.cancel=aa();function Sl(a){Pl.call(this,a);this.g=null;this.o=new V(this);F(this,this.o)}t(Sl,Pl);l=Sl.prototype;l.Oe=function(){return this.g&&this.g.Dg()||null};l.sa=function(){return this.g&&this.g.sa()||null};l.Pe=function(){return this.g&&this.g.Eg()||null};l.start=function(a,b,c,d,e){a=new pi(a);Di(a,"upload_protocol","multipart");a=a.toString();this.g=this.j.xf(a,c,e);this.g.Mg(d);this.o.listen(this.g,"k",this.nl);this.o.listen(this.g,"l",this.Rk);this.o.listen(this.g,["m","n"],this.Qk);this.g.start()};
l.cancel=function(){this.g&&this.g.cancel();this.dispatchEvent(new Ql("r"))};l.nl=function(){this.dispatchEvent(new Ql("o"))};l.Rk=function(){this.dispatchEvent(new Ql("p"))};l.Qk=function(){this.dispatchEvent(new Ql("q"))};function Tl(){};function Ul(a,b){I.call(this);this.B=a;this.Ce=this.j=null;this.o=0;this.C=Infinity;this.D=b||5E6;this.g=null}t(Ul,I);Ul.prototype.hash=function(a){this.abort();this.B.reset();this.j=a;this.Ce=null;this.o=0;this.dispatchEvent("started");Vl(this)};function Wl(a,b){a.C=b;a.j&&!a.g&&Vl(a)}Ul.prototype.abort=function(){this.g&&(this.g.abort(),this.g=null);this.j&&(this.j=null,this.dispatchEvent("abort"))};
function Vl(a){if(a.o<a.j.size)if(a.C<=a.o)a.dispatchEvent("throttled");else{a.g=new FileReader;a.g.onload=q(a.H,a);a.g.onerror=q(a.A,a);var b=Math.min(Math.min(a.C,a.j.size)-a.o,a.D),c=zl(a.j,a.o,a.o+b);c&&c.size==b?a.g.readAsArrayBuffer?a.g.readAsArrayBuffer(c):a.g.readAsBinaryString?a.g.readAsBinaryString(c):a.A():a.A()}else a.Ce=a.B.digest(),a.j=null,a.dispatchEvent("complete")}
Ul.prototype.H=function(){var a=null;this.g.result instanceof Array||Da(this.g.result)?a=this.g.result:m.ArrayBuffer&&m.Uint8Array&&this.g.result instanceof ArrayBuffer&&(a=new Uint8Array(this.g.result));a?(this.B.update(a),this.o+=a.length,this.g=null,this.dispatchEvent("progress"),Vl(this)):this.A()};Ul.prototype.A=function(){this.j=this.g=null;this.dispatchEvent("error")};function Xl(){this.j=-1};function Yl(){this.j=64;this.g=Array(4);this.A=Array(this.j);this.v=this.o=0;this.reset()}t(Yl,Xl);Yl.prototype.reset=function(){this.g[0]=1732584193;this.g[1]=4023233417;this.g[2]=2562383102;this.g[3]=271733878;this.v=this.o=0};
function Zl(a,b,c){c||(c=0);var d=Array(16);if(Da(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.g[0];c=a.g[1];var e=a.g[2],f=a.g[3],g;g=b+(f^c&(e^f))+d[0]+3614090360&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[1]+3905402710&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[2]+606105819&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+
d[3]+3250441966&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[4]+4118548399&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[5]+1200080426&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[6]+2821735955&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[7]+4249261313&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[8]+1770035416&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[9]+2336552879&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&
(b^c))+d[10]+4294925233&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[11]+2304563134&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(f^c&(e^f))+d[12]+1804603682&4294967295;b=c+(g<<7&4294967295|g>>>25);g=f+(e^b&(c^e))+d[13]+4254626195&4294967295;f=b+(g<<12&4294967295|g>>>20);g=e+(c^f&(b^c))+d[14]+2792965006&4294967295;e=f+(g<<17&4294967295|g>>>15);g=c+(b^e&(f^b))+d[15]+1236535329&4294967295;c=e+(g<<22&4294967295|g>>>10);g=b+(e^f&(c^e))+d[1]+4129170786&4294967295;b=c+(g<<5&4294967295|g>>>
27);g=f+(c^e&(b^c))+d[6]+3225465664&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[11]+643717713&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[0]+3921069994&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[5]+3593408605&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[10]+38016083&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[15]+3634488961&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[4]+3889429448&4294967295;c=e+(g<<20&4294967295|
g>>>12);g=b+(e^f&(c^e))+d[9]+568446438&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[14]+3275163606&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[3]+4107603335&4294967295;e=f+(g<<14&4294967295|g>>>18);g=c+(f^b&(e^f))+d[8]+1163531501&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(e^f&(c^e))+d[13]+2850285829&4294967295;b=c+(g<<5&4294967295|g>>>27);g=f+(c^e&(b^c))+d[2]+4243563512&4294967295;f=b+(g<<9&4294967295|g>>>23);g=e+(b^c&(f^b))+d[7]+1735328473&4294967295;e=f+(g<<14&4294967295|
g>>>18);g=c+(f^b&(e^f))+d[12]+2368359562&4294967295;c=e+(g<<20&4294967295|g>>>12);g=b+(c^e^f)+d[5]+4294588738&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[8]+2272392833&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[11]+1839030562&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[14]+4259657740&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[1]+2763975236&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[4]+1272893353&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^
b^c)+d[7]+4139469664&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[10]+3200236656&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[13]+681279174&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[0]+3936430074&4294967295;f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[3]+3572445317&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[6]+76029189&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(c^e^f)+d[9]+3654602809&4294967295;b=c+(g<<4&4294967295|g>>>28);g=f+(b^c^e)+d[12]+3873151461&4294967295;
f=b+(g<<11&4294967295|g>>>21);g=e+(f^b^c)+d[15]+530742520&4294967295;e=f+(g<<16&4294967295|g>>>16);g=c+(e^f^b)+d[2]+3299628645&4294967295;c=e+(g<<23&4294967295|g>>>9);g=b+(e^(c|~f))+d[0]+4096336452&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[7]+1126891415&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[14]+2878612391&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[5]+4237533241&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[12]+1700485571&4294967295;b=c+
(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[3]+2399980690&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[10]+4293915773&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[1]+2240044497&4294967295;c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[8]+1873313359&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[15]+4264355552&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[6]+2734768916&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[13]+1309151649&4294967295;
c=e+(g<<21&4294967295|g>>>11);g=b+(e^(c|~f))+d[4]+4149444226&4294967295;b=c+(g<<6&4294967295|g>>>26);g=f+(c^(b|~e))+d[11]+3174756917&4294967295;f=b+(g<<10&4294967295|g>>>22);g=e+(b^(f|~c))+d[2]+718787259&4294967295;e=f+(g<<15&4294967295|g>>>17);g=c+(f^(e|~b))+d[9]+3951481745&4294967295;a.g[0]=a.g[0]+b&4294967295;a.g[1]=a.g[1]+(e+(g<<21&4294967295|g>>>11))&4294967295;a.g[2]=a.g[2]+e&4294967295;a.g[3]=a.g[3]+f&4294967295}
Yl.prototype.update=function(a,b){n(b)||(b=a.length);for(var c=b-this.j,d=this.A,e=this.o,f=0;f<b;){if(0==e)for(;f<=c;)Zl(this,a,f),f+=this.j;if(Da(a))for(;f<b;){if(d[e++]=a.charCodeAt(f++),e==this.j){Zl(this,d);e=0;break}}else for(;f<b;)if(d[e++]=a[f++],e==this.j){Zl(this,d);e=0;break}}this.o=e;this.v+=b};
Yl.prototype.digest=function(){var a=Array((56>this.o?this.j:2*this.j)-this.o);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;for(var c=8*this.v,b=a.length-8;b<a.length;++b)a[b]=c&255,c/=256;this.update(a);a=Array(16);for(b=c=0;4>b;++b)for(var d=0;32>d;d+=8)a[c++]=this.g[b]>>>d&255;return a};function $l(){Bj.call(this)}t($l,Bj);$l.prototype.$d=function(){var a=Bj.prototype.$d.call(this);a.upload&&(a.upload.onprogress=q(this.Z,this));return a};$l.prototype.Z=function(a){this.dispatchEvent(a)};function am(a,b){a.Db()||a.vd();Pl.call(this,a);this.lb=this.H=this.nb=this.ob=null;this.Qa=!1;this.Z=this.U=null;this.M=a.g;this.D=0;this.Y=null;this.ha=this.la=0;this.C="Ready";this.N=this.A=this.I=this.O=this.Oa=this.pa=null;this.o=new V(this);F(this,this.o);this.ka=new V(this);F(this,this.ka);this.B=0;this.g=this.ca=this.R=null;this.Pa=b||Number.MAX_VALUE}t(am,Pl);l=am.prototype;l.Oe=h("pa");l.sa=h("Oa");l.Pe=h("O");
l.start=function(a,b,c,d,e){this.ob=a;this.nb=b;this.H=Pb(c);this.lb=d;this.Qa=!!e;this.C="Creating session";this.H["X-Goog-Upload-Protocol"]="resumable";this.H["X-Goog-Upload-Command"]="start";null!=this.j.g&&(this.H["X-Goog-Upload-Content-Length"]=this.j.g);null!=this.j.j&&/^[\040-\176]*$/.test(this.j.j)&&(this.H["X-Goog-Upload-File-Name"]=this.j.j);this.j.o&&bm(this);this.Ig()};
l.cancel=function(){ji(this.o);ji(this.ka);"Creating session"==this.C&&this.I&&this.I.abort();"Transferring"==this.C&&(this.A&&this.A.abort(),this.N&&this.N.abort(),this.R&&Qi(this.R));this.g&&this.g.abort();(new Bj).send(this.Z,"PUT","",{"X-Goog-Upload-Command":"cancel"});this.C="Cancelled";this.B=this.D=0;this.dispatchEvent(new Ql("r"))};
function bm(a){var b=a.j.Gd();b&&(a.g=new Ul(new Yl),a.ka.listen(a.g,"complete",function(a){this.ca=lc(a.target.Ce);this.g=null}),Wl(a.g,1048576),a.g.hash(b))}l.Ig=function(){this.I=new $l;ji(this.o);this.o.listen(this.I,"complete",this.Nk);this.I.nc=this.Qa;this.I.send(this.ob,this.nb,this.lb,this.H)};
l.Nk=function(a){var b=a.target.$(),c=a.target.sa();a=Cl(a.target.getAllResponseHeaders());cm(b,a,c);var d=dm(a,"X-Goog-Upload-Status"),e=dm(a,"X-Goog-Upload-URL");if("final"==d)this.pa=b,this.O=a,this.Oa=c,this.C="Complete",this.dispatchEvent(new Ql("p"));else if(200==b&&"active"==d&&e){this.U=e;this.Z=dm(a,"X-Goog-Upload-Control-URL")||null;e=dm(a,"X-Goog-Upload-Chunk-Granularity")||null;d=1;if(e&&(d=parseInt(e,10),isNaN(d)||0>=d)){em(this,"Create session failed","Invalid chunk granularity: "+e+
". "+cm(b,a,c));return}b=this.j.g;this.M=Math.floor(b/d)*d;this.Y=Math.floor(1073741824/d)*d;this.j.Db()||(this.Y=b,this.M!=b&&(this.M=0));this.C="Transferring";this.B=0;this.Jg(0)}else 400<=b&&500>b?em(this,"Create session failed","Client failure. "+cm(b,a,c)):(fm(this,this.Ig),gm(this))};
l.Jg=function(a){var b=this.j,c=b.g;b.Db()||a==c||(a=0);var d=a>=this.M,e=d?c:Math.min(this.M,this.Y+a);this.la=a;this.ha=e;var f={"X-Goog-Upload-Command":"upload"+(d?", finalize":""),"X-Goog-Upload-Offset":a};d&&(this.ca?f["X-Goog-Upload-Entity-MD5"]=this.ca:this.g&&(this.g.abort(),this.g=null));this.A=new $l;this.A.nc=this.Qa;ji(this.o);this.o.listen(this.A,"progress",this.ol);this.o.listen(this.A,"complete",this.Pk);a==c?this.A.send(this.U,"PUT","",f):(c=this.j.Gd(),b.Db()?(a=zl(c,a,e),this.A.send(this.U,
"PUT",a,f)):this.A.send(this.U,"PUT",c,f))};l.ol=function(a){this.D=this.la+a.loaded;this.dispatchEvent(new Ql("o"));this.g&&Wl(this.g,this.D+1048576)};l.Pk=function(a){var b=a.target.$();if(void 0===b||-1==b)fm(this,this.Gg),gm(this);else{var c=Cl(a.target.getAllResponseHeaders());a=a.target.sa();this.D=this.ha;cm(b,c,a);hm(this,b,c,a,!0)}};l.Gg=function(){this.N=new $l;ji(this.o);this.o.listen(this.N,"complete",this.Kk);this.N.send(this.Z,"PUT","",{"X-Goog-Upload-Command":"query"})};
l.Kk=function(a){var b=a.target;a=b.$();var c=Cl(b.getAllResponseHeaders()),b=b.sa();cm(a,c,b);hm(this,a,c,b,!1)};function hm(a,b,c,d,e){var f=dm(c,"X-Goog-Upload-Status");if("final"==f)a.C="Complete",a.B=0,a.pa=b,a.O=c,a.Oa=d,a.dispatchEvent(new Ql("p"));else{var g=parseInt(dm(c,"X-Goog-Upload-Size-Received"),10);e&&isNaN(g)&&(g=a.ha);200!=b||"active"!=f||isNaN(g)?(400<=b&&500>b&&em(a,"Transfer failed","Client failure. "+cm(b,c,d)),fm(a,a.Gg),gm(a)):(a.D=g,g>a.la&&(a.B=0),fm(a,q(a.Jg,a,g)))}}
function gm(a){0==a.B&&r();a.B++}function em(a,b){a.C="Error";a.D=0;a.dispatchEvent(new Rl("q","Transient error"==b))}function fm(a,b){var c=[0,5E3,1E4,15E3,3E4,6E4],d=0,d=a.B<c.length?c[a.B]:c[c.length-1];if(d>a.Pa)em(a,"Transient error");else{n(a.Pa)&&(d=Math.min(Math.max(d,0),a.Pa));r();var e=q(b,a);0<d?a.R=Pi(function(){this.R=null;e()},d,a):e()}}function cm(a,b,c){return"Response code: "+a+"\nHeaders:\n"+Dl(b)+"\nBody:\n"+c}function dm(a,b){return a[b]||a[b.toLowerCase()]};function im(a){this.g=a}t(im,Tl);function jm(a,b){if(b.Db()&&b.ud())return 2097152<b.g?new am(b,a.g):new Sl(b);if(b.Db())return new am(b,a.g);if(b.ud())return new Sl(b);if(b.vd())return new am(b,a.g);throw Error("Item supports no transfer types.");};function km(a,b,c){I.call(this);this.I=lm++;this.o="select";this.g=c;F(this,this.g);this.C="";this.B="POST";this.H={};this.A="";this.D=!1;this.j=new V(this);F(this,this.j)}t(km,I);function mm(a,b){H.call(this,a);this.item=b}t(mm,H);function nm(a,b,c){mm.call(this,a,b);this.Fe=!!c}t(nm,mm);km.prototype.sa=function(){return this.g.sa()};
km.prototype.start=function(){var a=this;this.j.listen(this.g,"o",function(){a.dispatchEvent(new mm("t",a))});this.j.listen(this.g,"p",function(){a.o="complete";a.dispatchEvent(new mm("u",a))});this.j.listen(this.g,"q",function(b){a.o="error";a.dispatchEvent(new nm("v",a,b.Fe))});this.g.start(this.C,this.B,this.H,this.A,this.D);this.o="start";this.dispatchEvent(new mm("s",this))};km.prototype.cancel=function(){this.g.cancel();this.o="cancel";ji(this.j);this.dispatchEvent(new mm("w",this))};
var lm=0;function om(){I.call(this)}t(om,I);function pm(a,b){H.call(this,"x");this.directories=b}t(pm,H);function qm(a){I.call(this);this.g=a}t(qm,om);function rm(a){this.g=new im(a)};function sm(a,b){H.call(this,"y",a);this.g=b}t(sm,H);function tm(a,b,c,d,e,f,g,k,p,u,w,z,T,W){I.call(this);this.j=a;this.ha=b;this.D=c;this.B=d;this.H=z||(c?"POST":"GET");this.N=p;this.O=e;this.M=f;this.Y=g;this.ca=k;this.ya=w;this.Z=T;this.A=this.U=this.I=0;this.ka=W||3E4}t(tm,I);var um=5E3*(.75+.5*Math.random());tm.prototype.send=function(a){this.I++;this.U=r();this.Kf(a)};function vm(a,b){a.reset();a.dispatchEvent(new sm(a,b))}function wm(a){return{ReqUri:a.j,ReqContent:a.D,ReqMethod:a.H}}tm.prototype.reset=ya;
tm.prototype.G=function(){this.dispatchEvent("z");this.reset();delete this.M;delete this.O;tm.J.G.call(this)};function xm(a,b,c,d,e,f,g,k,p,u,w,z,T,W,na){if(0>=u)throw Error("Please specify a progress timeout for the Scotty request. Received -"+u);tm.call(this,a,"",b,c,d,e,f,g,k,0,u,"POST",W,na);this.R=w;this.pa=z;this.la=T;this.g=null;this.o=new V(this);this.C=new wk(q(this.Jk,this),u)}t(xm,tm);l=xm.prototype;
l.Kf=function(a){var b=this.pa,c=new Nl(this.D,"raw","",void 0);c.o=!0;c=jm(b.g.g,c);c=new km(0,0,c);b.dispatchEvent(new pm(0,null));this.g=c;b=lk.ua().g.g;b=Ua(jb(b))?this.R:Id(this.R,{authuser:b});this.g.C=b;this.g.B=this.H;this.g.H=Pb(Pb(a.j));b={};c=xd(this.j.match(wd)[5]||null);b.httpaction=c;if(c=this.j.match(wd)[6]||null)for(var c=new vi(c),d=c.va(),e=0;e<d.length;e++){var f=d[e];b[f]=c.get(f)}Sb(b,a.g.g);a=this.la.stringify(b);this.g.A=a;this.g.D=!0;hi(this.o,this.g,"u",this.Tk);hi(this.o,
this.g,"v",this.Uk);this.o.listen(this.g,"t",this.Vk);this.g.start();this.C.start()};l.Tk=function(){if(this.g){var a=this.g.g.Oe(),b=this.g.g.Pe()||{},c={},d;for(d in b)c[d.toLowerCase()]=b[d];a=new Ok(this.g.sa(),"text",c["content-type"]||null,a,Aj(a)?0:6,c,wm(this));vm(this,a)}};l.Uk=function(){if(this.g){var a=new Ok("","text",null,0,5,{},wm(this));vm(this,a)}};l.Vk=function(){ym(this)&&this.C.start()};l.Jk=function(){if(ym(this)){var a=new Ok("","text",null,0,8,{},wm(this));vm(this,a)}};
function ym(a){return null!=a.g&&"start"==a.g.o}l.reset=function(){this.C.stop();this.g&&(ym(this)&&this.g.cancel(),G(this.g),this.g=null);ji(this.o)};l.G=function(){ee(this.C,this.o);xm.J.G.call(this)};function zm(a,b,c,d,e){Vk.call(this,b,c,d);this.ca=a;a=J();this.ha=e||Jf(a,"docs-net-udur");this.la=new qm(new rm);this.O=new fl;this.pa=If(a,"docs-net-udpt")}t(zm,Vk);
zm.prototype.X=function(){if(!this.v)throw Error("Scotty request cannot be built when upload is not allowed for a request.");var a=this.ya;0>=a&&(a=this.pa);var b;b=this.O;if(!Da(this.g)&&!Ba(this.g))throw Error("GetUploadContent() called when upload content is not available");if(Da(this.g))b=this.g;else{for(var c=this.g,d=new Kk("{"),e=0;e<c.length;e+=2)0<e&&d.g(","),d.g(b.stringify(c[e])).g(":").g(b.stringify(c[e+1]));d.g("}");b=d.toString()}var f;Da(b)&&(f=b);return new xm(this.j,f,this.F,this.S,
this.A,this.B,this.C,this.M,0,a,this.ha,this.la,this.O,this.H)};zm.prototype.U=function(a){if(!this.ca)throw Error("Trying to send a request without a request sender for - "+(el(this)+this.j));this.ca.send(a)};function Am(a,b,c,d,e,f,g,k,p,u,w,z,T,W){tm.call(this,a,b,c,d,e,f,g,k,p,0,w,z,T,W);this.g=null;this.o=new V(this)}t(Am,tm);Am.prototype.Kf=function(a){this.g=new Bj;hi(this.o,this.g,"complete",q(this.C,this));Gj(this.g,this.ya);"text"!=this.N&&(this.g.B=Bm(this.N));var b=Id(this.ha+this.j,a.g.g);this.g.send(b,this.H,this.D,Pb(a.j))};
Am.prototype.C=function(){var a,b=this.g;a="";var c=null;try{if(""==b.B?a=b.sa():a=Nj(b),b.g&&4==gj(b))var d=b.g.getResponseHeader("Content-Type"),c=null===d?void 0:d;else c=void 0}catch(u){}for(var d=Cm(b.B),e=b.$(),f=b.o,g={},b=b.getAllResponseHeaders().split("\r\n"),k=0;k<b.length;k++)if(!Ua(jb(b[k]))){var p=b[k].split(": ");2==p.length&&(g[p[0]]=p[1])}a=new Ok(a,d,c,e,f,g,wm(this),this.Z);vm(this,a)};Am.prototype.reset=function(){this.g&&(this.g.V(),this.g=null)};
Am.prototype.G=function(){G(this.o);Am.J.G.call(this)};function Cm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";case "text":return"text";case "":return"text";default:throw Error("Unsupported Xhr Response Type - "+a);}}function Bm(a){switch(a){case "arraybuffer":return"arraybuffer";case "blob":return"blob";case "document":return"document";default:return""}};function Dm(a,b,c,d,e){Vk.call(this,b,c,d);this.O=a;this.ca=!!e}t(Dm,Vk);Dm.prototype.X=function(){var a=this.ya;0>a&&(a=this.ca?4E4:2E4);var b=this.j,c=el(this),d;if(Ba(this.g))if(d=this.g,Hf(J(),"docs-net-cbfd")&&m.FormData){for(var e=new m.FormData,f=0;f<d.length;f+=2)e.append(d[f],d[f+1]);d=e}else d=Ed(d);else d=this.g;return new Am(b,c,d,this.F,this.S,this.A,this.B,this.C,this.M,0,a,this.I,this.H,this.Z)};
Dm.prototype.U=function(a){if(!this.O)throw Error("Trying to send a request without a request sender for - "+(el(this)+this.j));this.O.send(a)};function Em(a,b,c,d,e){Vk.call(this,b,c,d);this.O=a;a=J();this.la=Hf(a,"docs-net-usud");this.ha=If(a,"docs-net-udmi");this.ca=e}t(Em,Vk);
Em.prototype.X=function(){var a=null,b;if(b=this.la&&this.v){if(!Da(this.g)&&!Ba(this.g))throw Error("GetUploadContentLength() called when upload content is not available");if(Ba(this.g)){b=0;for(var c=this.g,d=0;d<c.length;d++)Da(c[d])&&(b+=c[d].length)}else b=this.g.length;b=b>this.ha}b&&(a=new zm(this.O,this.j,this.ka,this.N,this.ca));null==a&&(a=new Dm(this.O,this.j,this.ka,this.N));b=a;b.D=this.D;b.R=this.R;b.g=this.g;b.I=this.I;b.M=this.M;b.F=this.F;b.Y=this.Y;b.A=this.A;b.B=this.B;b.C=this.C;
b.S=this.S;b.ya=this.ya;b.v=this.v;b.H=this.H;return a.X()};Em.prototype.U=function(a){if(!this.O)throw Error("Trying to send a request without a request sender for - "+(el(this)+this.j));this.O.send(a)};function Fm(a){this.g=a};function Gm(a){this.g=a?Pb(a):{};this.j=null}function Hm(){var a=J().get("info_params"),b;Da(a)?b=oc(a):b=Kf(J(),"info_params");return new Gm(b)};function Im(){try{var a=m.localStorage;if(a&&(jc||kc)&&(a.setItem("test","test"),"test"==a.getItem("test")&&(a.removeItem("test"),null==a.getItem("test"))))return!0}catch(b){}return!1};function Jm(a,b){E.call(this);this.v=b;this.g=[];if(a>this.v)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.g.push(this.j())}t(Jm,E);Jm.prototype.Ka=function(){return this.g.length?this.g.pop():this.j()};function Km(a,b){a.g.length<a.v?a.g.push(b):a.o(b)}Jm.prototype.j=function(){return{}};Jm.prototype.o=function(a){if(Ga(a))if(Fa(a.V))a.V();else for(var b in a)delete a[b]};
Jm.prototype.G=function(){Jm.J.G.call(this);for(var a=this.g;a.length;)this.o(a.pop());delete this.g};function Lm(){this.g=[];this.v=new tg;this.D=this.X=this.H=this.C=0;this.j=new tg;this.A=this.S=0;this.I=1;this.B=new Jm(0,4E3);this.B.j=function(){return new Mm};this.F=new Jm(0,50);this.F.j=function(){return new Nm};var a=this;this.o=new Jm(0,2E3);this.o.j=function(){return String(a.I++)};this.o.o=aa()}function Nm(){this.Xe=this.time=this.count=0}
Nm.prototype.toString=function(){var a=[];a.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)");this.Xe&&a.push(" [VarAlloc = ",this.Xe,"]");return a.join("")};function Mm(){}function Om(a,b,c,d){var e=[];-1==c?e.push("    "):e.push(Pm(a.j-c));e.push(" ",Qm(a.j-b));0==a.g?e.push(" Start        "):1==a.g?(e.push(" Done "),e.push(Pm(a.A-a.startTime)," ms ")):e.push(" Comment      ");e.push(d,a);0<a.v&&e.push("[VarAlloc ",a.v,"] ");return e.join("")}
Mm.prototype.toString=function(){return null==this.type?this.o:"["+this.type+"] "+this.o};Lm.prototype.reset=function(){for(var a=0;a<this.g.length;a++){var b=this.g[a];b.id&&Km(this.o,b.id);Km(this.B,b)}this.g.length=0;xg(this.v);this.C=r();this.A=this.S=this.D=this.X=this.H=0;a=this.j.va();for(b=0;b<a.length;b++){var c=this.j.get(a[b]);c.count=0;c.time=0;c.Xe=0;Km(this.F,c)}xg(this.j)};
Lm.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.g.length;d++){var e=this.g[d];1==e.g&&c.pop();a.push(" ",Om(e,this.C,b,c.join("")));b=e.j;a.push("\n");0==e.g&&c.push("|  ")}if(0!=this.v.aa()){var f=r();a.push(" Unstopped timers:\n");sg(this.v,function(b){a.push("  ",b," (",f-b.startTime," ms, started at ",Qm(b.startTime),")\n")})}b=this.j.va();for(d=0;d<b.length;d++)c=this.j.get(b[d]),1<c.count&&a.push(" TOTAL ",c,"\n");a.push("Total tracers created ",this.S,"\n","Total comments created ",
this.A,"\n","Overhead start: ",this.H," ms\n","Overhead end: ",this.X," ms\n","Overhead comment: ",this.D," ms\n");return a.join("")};function Pm(a){a=Math.round(a);var b="";1E3>a&&(b=" ");100>a&&(b="  ");10>a&&(b="   ");return b+a}function Qm(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new Lm;function Rm(a){E.call(this);this.j=a}t(Rm,E);Rm.prototype.g=function(a){return Sm(this,a)};function Tm(a,b){return(b?"__wrapper_":"__protected_")+Ha(a)+"__"}function Sm(a,b){var c=Tm(a,!0);b[c]||((b[c]=Um(a,b))[Tm(a,!1)]=b);return b[c]}
function Um(a,b){function c(){if(a.isDisposed())return b.apply(this,arguments);try{return b.apply(this,arguments)}catch(d){if(!(d&&"object"===typeof d&&d.message&&0==d.message.indexOf("Error in protected function: ")||"string"===typeof d&&0==d.indexOf("Error in protected function: ")))throw a.j(d),new Vm(d);}finally{}}c[Tm(a,!1)]=b;return c}
function Wm(a,b){var c=xa("window"),d=c[b];c[b]=function(b,c){Da(b)&&(b=Ma(Oa,b));arguments[0]=b=Sm(a,b);if(d.apply)return d.apply(this,arguments);var e=b;if(2<arguments.length)var f=Array.prototype.slice.call(arguments,2),e=function(){b.apply(this,f)};return d(e,c)};c[b][Tm(a,!1)]=d}Rm.prototype.G=function(){var a=xa("window"),b;b=a.setTimeout;b=b[Tm(this,!1)]||b;a.setTimeout=b;b=a.setInterval;b=b[Tm(this,!1)]||b;a.setInterval=b;Rm.J.G.call(this)};
function Vm(a){Qa.call(this,"Error in protected function: "+(a&&a.message?String(a.message):String(a)));(a=(this.wb=a)&&a.stack)&&Da(a)&&(this.stack=a)}t(Vm,Qa);function Xm(a,b,c){I.call(this);this.o=b||null;this.j={};this.A=Ym;this.C=a;if(!c){this.g=null;this.g=new Rm(q(this.Ob,this));Wm(this.g,"setTimeout");Wm(this.g,"setInterval");a=this.g;b=xa("window");c=["requestAnimationFrame","mozRequestAnimationFrame","webkitAnimationFrame","msRequestAnimationFrame"];for(var d=0;d<c.length;d++){var e=c[d];c[d]in b&&Wm(a,e)}a=this.g;he=!0;b=q(a.g,a);for(c=0;c<fe.length;c++)fe[c](b);ge.push(a)}}t(Xm,I);
function Zm(a,b){H.call(this,"A");this.error=a;this.context=b}t(Zm,H);function Ym(a,b,c,d){Fj(a,null,b,c,d)}
Xm.prototype.Ob=function(a,b){var c=xa("window.location.href");if(Da(a))a={message:a,name:"Unknown error",lineNumber:"Not available",fileName:c,stack:"Not available"};else{var d,e,f=!1;try{d=a.lineNumber||a.Mt||"Not available"}catch(u){d="Not available",f=!0}try{e=a.fileName||a.filename||a.sourceURL||m.$googDebugFname||c}catch(u){e="Not available",f=!0}a=!f&&a.lineNumber&&a.fileName&&a.stack&&a.message&&a.name?a:{message:a.message||"Not available",name:a.name||"UnknownError",lineNumber:d,fileName:e,
stack:a.stack||"Not available"}}b=b?Pb(b):{};if(this.o)try{this.o(a,b)}catch(u){}d=a.message.substring(0,1900);c=a.stack;try{var g=Hd(this.C,"script",a.fileName,"error",d,"line",a.lineNumber);Ob(this.j)||(g=Id(g,this.j));d={};d.trace=c;if(b)for(var k in b)d["context."+k]=b[k];var p=Gd(d);Ea(null)&&(p=p.substring(0,null));this.A(g,"POST",p,this.B)}catch(u){}try{this.dispatchEvent(new Zm(a,b))}catch(u){}};Xm.prototype.G=function(){G(this.g);Xm.J.G.call(this)};function $m(a,b,c){Qa.call(this,"Local storage error: "+b);this.type=a;this.wb=c||null}t($m,Qa);function an(a){return"Failed to write to localstore ("+a.type+"): "+a.message}function bn(a){return(a=a.wb&&a.wb instanceof Event?a.wb.target:null)?a.error:null};var cn=m.IDBKeyRange||m.webkitIDBKeyRange;
function dn(a,b,c,d,e,f){b=n(b)?en(b,c):null;e=e?"prev":"next";if(d)return a=fn(a,d),f?(f=n(b),d=n(e),f=f&&d?a.g.openKeyCursor(b,e):f?a.g.openKeyCursor(b):a.g.openKeyCursor(),b=new gn(f,a.j,a.g.name+".openKeyCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)):(f=n(b),d=n(e),f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor(),b=new gn(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)),b;f=n(b);d=n(e);f=f&&d?a.g.openCursor(b,e):f?a.g.openCursor(b):a.g.openCursor();
return new gn(f,a.j,a.g.name+".openCursor("+(b?b.lower+", "+b.upper:b)+", "+e+")",a.v,a.o)}function hn(a,b,c,d){b=en(b,c);a=jn(a,b);d&&kn(a,d)}function ln(a,b,c,d,e,f,g,k,p,u){b=X(a,b);var w=[];kn(dn(b,e,f,g,k,p),function(b){if(b=b.target.result){var e=n(b.value)?b.value:b.key;(e=c(e))&&w.push(e);b["continue"]()}else u&&mn(a),d&&d(w)})}
function nn(a){var b=a.target.error,c=b&&b.name,b=b&&b.message||a.target.webkitErrorMessage;a.target.docs_internalAbort&&(b="Internal abort: "+b);return c+" ("+b+")"}function on(a,b){return function(c){c.stopPropagation();b(new $m(1,a+" ("+nn(c)+")",c))}}function en(a,b){return n(b)&&a!=b?cn.bound(a,b):cn.only(a)};function pn(a,b,c,d,e,f){S.call(this,e,f);this.D=a;this.S=[];this.I=!!b;this.Y=!!c;this.U=!!d;for(b=this.N=0;b<a.length;b++)U(a[b],q(this.M,this,b,!0),q(this.M,this,b,!1));0!=a.length||this.I||this.K(this.S)}t(pn,S);pn.prototype.M=function(a,b,c){this.N++;this.S[a]=[b,c];this.g||(this.I&&b?this.K([a,c]):this.Y&&!b?this.P(c):this.N==this.D.length&&this.K(this.S));this.U&&!b&&(c=null);return c};pn.prototype.P=function(a){pn.J.P.call(this,a);for(a=0;a<this.D.length;a++)this.D[a].cancel()};
function qn(a){return(new pn(a,!1,!0)).T(function(a){for(var b=[],d=0;d<a.length;d++)b[d]=a[d][1];return b})};function rn(a){E.call(this);this.j=new Bj;this.D=new wk(this.B,3E4,this);this.N=new sk;this.I=!1;this.C=new Eg;this.H=new V(this);this.U=a||10;this.H.listen(this.j,"complete",this.O);this.H.listen(this.j,"ready",this.B)}t(rn,E);rn.prototype.send=function(a,b,c,d){var e=this.fc().T(function(e){e>=this.U||(e={},e.u=a,e.m=b,e.c=c,e.h=d,this.hd(e))},this).T(this.B,this);uh(e,function(){yg(this.C.g,Gg(e))},this);Fg(this.C,e)};rn.prototype.B=function(){0!=this.D.rb||this.j.g||this.I||sn(this)};
function sn(a){a.ec().T(function(a){if(!this.j.g&&0==this.D.rb&&!this.I&&a)if(4E3<a.u.length)this.Kb();else try{uk(this.N,1),this.j.send(a.u,a.m,a.c,a.h)}catch(c){if(c instanceof vk)this.I=!0;else throw c;}},a)}rn.prototype.O=function(){var a=this.j.$();this.j.Eb()||400<=a&&500>=a?this.Kb():this.D.start()};rn.prototype.G=function(){ee(this.H,this.D,this.j);xg(this.C.g);rn.J.G.call(this)};function tn(a,b,c,d,e){rn.call(this,e);this.F=b;this.v=b+"-f";this.o=b+"-n";this.A=c;this.M=a;this.g=null;this.R=d||un;a=this.R.open("DocsErrors",1);a.onsuccess=q(this.vj,this);a.onupgradeneeded=q(this.qk,this);a.onerror=q(this.ag,this);a.onblocked=q(this.ag,this)}t(tn,rn);var un=m.indexedDB||m.webkitIndexedDB;l=tn.prototype;
l.vj=function(a){var b=a.target.result,c=b.transaction(["Errors"],"readwrite");(new pn([vn(this.v,c),vn(this.o,c)])).T(function(a){null==a[0][1]||null==a[1][1]?(a=c.objectStore("Errors"),a.put({key:this.v,value:"1"}),a.put({key:this.o,value:"1"}),c.oncomplete=q(this.yf,this,b)):this.yf(b)},this)};l.yf=function(a){this.g=a;this.B()};l.qk=function(a){a.target.transaction.db.createObjectStore("Errors",{keyPath:"key"})};
l.ag=function(a){this.g&&(this.g.close(),this.g=null);wn(this.M,Error("IdbErrorSender: "+nn(a)))};l.hd=function(a){if(!this.g)return this.A.hd(a);var b=this.g.transaction(["Errors"],"readwrite"),c=new S;vn(this.o,b).T(function(d){if(d){var e=b.objectStore("Errors");e.put({key:this.o,value:String(d+1)});e.put({key:this.F+"-e-"+d,value:qc(a)});b.oncomplete=q(c.K,c)}else c.K()},this);return c};
l.Kb=function(){if(!this.g)return this.A.Kb();var a=this.g.transaction(["Errors"],"readwrite"),b=new S;(new pn([vn(this.v,a),vn(this.o,a)])).T(function(c){var d=c[0][1];c=c[1][1];if(!d||c<=d)b.K();else{var e=a.objectStore("Errors");e["delete"](this.F+"-e-"+d);d++;e.put({key:this.v,value:String(d)});xn(this,a).T(function(c){0==c&&(e.put({key:this.v,value:"1"}),e.put({key:this.o,value:"1"}));a.oncomplete=q(b.K,b)},this)}},this);return b};
l.ec=function(){if(!this.g)return this.A.ec();var a=this.g.transaction(["Errors"],"readonly");return(new pn([vn(this.v,a),vn(this.o,a)])).T(function(b){var c=b[0][1];return!c||1>b[1][1]-c?null:yn(this.F+"-e-"+c,a).T(function(a){return a&&(a=oc(a))?a:this.Kb().T(this.ec,this)},this)},this)};l.fc=function(){if(!this.g)return this.A.fc();var a=this.g.transaction(["Errors"],"readonly");return xn(this,a)};function xn(a,b){return(new pn([vn(a.v,b),vn(a.o,b)])).T(function(a){return a[1][1]-a[0][1]})}
function vn(a,b){return yn(a,b).T(function(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a})}function yn(a,b){b=b.objectStore("Errors");var c=new S;b.get(a).onsuccess=function(a){a.target.result?c.K(a.target.result.value):c.K(null)};return c}l.G=function(){this.g&&(this.g.close(),this.g=null);tn.J.G.call(this)};function zn(){E.call(this);this.g={}}t(zn,E);zn.prototype.vb=function(a,b,c){if(Fa(a))c&&(a=q(a,c));else if(a&&"function"==typeof a.handleEvent)a=q(a.handleEvent,a);else throw Error("Invalid listener argument");c=new An;a=Pi(q(this.j,this,a,c),b);this.g[a]=!0;return c.g=a};zn.prototype.j=function(a,b){b=b.getId();null===b||delete this.g[b];a()};zn.prototype.G=function(){for(var a in this.g)Qi(Number(a));zn.J.G.call(this)};function An(){this.g=null}An.prototype.getId=h("g");function Bn(a,b){rn.call(this,b);this.F=a;this.A=a+"-v";this.v=a+"-f";this.o=a+"-n";this.g=m.localStorage;Im();a=Cn(this,this.A);if(!a||1>a)this.g.setItem(this.A,"1"),this.g.setItem(this.v,"1"),this.g.setItem(this.o,"1");this.B();this.M=new zn;F(this,this.M);this.M.vb(this.Si,3E4,this)}t(Bn,rn);l=Bn.prototype;l.hd=function(a){var b=Cn(this,this.o);if(!b||1!=Cn(this,this.A))return Ah();try{this.g.setItem(this.o,String(b+1)),this.g.setItem(this.F+"-e-"+b,qc(a))}catch(c){}return Ah()};
l.Kb=function(){var a=Cn(this,this.v);if(!a||1!=Cn(this,this.A))return Ah();this.g.removeItem(this.F+"-e-"+a);a++;this.g.setItem(this.v,String(a));return this.fc().T(function(a){0==a&&(this.g.setItem(this.v,"1"),this.g.setItem(this.o,"1"))},this)};l.ec=function(){var a=Cn(this,this.v);return a&&1==Cn(this,this.A)?this.fc().T(function(b){if(1>b)return null;try{var c=this.g.getItem(this.F+"-e-"+a);if(c){var d=oc(c);if(d)return d}}catch(e){}return this.Kb().T(this.ec,this)},this):Ah(null)};
l.fc=function(){return Ah(Cn(this,this.o)-Cn(this,this.v))};function Cn(a,b){return(a=a.g.getItem(b))?Dn(a):null}function Dn(a){a=parseInt(a,10);return 0>a||isNaN(a)?null:a}l.Si=function(){if(Cn(this,this.o)&&1==Cn(this,this.A))for(var a=this.F+"-e-",b=0,c=this.g.length;b<c;++b){var d=this.g.key(b);if(d&&Sa(d,a)){var e=Dn(d.substring(a.length)),f=Cn(this,this.o);f&&e&&e>=f&&this.g.removeItem(d)}}};function En(a){rn.call(this,a);this.g=[]}t(En,rn);l=En.prototype;l.hd=function(a){this.g.push(a);return Ah()};l.Kb=function(){this.g.shift();return Ah()};l.ec=function(){return Ah(n(this.g[0])?this.g[0]:null)};l.fc=function(){return Ah(this.g.length)};l.G=function(){delete this.g;En.J.G.call(this)};function Fn(a,b,c,d,e,f,g,k){I.call(this);this.B={};this.j=null;this.g={};this.C=new V(this);this.I=!!e;this.o=null;var p;b&&Im()?p=new Bn(b,c):p=new En(c);b&&un&&jc&&g?(this.o=new tn(this,b,p,void 0,c),F(this,p)):this.o=p;a=k?k:Jf(J(),"docs-sup")+"/jserror";(b=Jf(J(),"jobset"))&&(a=Hd(a,"jobset",b));if(Gn)throw Error("ErrorReporter already installed.");Gn=!0;b=q(this.bl,this);this.j=new Xm(a,b,void 0);this.j.B={"X-Same-Domain":"1","X-No-Abort":"1"};a=q(this.pl,this);this.j.A=a;this.C.listen(this.j,
"A",this.qj);this.D=!1;this.H=!0;this.A=!1}t(Fn,I);var Gn=!1;function Hn(a,b,c){a.B[b]=c}function In(a,b,c){a.g[b]=c}function Jn(a,b){a.A=!1;if(!a.j)throw b;a.j.Ob(b,Kn("fatal",void 0))}function wn(a,b,c){a.A=!1;a.j&&a.j.Ob(b,Kn("warning",c))}function Ln(a,b,c){a.A=!1;a.j&&a.j.Ob(b,Kn("incident",c))}l=Fn.prototype;l.log=function(a,b,c){this.A=!!c;if(!this.j)throw a;this.j.Ob(a,Kn("incident",b))};
function Mn(a,b,c,d){return q(function(a){var e;a:{var g=!!d,k=arguments;if(this.j){try{e=b.apply(c,k);break a}catch(p){if(Jn(this,p),g)throw p;}e=void 0}else e=b.apply(c,k)}return e},a)}function Kn(a,b){b=b?Pb(b):{};b.severity=a;return b}
l.qj=function(a){var b=a.context.severity;if((b="fatal"==b||"postmortem"==b)&&!this.I&&window.confirm("This error has been reported to Google and we'll look into it as soon as possible. Please reload this page to continue.")){var c=window;c.onbeforeunload=ya;c.location.reload()}this.dispatchEvent(new Nn(b?"B":"C",a.error,a.context))};
l.bl=function(a,b){for(var c in this.B)try{b[c]=this.B[c]()}catch(e){}Sb(b,this.g);a=b.severity||"fatal";(c=Jf(J(),"docs-jern"))&&(b.reportName=c+"_"+a);var d;a:{for(d in Array.prototype){d=!1;break a}d=!0}b.isArrayPrototypeIntact=d.toString();this.D?(this.H=this.A||!Hf(J(),"docs-spfe"),"fatal"==a?a="postmortem":"incident"==a&&(a="warningafterdeath")):"fatal"==a&&(this.D=!0);this.A=!1;b.severity=a};l.pl=function(a,b,c,d){this.H&&this.o.send(a,b,c,d)};
l.G=function(){Gn=!1;ee(this.C,this.j,this.o);Fn.J.G.call(this)};function Nn(a,b,c){H.call(this,a);this.error=b;this.context=c}t(Nn,H);function On(a,b,c){H.call(this,"D",a);this.g=b;this.j=c}t(On,H);function Pn(a,b,c){I.call(this);this.j={"X-Same-Domain":"1"};!1===c&&(this.j={});this.o="";this.g=b||Hm();(a=Md((a||m).location.href,"authkey"))&&Qn(this,"authkey",a)}t(Pn,I);Pn.prototype.A=function(a){Qn(this,"tfe",a)};function Qn(a,b,c){var d=a.g;if(c){if(d.g[b]=c,d.j&&(b=d.g.token||null))d.j.K(b),d.j=null}else delete d.g[b];a.dispatchEvent("E")};function Rn(a){I.call(this);this.j=a;this.g=null;this.o=new V(this);this.o.listen(this.j,"E",this.A)}t(Rn,I);Rn.prototype.A=function(){this.g&&(this.g.Z=Pb(this.j.g.g))};Rn.prototype.B=function(a){var b=this.g;this.dispatchEvent(new On(this,0==a,b.Ga?b.Ga.$a:-1))};Rn.prototype.G=function(){this.g&&!this.g.isDisposed()&&(this.g.ke("tfe_changed",this.j.A,this.j),Gk(this.g),this.g.C=ya);this.g=null;G(this.o);Rn.J.G.call(this)};new Eg;function Sn(a,b){E.call(this);this.g=[];this.A=a;this.o=b||null;this.j=this.v=null;this.o&&(this.j=new Oi(500),this.v=new V(this),this.v.listen(this.j,"tick",this.B))}t(Sn,E);Sn.prototype.reset=function(){this.g=[];this.j&&this.j.stop()};Sn.prototype.contains=function(a){return ub(this.g,a)};Sn.prototype.B=function(){for(;0<this.g.length&&tk(this.o);)uk(this.o),this.A(this.g.shift());Tn(this)};function Tn(a){0==a.g.length&&a.j&&a.j.stop()}Sn.prototype.G=function(){G(this.v);G(this.j);Sn.J.G.call(this)};function Un(a,b){H.call(this,"H");this.j=a;this.g=b}t(Un,H);function Vn(){I.call(this);this.g=Wn}t(Vn,I);function Xn(a,b){var c=a.g;b!=c&&(a.g=b,a.dispatchEvent(new Un(c,b)))}function Yn(a,b){this.j=a;this.g=b}
var Wn=new Yn("IDLE",1),Zn=new Yn("BUSY",1),$n=new Yn("RECOVERING",2),ao=new Yn("OFFLINE",3),bo=new Yn("SERVER_DOWN",3),co=new Yn("FORBIDDEN",4),eo=new Yn("AUTH_REQUIRED",4),fo=new Yn("SESSION_LIMIT_EXCEEDED",4),go=new Yn("INCOMPATIBLE_SERVER",5),ho=new Yn("CLIENT_ERROR",5),io=new Yn("BATCH_CLIENT_ERROR",3),jo=new Yn("SAVE_ERROR",5),ko=new Yn("BATCH_SAVE_ERROR",3);Yn.prototype.toString=h("j");function lo(a,b,c,d,e,f,g,k){I.call(this);this.O=a;this.j=new Pn(b,e,g);this.o=new Rn(this.j);this.C=new V(this);this.H=c||null;c&&this.C.listen(c,"B",this.Bj);this.g=d||new Vn;this.N=k||null;this.M=new zn;this.A=[];this.I=[];this.D=new Sn(q(this.ql,this),f);this.B=ho;this.C.listen(this.o,"D",this.pj)}t(lo,I);function mo(a,b){b=no(a,b);b.D=a.j.o;return b}function no(a,b){return new Em(a,b,a,a.N,a.O.g)}l=lo.prototype;
l.send=function(a){if(!a.isDisposed()){vb(this.A,a);a:{var b=this.D;if(b.o){if(!tk(b.o)||0!=b.g.length){b.g.push(a);b.j.start();break a}uk(b.o)}b.A(a)}hi(this.C,a,"z",this.fk)}};l.ql=function(a){5<=this.g.g.g||(this.g.g==Wn&&Xn(this.g,Zn),hi(this.C,a,"y",this.bg),a.send(this.j))};
l.bg=function(a){var b=a.target;a=a.g;"SOON"==a.B["x-restart"]&&this.g.dispatchEvent("I");this.H&&Uk(a)&&1!=b.B&&this.H.log(Error("blank JSON response"),Rk(a));var c;if("NOW"==a.B["x-restart"])c=new Nk("j",a.j,a.o);else if(7==a.j)c=null;else{c=a.j;var d=a.o;(a.Eb()?0==c&&0==d&&("text"!=a.v||null==a.g):8==c||5==c||6==c&&(0>=d||503==d||405==d))?c="g":(c=a.o,c=6==a.j&&(202==c||401==c||403==c||409==c||429==c||500<=c&&599>=c&&503!=c&&550!=c)||400==c&&null!=Tk(a)||200==c&&(null==a.A||Sk(a)||Uk(a))?"h":
a.Eb()?"f":"e");c=new Nk(c,a.j,a.o,6==a.j&&500==a.o?Sk(a):null)}if(c){d=!0;if("f"==c.type){try{b.O(a),oo(this,b)}catch(p){c=new Nk("i",c.errorCode,c.g),c.wb=p,c.j="f",oo(this,b,this.B)}b.V()}else if("g"==c.type||"h"==c.type){var e=c,f=!1;if(200==e.g){var g=Sk(a);g&&"XSRF"==A(g,1)&&(po(this,A(g,4)),f=!0)}400==e.g&&(a=Tk(a))&&A(a,1)&&(po(this,A(a,1)),f=!0);409==e.g&&this.j.A(null);a=5<=this.g.g.g;g="h"==e.type;a||!(f||1!=b.B&&4>b.I)?3==b.B?(a||(null==this.o.g||g?qo(this,b,!0):this.I.push(b),ro(this),
Xn(this.g,so(this,e.g))),a=2):a=1:(qo(this,b,!1),a=3);switch(a){case 1:c.j=c.type;c.type="e";break;case 3:d=!1;break;case 2:to(c)}}else"j"==c.type&&(this.H&&Ln(this.H,Error("Incompatible server")),oo(this,b,go),d=!1);if("e"==c.type){to(c);try{if(0==b.M(c)&&(d=!1),b.ca)oo(this,b);else{var k=b.Y(c)||so(this,c.g);oo(this,b,k)}}catch(p){c=new Nk("i",c.errorCode,c.g),c.wb=p,c.j="e",oo(this,b,this.B)}b.V()}d&&(c.C=b.j,this.dispatchEvent(c))}};function to(a){a.B instanceof Lk&&A(a.B,2)}
l.fk=function(a){a=a.target;if(this.D.contains(a)){var b=this.D;wb(b.g,a);Tn(b)}else ub(this.A,a)&&(this.C.cd(a,"y",this.bg),oo(this,a));wb(this.A,a);wb(this.I,a)};function oo(a,b,c){var d=a.g.g,e=d,f=c||ao;c=!c;wb(a.A,b);wb(a.I,b);a.D.contains(b);5<=d.g||(5<=f.g?Xn(a.g,f):(b=null!=a.o.g||sb(a.A,function(a){return 3==a.B}),d==Zn?c||!b?0==a.A.length&&(e=Wn):(ro(a),e=f):c?0<a.A.length?(e=$n,uo(a)):null!=a.o.g&&Hk(a.o.g)||(e=Wn):e=f,Xn(a.g,e)))}
function ro(a){null!=a.o.g&&1==a.g.g.g&&(a=a.o,Gk(a.g),Ek(a.g))}l.$=h("g");function qo(a,b,c){var d=um;c&&0!=b.A&&(d=b.A<b.ka?1.5*b.A:b.A);b.A=d;c=Math.max(0,d-(r()-b.U));a.M.vb(q(a.send,a,b),c)}l.pj=function(a){var b=this.g.g;5<=b.g||(a.g?1!=b.g&&(0<this.A.length?(Xn(this.g,$n),uo(this)):Xn(this.g,Wn)):Xn(this.g,so(this,a.j)))};function uo(a){var b=a.I.shift();b&&a.send(b)}
function so(a,b){return 401==b?eo:403==b?co:421==b?fo:202==b||405==b||409==b||429==b||500<=b&&599>=b&&550!=b?bo:400<=b&&499>=b||550==b?a.B:ao}function po(a,b){a=a.j;a.g.g.at&&Qn(a,"at",b);Qn(a,"token",b)}l.Bj=function(){Xn(this.g,this.B)};l.G=function(){ee(this.A);G(this.o);G(this.j);G(this.M);G(this.D);G(this.C);lo.J.G.call(this)};function vo(a){this.g=a};function wo(a){E.call(this);this.j=a;this.g={};this.j.Wc(q(this.o,this))}t(wo,E);function xo(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.g)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new yo(a,b);return a.g[b]=c}wo.prototype.o=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.g&&(c=this.g[c])&&c.o&&c.o(a,b)}};
wo.prototype.G=function(){Fb(this.g,function(a){G(a)});G(this.j);delete this.g;delete this.j};function yo(a,b){E.call(this);this.g=a;this.j=b}t(yo,E);l=yo.prototype;l.connect=function(a){a&&a()};l.Ha=ca(!0);l.Na=function(a,b,c){this.g.j.Na(this.j+":"+a,q(this.Bf,this,b),c)};l.Wc=function(a){this.o=q(this.Bf,this,a)};l.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.g.j.send(this.j+":"+a,b)};
l.Bf=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};l.G=function(){this.g=this.g.g[this.j]=null};function zo(a,b){E.call(this);this.j=[];this.v=new wo(a);this.o=xo(this.v,"user");this.B=xo(this.v,"control");this.g=new Oi(b||50);this.g.start();ye(this.g,"tick",this.Hg,!1,this);this.B.Na("setPeerReady_",q(this.sl,this))}t(zo,E);l=zo.prototype;l.connect=function(a){a&&a()};l.Ha=ca(!0);l.Hg=function(){try{this.B.send("setPeerReady_",this.A?"1":"")}catch(a){throw this.g.stop(),a;}};l.Na=function(a,b,c){this.o.Na(a,b,c)};l.Wc=function(a){this.o.Wc(a)};
l.send=function(a,b){this.A?this.o.send(a,b):this.j.push({Qe:a,Wa:b})};l.sl=function(a){a?this.g.stop():this.g.start();if(!this.A){this.A=!0;this.Hg();for(a=0;a<this.j.length;a++){var b=this.j[a];this.o.send(b.Qe,b.Wa)}this.j=null}};l.G=function(){G(this.v);G(this.g);zo.J.G.call(this)};function Ao(){E.call(this);this.j={}}t(Ao,E);l=Ao.prototype;l.jj=null;l.connect=function(a){a&&a()};l.Ha=ca(!0);l.Na=function(a,b,c){this.j[a]={K:b,ng:!!c}};l.Wc=ba("C");function Bo(a,b,c){var d;if(d=(d=a.j[b])?d:a.C?{K:Ma(a.C,b),ng:Ga(c)}:null)a=a.gd(b,c,d.ng),null!=a&&d.K(a)}l.gd=function(a,b,c){if(c&&Da(b))try{return oc(b)}catch(d){return null}else if(!c&&!Da(b))return qc(b);return b};l.G=function(){Ao.J.G.call(this);delete this.jj;delete this.j;delete this.C};var Co=["pu","lru","pru","lpu","ppu"],Do={};function Eo(a){for(var b=Fo,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d}var Fo="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";function Go(a){E.call(this);this.U=a||Oe()}t(Go,E);Go.prototype.Tb=0;Go.prototype.L=h("Tb");function Ho(a){return Se(a.U.g)};function Io(a,b){Go.call(this,b);this.g=a;this.D=new V(this);F(this,this.D);this.B=new Oi(100,Ho(this));F(this,this.B);this.v=new S;this.A=new S;this.j=new S;this.F=Eo(10);this.C=null;this.o={};this.I=this.g.name;Jo(this.g,this.g.name+"_"+Ko(this.g));this.H=!1;wh(this.j,this.v);wh(this.j,this.A);this.j.T(this.kj,this);this.j.K(!0);this.D.listen(this.B,"tick",this.Yf)}t(Io,Go);var Lo={};
function Mo(a){var b=new No(a.channelName,a.service,a.payload);a=b.g;var c=b.Hd,b=b.Wa,d=Do[a];if(d)return d.cb(c,b),!0;var d=Oo(b)[0],e;for(e in Do){var f=Do[e];if(1==Ko(f)&&!f.Ha()&&"tp"==c&&"SETUP"==d)return Jo(f,a),f.cb(c,b),!0}return!1}l=Io.prototype;l.Tb=7;l.Ld=function(a){a=Oo(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.v.g||this.v.K(!0);break;case "SETUP":this.send("tp","SETUP_ACK"),this.A.g||this.A.K(!0),null!=this.C&&this.C!=b&&this.send("tp","SETUP,"+this.F),this.C=b}};
l.connect=function(){var a=Ho(this);if(a){var b=Ha(a);0==(Lo[b]||0)&&null==xa("crosswindowmessaging.channel",a)&&wa("crosswindowmessaging.channel",Mo,a);Lo[b]++;this.H=!0;this.Yf()}};l.Yf=function(){this.g.Ha()?this.B.stop():(this.B.start(),this.send("tp","SETUP,"+this.F))};l.send=function(a,b){this.g.Ma&&(a=new No(this.I+"_"+(0==Ko(this.g)?1:0),a,b),this.g.g.directSyncMode?this.Of(a):this.o[Ha(a)]=Pi(q(this.Of,this,a),0))};
l.Of=function(a){var b=Ha(a);this.o[b]&&delete this.o[b];try{var c=xa("crosswindowmessaging.channel",this.g.Ma)}catch(d){return}if(null!==c)try{c({channelName:a.g,service:a.Hd,payload:a.Wa})}catch(d){}};l.kj=function(){Po(this.g,0)};
l.G=function(){if(this.H){var a=Ho(this),b=Ha(a);1==--Lo[b]&&wa("crosswindowmessaging.channel",null,a)}this.o&&(Fb(this.o,function(a){Qi(a)}),this.o=null);this.v&&(this.v.cancel(),delete this.v);this.A&&(this.A.cancel(),delete this.A);this.j&&(this.j.cancel(),delete this.j);Io.J.G.call(this)};function Oo(a){a=a.split(",");a[1]=a[1]||null;return a}function No(a,b,c){this.g=a;this.Hd=b;this.Wa=c};function Qo(a,b){Go.call(this,b);this.j=a;this.o=[];this.B=q(this.Li,this)}t(Qo,Go);l=Qo.prototype;l.Tb=2;l.Ke=!1;l.connect=function(){0==Ko(this.j)?(this.g=this.j.qc,this.g.XPC_toOuter=q(this.eg,this)):this.kf()};
l.kf=function(){var a=!0;try{this.g||(this.g=Ho(this).frameElement),this.g&&this.g.XPC_toOuter&&(this.v=this.g.XPC_toOuter,this.g.XPC_toOuter.XPC_toInner=q(this.eg,this),a=!1,this.send("tp","SETUP_ACK"),Po(this.j))}catch(b){}a&&(this.A||(this.A=q(this.kf,this)),Ho(this).setTimeout(this.A,100))};l.Ld=function(a){if(0!=Ko(this.j)||this.j.Ha()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.v=this.g.XPC_toOuter.XPC_toInner;Po(this.j)};
l.eg=function(a,b){this.Ke||0!=this.o.length?(this.o.push({Qe:a,Wa:b}),1==this.o.length&&Ho(this).setTimeout(this.B,1)):this.j.cb(a,b)};l.Li=function(){for(;this.o.length;){var a=this.o.shift();this.j.cb(a.Qe,a.Wa)}};l.send=function(a,b){this.Ke=!0;this.v(a,b);this.Ke=!1};l.G=function(){Qo.J.G.call(this);this.g=this.v=null};function Ro(a,b){Go.call(this,b);this.g=a;this.H=this.g.g.ppu;this.Y=this.g.g.lpu;this.D=[]}var So,To;t(Ro,Go);l=Ro.prototype;l.Xk=5;l.Tb=4;l.ze=0;l.zc=!1;l.sd=!1;l.zg=null;function Uo(a){return"googlexpc_"+a.g.name+"_msg"}function Vo(a){return"googlexpc_"+a.g.name+"_ack"}function Wo(a){try{if(!a.isDisposed()&&Xo(a.g))return a.g.Ma.frames||{}}catch(b){}return{}}function Yo(a,b){return Wo(a)[b]}
l.connect=function(){if(!this.isDisposed()&&Xo(this.g)){if(!this.sd){var a=Uo(this);this.o=Zo(this,a);this.C=Ho(this).frames[a];a=Vo(this);this.j=Zo(this,a);this.B=Ho(this).frames[a];this.sd=!0}if($o(this,Uo(this))&&$o(this,Vo(this)))this.N=new ap(this,Yo(this,Uo(this)),q(this.$k,this)),this.I=new ap(this,Yo(this,Vo(this)),q(this.Zk,this)),this.sf();else{if(1==Ko(this.g))this.zg||0<this.Xk--||(Jo(this.g,Eo(10)),bp(this),this.sd=!1,this.zg=Zo(this,"googlexpc_reconnect_"+this.g.name));else if(0==Ko(this.g))for(var a=
Wo(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(f){}if(d){var e=d.split("_");if(3==e.length&&"googlexpc"==e[0]&&"reconnect"==e[1]){this.g.name=e[2];bp(this);this.sd=!1;break}}}Ho(this).setTimeout(q(this.connect,this),100)}}};function Zo(a,b){var c=document.createElement("IFRAME"),d=c.style;d.position="absolute";d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.H+"#INITIAL";Ho(a).document.body.appendChild(c);return c}
function bp(a){a.o&&(a.o.parentNode.removeChild(a.o),a.o=null,a.C=null);a.j&&(a.j.parentNode.removeChild(a.j),a.j=null,a.B=null)}function $o(a,b){try{var c=Yo(a,b);if(!c||0!=c.location.href.indexOf(a.Y))return!1}catch(d){return!1}return!0}l.sf=function(){var a=Wo(this);a[Vo(this)]&&a[Uo(this)]?(this.O=new cp(this.H,this.C),this.A=new cp(this.H,this.B),Ho(this).setTimeout(q(function(){this.O.send("SETUP");this.zc=!0},this),100)):(this.M||(this.M=q(this.sf,this)),Ho(this).setTimeout(this.M,100))};
function dp(a){if(a.R&&a.Z&&(Po(a.g),a.v)){for(var b=0,c;b<a.v.length;b++)c=a.v[b],a.g.cb(c.Hd,c.Wa);delete a.v}}
l.$k=function(a){if("SETUP"==a)this.A&&(this.A.send("SETUP_ACK"),this.R=!0,dp(this));else if(this.g.Ha()||this.R){var b=a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.A.send("ACK:"+c);ep(this,a)}else d=c.substring(0,b),this.A.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.F=[]),this.F.push(a),b==c&&(ep(this,this.F.join("")),delete this.F)}};
l.Zk=function(a){"SETUP_ACK"==a?(this.zc=!1,this.Z=!0,dp(this)):this.g.Ha()&&this.zc&&parseInt(a.split(":")[1],10)==this.ze&&(this.zc=!1,fp(this))};function fp(a){if(!a.zc&&a.D.length){var b=a.D.shift();++a.ze;a.O.send(a.ze+b);a.zc=!0}}function ep(a,b){var c=b.indexOf(":"),d=b.substr(0,c);b=b.substring(c+1);a.g.Ha()?a.g.cb(d,b):(a.v||(a.v=[])).push({Hd:d,Wa:b})}l.send=function(a,b){this.D.push("|"+(a+":"+b));fp(this)};
l.G=function(){Ro.J.G.call(this);var a=gp;wb(a,this.N);wb(a,this.I);this.N=this.I=null;Te(this.o);Te(this.j);this.C=this.B=this.o=this.j=null};var gp=[],hp=q(function(){var a=gp,b,c=!1;try{for(var d=0;b=a[d];d++){var e;if(!(e=c)){var f=b,g=f.j.location.href;if(g!=f.g){f.g=g;var k=g.split("#")[1];k&&(k=k.substr(1),f.o(decodeURIComponent(k)));e=!0}else e=!1}c=e}}catch(p){if(b.v.g.close(),!a.length)return}a=r();c&&(So=a);To=window.setTimeout(hp,1E3>a-So?10:100)},Ro);
function ip(){So=r();To&&window.clearTimeout(To);To=window.setTimeout(hp,10)}function cp(a,b){if(!/^https?:\/\//.test(a))throw Error("URL "+a+" is invalid");this.j=a;this.o=b;this.g=0}cp.prototype.send=function(a){this.g=++this.g%2;a=this.j+"#"+this.g+encodeURIComponent(a);try{this.o.location.href=a}catch(b){}ip()};function ap(a,b,c){this.v=a;this.j=b;this.o=c;this.g=this.j.location.href.split("#")[0]+"#INITIAL";gp.push(this);ip()};function jp(a,b){Go.call(this,b);this.g=a;this.o=this.g.g.pru;this.j=this.g.g.ifrid;kp()}t(jp,Go);var lp=[],mp=0;function kp(){mp||(mp=window.setTimeout(function(){np()},1E3))}function np(a){var b=r();for(a=a||3E3;lp.length&&b-lp[0].timestamp>=a;){var c=lp.shift().sk;Te(c)}mp=window.setTimeout(op,1E3)}function op(){np()}l=jp.prototype;l.Tb=3;l.connect=function(){Ho(this).xpcRelay||(Ho(this).xpcRelay=pp);this.send("tp","SETUP")};
function pp(a,b){var c=b.indexOf(":");Do[a].cb(b.substr(0,c),decodeURIComponent(b.substr(c+1)))}l.Ld=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),Po(this.g)):"SETUP_ACK"==a&&Po(this.g)};l.send=function(a,b){b=encodeURIComponent(b);var c;c=Ho(this).document.createElement("IFRAME");lp.push({timestamp:r(),sk:c});var d=c.style;d.visibility="hidden";d.width=c.style.height="0px";d.position="absolute";d=this.o;d+="#"+this.g.name;this.j&&(d+=","+this.j);c.src=d+("|"+a)+(":"+b);Ho(this).document.body.appendChild(c)};
l.G=function(){jp.J.G.call(this);np(0)};function qp(a,b,c,d,e){Go.call(this,c);this.A=a;this.B=e||2;this.N=b||"*";this.D=new V(this);this.C=new Oi(100,Ho(this));this.H=!!d;this.o=new S;this.v=new S;this.j=new S;this.M=Eo(10);this.F=null;this.H?1==Ko(this.A)?wh(this.j,this.o):wh(this.j,this.v):(wh(this.j,this.o),2==this.B&&wh(this.j,this.v));this.j.T(this.lj,this);this.j.K(!0);this.D.listen(this.C,"tick",this.Zf)}t(qp,Go);qp.prototype.g=null;qp.prototype.I=!1;qp.prototype.Tb=1;var rp={};l=qp.prototype;l.Yc=0;
function sp(a){var b=a.g.data;if(!Da(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var e=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+1);if(d=Do[e])return d.cb(c,b,a.g.origin),!0;var d=tp(b)[0],f;for(f in Do){var g=Do[f];if(1==Ko(g)&&!g.Ha()&&"tp"==c&&("SETUP"==d||"SETUP_NTPV2"==d)&&up(g,a.g.origin))return Jo(g,e),g.cb(c,b),!0}return!1}
l.Ld=function(a){var b=tp(a);a=b[1];switch(b[0]){case "SETUP_ACK":vp(this,1);this.o.g||this.o.K(!0);break;case "SETUP_ACK_NTPV2":2==this.B&&(vp(this,2),this.o.g||this.o.K(!0));break;case "SETUP":vp(this,1);wp(this,1);break;case "SETUP_NTPV2":2==this.B&&(b=this.g,vp(this,2),wp(this,2),1!=b&&null==this.F||this.F==a||xp(this),this.F=a)}};function xp(a){2!=a.B||null!=a.g&&2!=a.g||a.send("tp","SETUP_NTPV2,"+a.M);null!=a.g&&1!=a.g||a.send("tp","SETUP")}
function wp(a,b){if(2!=a.B||null!=a.g&&2!=a.g||2!=b){if(null!=a.g&&1!=a.g||1!=b)return;a.send("tp","SETUP_ACK")}else a.send("tp","SETUP_ACK_NTPV2");a.v.g||a.v.K(!0)}function vp(a,b){b>a.g&&(a.g=b);1==a.g&&(a.v.g||a.H||a.v.K(!0),a.F=null)}l.connect=function(){var a=Ho(this),b=Ha(a),c=rp[b];Ea(c)||(c=0);0==c&&ye(a.postMessage?a:a.document,"message",sp,!1,qp);rp[b]=c+1;this.I=!0;this.Zf()};l.Zf=function(){var a=0==Ko(this.A);this.H&&a||this.A.Ha()||this.isDisposed()?this.C.stop():(this.C.start(),xp(this))};
l.send=function(a,b){var c=this.A.Ma;c&&(this.send=function(a,b){var d=this,e=this.A.name;this.Yc=Pi(function(){d.Yc=0;try{var f=c.postMessage?c:c.document;f.postMessage&&f.postMessage(e+"|"+a+":"+b,d.N)}catch(p){}},0)},this.send(a,b))};l.lj=function(){Po(this.A,1==this.B||1==this.g?200:void 0)};
l.G=function(){if(this.I){var a=Ho(this),b=Ha(a),c=rp[b];rp[b]=c-1;1==c&&Ge(a.postMessage?a:a.document,"message",sp,!1,qp)}this.Yc&&(Qi(this.Yc),this.Yc=0);G(this.D);delete this.D;G(this.C);delete this.C;this.o.cancel();delete this.o;this.v.cancel();delete this.v;this.j.cancel();delete this.j;delete this.send;qp.J.G.call(this)};function tp(a){a=a.split(",");a[1]=a[1]||null;return a};function yp(a,b){Go.call(this,b);this.g=a;this.j=a.at||"";this.o=a.rat||"";a=Ho(this);if(!a.nix_setup_complete)try{a.execScript("Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport.GCXPC____NIXJS_handle_message(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport.GCXPC____NIXJS_create_channel(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function",
"vbscript"),a.nix_setup_complete=!0}catch(c){}this.GCXPC____NIXJS_handle_message=this.Rj;this.GCXPC____NIXJS_create_channel=this.Ii}t(yp,Go);l=yp.prototype;l.Tb=6;l.rc=!1;l.Pb=null;l.connect=function(){0==Ko(this.g)?this.jf():this.hf()};l.jf=function(){if(!this.rc){var a=this.g.qc;try{a.contentWindow.opener=(0,Ho(this).GCXPC____NIXVBS_get_wrapper)(this,this.j),this.rc=!0}catch(b){}this.rc||Ho(this).setTimeout(q(this.jf,this),100)}};
l.hf=function(){if(!this.rc){try{var a=Ho(this).opener;if(a&&"GCXPC____NIXVBS_container"in a){this.Pb=a;if(this.Pb.GetAuthToken()!=this.o)return;this.Pb.CreateChannel((0,Ho(this).GCXPC____NIXVBS_get_wrapper)(this,this.j));this.rc=!0;Po(this.g)}}catch(b){return}this.rc||Ho(this).setTimeout(q(this.hf,this),100)}};l.Ii=function(a){this.Pb=a;this.Pb.GetAuthToken()==this.o&&Po(this.g)};l.Rj=function(a,b){Ho(this).setTimeout(q(function(){this.g.cb(a,b)},this),1)};
l.send=function(a,b){this.Pb.SendMessage(a,b)};l.G=function(){yp.J.G.call(this);this.Pb=null};function zp(a,b){Ao.call(this);for(var c=0,d;d=Co[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.g=a;this.name=this.g.cn||Eo(10);this.o=b||Oe();this.v=[];this.A=new V(this);a.lpu=a.lpu||zd(Se(this.o.g).location.href)+"/robots.txt";a.ppu=a.ppu||zd(a.pu||"")+"/robots.txt";Do[this.name]=this;Ie(window,"unload",Ap)||Fe(window,"unload",Ap)}t(zp,Ao);var Bp=/^%*tp$/,Cp=/^%+tp$/;l=zp.prototype;l.xb=null;l.jb=null;l.La=null;l.pc=1;
l.Ha=function(){return 2==this.pc};l.Ma=null;l.qc=null;function Xo(a){try{return!!a.Ma&&!a.Ma.closed}catch(b){return!1}}function Dp(a,b){var c=a.g.ifrid;c||(c=a.g.ifrid="xpcpeer"+Eo(4));var d=Oe(b).createElement("IFRAME");d.id=d.name=c;d.style.width=d.style.height="100%";Ep(a);a.jb=new S(void 0,a);var e=Fp(a);ii(a.A,d,"load",a.jb.K,!1,a.jb);window.setTimeout(q(function(){b.appendChild(d);d.src=e.toString()},a),1)}function Ep(a){a.jb&&(a.jb.cancel(),a.jb=null);a.v.length=0;ji(a.A)}
function Fp(a){var b=a.g.pu;Da(b)&&(b=a.g.pu=new pi(b));var c={};c.cn=a.name;c.tp=a.g.tp;c.osh=a.g.osh;a.g.lru&&(c.pru=a.g.lru);a.g.lpu&&(c.ppu=a.g.lpu);a.g.ppu&&(c.lpu=a.g.ppu);(a=a.g.role)&&(c.role=1==a?0:1);Di(b,"xpc",qc(c));return b}l.connect=function(a){this.B=a||ya;3==this.pc&&(this.pc=1);this.jb?this.jb.T(this.uf):this.uf()};
l.uf=function(){this.jb=null;if(this.g.ifrid){var a=this.g.ifrid;this.qc=Da(a)?this.o.g.getElementById(a):a}this.qc&&((a=this.qc.contentWindow)||(a=window.frames[this.g.ifrid]),this.Ma=a);if(!this.Ma){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.Ma=window.parent}if(!this.La){this.g.tp||(this.g.tp=Fa(document.postMessage)||Fa(window.postMessage)?1:4);switch(this.g.tp){case 1:this.La=new qp(this,this.g.ph,this.o,!!this.g.osh,this.g.nativeProtocolVersion||
2);break;case 6:this.La=new yp(this,this.o);break;case 2:this.La=new Qo(this,this.o);break;case 3:this.La=new jp(this,this.o);break;case 4:this.La=new Ro(this,this.o);break;case 7:if(a=this.Ma)try{a=window.document.domain==this.Ma.document.domain}catch(b){a=!1}a&&(this.La=new Io(this,this.o))}if(!this.La)throw Error("CrossPageChannel: No suitable transport found!");}for(this.La.connect();0<this.v.length;)this.v.shift()()};
l.close=function(){Ep(this);this.pc=3;G(this.La);this.B=this.La=null;G(this.xb);this.xb=null};function Po(a,b){a.Ha()||a.xb&&0!=a.xb.rb||(a.pc=2,G(a.xb),n(b)?(a.xb=new wk(a.B,b),a.xb.start()):(a.xb=null,a.B()))}l.send=function(a,b){this.Ha()&&(Xo(this)?(Ga(b)&&(b=qc(b)),this.La.send(Gp(a),b)):this.close())};
l.cb=function(a,b,c){this.jb?this.v.push(q(this.cb,this,a,b,c)):up(this,c)&&!this.isDisposed()&&3!=this.pc&&(a&&"tp"!=a?this.Ha()&&(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Cp.test(a)?a.substring(1):a,Bo(this,a,b)):this.La.Ld(b))};function Gp(a){Bp.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)}function Ko(a){var b=a.g.role;return Ea(b)?b:window.parent==a.Ma?1:0}function Jo(a,b){delete Do[a.name];a.name=b;Do[b]=a}
function up(a,b){var c=a.g.ph;return Ua(jb(b))||Ua(jb(c))||b==a.g.ph}l.G=function(){this.close();this.qc=this.Ma=null;delete Do[this.name];G(this.A);delete this.A;zp.J.G.call(this)};function Ap(){for(var a in Do)G(Do[a])};function Hp(){I.call(this)}t(Hp,I);function Ip(a,b){H.call(this,a);this.Wa=b||null}t(Ip,H);function Jp(a){I.call(this);this.j=a;this.o=new V(this);F(this,this.o);this.o.listen(this.j,"u",this.A);this.j.F=this;this.g={};this.g.sync="sr";this.g.uc="uc"}t(Jp,Hp);Jp.prototype.A=function(a){var b=rd(a.Wa.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Ip("u",Hc(b))));a.stopPropagation()};function Kp(a,b,c,d,e,f){var g,k=a.g;d&&(g=function(a){var c=k[b];c&&(a=rd(a,c),a.unshift(c),d(Hc(a)))});a.j.o(b,Cc(c),g,e,f)};function Lp(a,b,c){Ao.call(this);c&&(this.o=c.Wt(this.o));this.g=a;F(this,this.g);this.g.Wc(q(this.o,this));this.v=b}t(Lp,Ao);Lp.prototype.send=function(a,b){Ga(b)&&(b=qc(b));this.g.send(a,{t:this.v,p:b})};Lp.prototype.o=function(a,b){Bo(this,a,b)};Lp.prototype.gd=function(a,b,c){b=Lp.J.gd.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.v?Lp.J.gd.call(this,a,b.p,c):null};function Mp(){I.call(this)}t(Mp,I);function Np(a,b,c,d,e){I.call(this);this.A=a;this.D=c||[];this.B=e;this.j=new V(this);F(this,this.j);this.j.listen(this.A.$(),"H",this.I);d&&(this.g=d,this.g.ld("9",this.C,this));this.M=0;this.H=b}t(Np,Mp);Np.prototype.C=function(a){a&&this.dispatchEvent(new Ip("u",a))};Np.prototype.I=function(a){1!=a.j.g&&1==a.g.g?this.dispatchEvent(new Ip("r")):3<=a.g.g&&this.dispatchEvent(new Ip("e"))};Np.prototype.o=function(a,b,c,d,e){b=["p",qc(b)];Op(this,b,"/docos/p/"+a,c,d,e)};
function Op(a,b,c,d,e,f){b=Ed(b.concat("reqid",a.M++));c=Xk(mo(a.A,c).o(a.D),b);a.H&&Wk(c);f?bl(c,f):bl(c,3);d&&cl(c,function(a){d(a.Ka())});e&&Zk(c,e);null!=a.B&&(c.Z=a.B);dl(c)}Np.prototype.G=function(){this.g&&this.g.ke("9",this.C,this);delete this.j;Np.J.G.call(this)};function Pp(a,b){this.seq=Qp++;this.type=a;this.payload=b||null;this.rseq=0}var Qp=1;function Rp(a){I.call(this);this.g=a;this.g.Na("recv",q(this.B,this),!0);this.g.Na("recvEvt",q(this.A,this),!0);this.j={}}t(Rp,Mp);Rp.prototype.B=function(a){var b=this.j[a.rseq];b&&(b(a.payload),delete this.j[a.rseq])};Rp.prototype.A=function(a){this.dispatchEvent(new Ip(a.type,a.payload))};Rp.prototype.o=function(a,b,c){a=new Pp(a,b);c&&(this.j[a.seq]=c);this.g.send("send",a)};Rp.prototype.G=function(){Rp.J.G.call(this);delete this.g};function Sp(a){E.call(this);this.o=a}t(Sp,E);Sp.prototype.g=null;Sp.prototype.j=null;
function Tp(a){if(a.g)return a.g;var b=Kh(a.o),c=b.de;if(n(c))return c&&(a.g=new Jp(c),F(a,a.g)),a.g;if(b.Ef){var d=fi(),c=new lo(new Fm,void 0,void 0,void 0,new Gm,void 0,void 0,new vo(d)),e=b.Ff;e&&(c.j.o=e);var f=b.Wg;f&&po(c,f);b.Sf&&Qn(c.j,"anon","true");(f=b.fg)&&Qn(c.j,"invite",f);f=null;if(b.Df){var f=new Bk,g=b.Tg.getId();f.We=g;var g=c.o,k=f;g.g=k;var p=q(g.B,g);k.C=p;null!=k.g&&k.C(k.g);k.ld("tfe_changed",g.j.A,g.j);g.A();Ek(f,b.ce,d,e)}b=new Np(c,!0,["id",b.ce],f,null!=b.fe?b.fe:void 0);
F(b,c);F(b,f);a.g=new Jp(b);F(a,a.g);F(a,b);return a.g}b=b.vg;if(!b)throw Error("Peer missing.");c={};d=new pi(window.location.href);(e=d.j.get("docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new pi(b)).toString());d=fi();b=Di(new pi(b),"ctoken",d).toString();c.pu=b;a.j=document.createElement("div");a.j.style.display="none";document.body.appendChild(a.j);b=new zp(c);Dp(b,a.j);b.connect();b=new zo(b);c=Eh(a.o,"errorReporter");b=new Lp(b,d,c);c=new Rp(b);a.g=new Jp(c);F(a,a.g);F(a,
c);F(a,b);return a.g}Sp.prototype.G=function(){delete this.g;this.j&&(document.body.removeChild(this.j),this.j=null);Sp.J.G.call(this)};function Up(){};function Vp(a,b,c,d,e,f){this.type=a;this.o=b;this.j=c;this.A=d;this.B=e;this.g=f;this.type=this.type;this.anchors=this.o;this.docos=this.j;this.nonAnchored=this.A;this.userInitiated=this.B;this.args=this.g}wa("docos.Event",Vp,void 0);function Wp(a,b){Vp.call(this,a,[],[],!1,!1,new Up);this.interval=this.v=b}t(Wp,Vp);function Xp(a){E.call(this);this.gf=a;this.fd=[]}t(Xp,E);Xp.prototype.G=function(){Xp.J.G.call(this);for(var a,b;b=this.fd.pop();)(a=this.fd.pop())&&!a.isDisposed()&&a.ub(b);delete this.gf;delete this.fd};function Yp(a,b){I.call(this);this.g=a;this.C=b;this.o=new V(this);F(this,this.o);this.j=a.get("netIo");this.A=!0;this.B=new Xp(this);F(this,this.B);this.o.listen(this.j,"r",this.Lk).listen(this.j,"u",this.Sk).listen(this.j,"e",this.Hk);this.o.listen(Lh(a),["cd","dd"],this.Oi);b=Eh(a,"action_registry");if(!b){b=new kg;for(var c=Ib(jg),d=0;d<c.length;d++){var e=b,f;f=c[d];var g={};g.label=f;g.visible=!0;g.hint=f;g.enabled=!0;f=new Af(f,g);var g=e,k=f;g.nd[k.getId()]||(g.nd[k.getId()]=k,g.dispatchEvent(new hg(k)));
g.ed[k.getId()]=k;F(e,f)}a.Na("action_registry",b)}a=this.B;b=b.ed["docos-update-notification-settings"]||b.nd["docos-update-notification-settings"]||null;if(!b)throw Error("Action not registered for id docos-update-notification-settings");c=uf(b.j.g,bf.toString(),this.Ik,a.gf);a.fd.push(b,c+1E6)}t(Yp,I);l=Yp.prototype;l.Te=null;l.Sb=null;l.Re=null;l.Ia=function(a){if(this.Sb)return this.Sb;this.Sb=new S;this.Og(a);return this.Sb};function Zp(a,b,c){b?a.Sb.P(null):a.Sb.K(n(c)?c:null);a.Sb=null}
l.Og=function(a){for(var b=Lh(this.g),c=ci(b),d=[],e=0;e<c.length;e++){d.push(Mc(c[e].g));var f=c[e].getId();wb(b.A,f)}b=new nd;Dc(b,1,d);this.Re&&B(b,2,this.Re);Kp(this.j,"sync",b,q(this.Gk,this),q(this.Fk,this),a?a:void 0)};l.Fk=function(){this.A=!1;Zp(this,!0)};l.Hk=function(){this.dispatchEvent("net-error")};
l.Gk=function(a){var b=this.A;this.A=!1;var c;if(b){c=r();var d=$p(this.C,"model-loaded");d&&d(new Vp("model-loaded",[],[],!1,!1,new Up))}d=Lh(this.g);try{aq(this,a,b),this.Re=A(a,2),di(d)?Pi(q(this.Og,this)):Zp(this,!1,b?r()-c:void 0)}catch(e){throw Pi(function(){throw e;}),e;}};
function aq(a,b,c){var d=Lh(a.g),e=Pb(d.g);Sb(e,d.j);for(var f=!1,g=Bc(b,$c,1),k=0;k<g.length;k++){var f=!0,p=Mc(Bc(b,$c,1)[k]),u=ad(p),w=$h(d,u.getId(),A(u,11));if(w){delete e[w.getId()];var z=w.getId();if(ub(d.A,z))continue;z=w.getId();if(ub(d.D,z)){if(w.Da()){bq(a,w);continue}z=w.getId();wb(d.D,z)}B(p,9,!1);B(u,12,!1);n(A(u,13))||B(u,13,0);for(var w=Pb(w.j),z=Zc(ad(p)),T=0;T<z.length;T++){var W=Zc(u)[T];B(W,12,!1);n(A(W,13))||B(W,13,0);delete w[W.getId()||""];delete w[A(W,11)||""]}var z=[],na;
for(na in w)z.push(cq(Mc(w[na].g)));w=Zc(u);Dc(u,8,xb(w,z))}Yh(d,new Ph(p),"n")}b=ci(d);for(k=0;k<b.length;k++)g=b[k],g.Da()&&!n(g.o.g.getId())&&bq(a,g);if(c)for(na in e)w=e[na],Oh(w)||!n(w.o.g.getId())&&!w.Da()||(f=!0,a=Mc(w.g),ad(a),c=ad(a),Dc(c,8,[]),k=r(),B(c,13,k),B(c,12,!1),B(a,9,!1),Yh(d,new Ph(a),"n"));f&&ei(d)}function bq(a,b){a=Lh(a.g);var c=Mc(b.g),d=ad(c);B(c,9,!1);B(d,12,!1);b=b.getId();wb(a.A,b);Yh(a,new Ph(c),"n")}function cq(a){var b=r();B(a,13,b);B(a,12,!1);return a}
l.Lk=function(){var a=12E4*Math.random();null===this.Te||Qi(this.Te);this.Te=Pi(function(){this.Ia(Kh(this.g).De?1:void 0)},a,this)};l.Sk=function(a){if(a.Wa){var b=a.Wa;a=Lh(this.g);for(var c=0,b=Bc(b,$c,1),d=0;d<b.length;d++){var e=Mc(b[d]),f=ad(e),f=$h(a,f.getId(),A(f,11));f&&f.gb()||(Yh(a,new Ph(e),"n"),c++)}0<c&&ei(Lh(this.g))}};l.Oi=function(a){"n"!=a.source&&Zh(Lh(this.g))&&this.Ia()};
l.Ik=function(a){a=a.data.se();var b=Kh(this.g),c=new fd;c.Zc(a.dc());var d=a.bc();B(c,3,d);d=a.gc();B(c,4,d);d=a.hc();B(c,5,d);B(c,6,a.Od);D(b.g,7,c);b=new fd;b.Zc(a.dc());c=a.bc();B(b,3,c);c=a.gc();B(b,4,c);c=a.hc();B(b,5,c);B(b,6,a.Od);a=new gd;D(a,1,b);Kp(this.j,"uc",a)};l.G=function(){Yp.J.G.call(this);delete this.g;delete this.o;delete this.B};function dq(a,b,c){this.v=a;this.o=b;this.g=c;this.A=new V(this);F(this,this.A);this.j=null;this.B=!1}t(dq,E);function eq(a){var b=a.v;if(!b.j.netIo&&!b.A.netIo)return!1;a.j=new Yp(a.v,a.g);F(a,a.j);a.A.listen(a.j,"net-error",a.Mk);return!0}l=dq.prototype;l.Mk=function(){fq(this.g,"fe")};function gq(a){a.B=!0;sh(a.j.Ia(a.o.D?1:void 0).T(a.pg,a).T(a.Sg,a),a.Ek,a)}l.Ia=function(){if(Ve(this.o)){if(!this.B){if(!this.j&&!eq(this))return;gq(this)}this.j.Ia(this.o.De?1:void 0).T(this.Sg,this)}};
l.pg=function(a){var b=$p(this.g,"sync-success");b&&b(new Vp("sync-success",[],[],!1,!1,new Up));(b=$p(this.g,"initial-anchored-render-done"))&&null!==a&&b(new Wp("initial-anchored-render-done",a));fq(this.g,"s");fq(this.g,"r")};l.Sg=function(){var a=$p(this.g,"unread-comments");a&&a(new Vp("unread-comments",[],[],!0,!0,new Up))};l.Ek=function(){var a=$p(this.g,"sync-error");a&&a(new Vp("sync-error",[],[],!1,!1,new Up));fq(this.g,"e")};function hq(a,b,c){this.key=a;this.data=b;this.g=c;this.key=this.key;this.data=this.data;this.dirty=this.g}wa("docos.api.StorageUpdate",hq,void 0);function iq(a,b){if(a){b||a.unshift(void 0);jq(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),kq(c[2],b),iq(c[3],b),b&&c.shift());b&&a.shift()}}function kq(a,b){a&&(b?a.shift():a.unshift(void 0))}
function jq(a,b){if(a){b||a.unshift(void 0);kq(a[3],b);kq(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)jq(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function lq(a){E.call(this);this.g=a;this.j=Kh(a).o;this.v=[];this.o=[];Kh(a).C||(this.A=new V(this),F(this,this.A),this.A.listen(Lh(a),["f","cd","dd"],this.Pi))}t(lq,E);l=lq.prototype;
l.Pi=function(a){if("o"!=a.source&&this.j)if("f"==a.type){if(this.v.length||this.o.length){var b=yb(this.v),c=yb(this.o);this.j.F(b,c,q(this.Qi,this,b),q(this.rk,this,c));this.v=[];this.o=[]}}else if(b=a.j,c=a.g,b)if((a="cd"==a.type?Lh(this.g).g[b]:Lh(this.g).j[b])&&a.Da()&&!n(a.o.g.getId()))this.o.push(b);else if(a&&!Oh(a)){var d=Cc(Mc(a.g)),d=Qb(d);iq(d,!1);a=new hq(b,d,a.gb());this.v.push(a);c&&c!=b&&this.o.push(c)}};l.Qi=function(a){for(var b=0;b<a.length;b++);};
l.rk=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);mq(this,d,c)};l.Jj=function(a,b){if(0<b.length){for(var c=Lh(this.g),d=0;d<b.length;d++){Ba(b[d]);var e=Qb(b[d]);iq(e,!0);e=new $c(e);Yh(c,new Ph(e),"o")}ei(c)}a()};l.Ij=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);mq(this,d,c);a()};
function mq(a,b,c){if(a=Eh(a.g,"errorReporter"))c&&n(c.message)?(c.message=b+"  Original message: "+c.message,a.Ob(c)):a.Ob(Error(b))}l.G=function(){lq.J.G.call(this);delete this.g;delete this.A;delete this.j};function nq(a){this.g=new Jh;this.o=new Ue(a||{});this.g.Na("config",this.o);this.D=new Xh(this.o);this.g.Na("stream",this.D);this.B=new lq(this.g);F(this,this.B);this.F=new dq(this.g,this.o,this);this.j=Zg();this.v={};this.v.s=this.j.resolve.bind(this.j);this.v.e=this.j.reject.bind(this.j);this.A=new Sp(this.g);F(this,this.A);this.C=new V(this);F(this,this.C)}t(nq,E);function $p(a,b){return a.isDisposed()?null:a.o.B[b]||null}function fq(a,b){var c=a.v[b];c&&c();a.v[b]=null}
nq.prototype.Ia=function(){return oq(this).then(function(){var a=Tp(this.A);this.g.Na("netIo",a);a=this.F;Ve(a.o)?a.o.j?fq(a.g,"r"):eq(a)&&gq(a):a.pg(null);return this.j.g}.bind(this))};function oq(a){return new R(function(a,c){var b=this.B;b.j?b.j.v(q(b.Jj,b,a),q(b.Ij,b,c)):c()}.bind(a))}function pq(a){var b=new nq(a);return bh(b.Ia(),function(){b.V()})};function qq(a,b){this.j=a;this.g=b}qq.prototype.W=h("j");function rq(a,b){b.push(a);for(var c=0;c<a.length;c++)if(Ba(a[c])){if(ub(b,a[c]))throw Error("Circular reference detected");rq(a[c],b)}b.pop()}function sq(a,b,c){if(a.length!=b.length)return!1;c=c||Db;for(var d=0;d<a.length;d++)if(!c(a[d],b[d]))if(Ba(a[d])&&Ba(b[d])){if(!sq(a[d],b[d],c))return!1}else return!1;return!0};function tq(a,b){if(a==b)return!0;if(!Ga(a)||!Ga(b))return!1;var c=Jb(a);if(c.length!=Jb(b).length)return!1;for(var d=uq||Db,e=0;e<c.length;e++){var f=c[e];if(!(f in b&&d(a[f],b[f])))return!1}return!0}function uq(a,b){return a===b?!0:Ba(a)&&Ba(b)?Cb(a,b,uq):Ga(a)&&Ga(b)?tq(a,b):!1}function vq(a,b){b.push(a);for(var c in a)if(Ga(a[c])){if(ub(b,a[c]))throw Error("Circular reference detected");vq(a[c],b)}b.pop()};function wq(a,b){E.call(this);this.C=a;this.g={};this.A={};this.D=b||!1;this.j=!this.D}t(wq,E);l=wq.prototype;l.kb=!1;l.hb=function(){return this.D||!Ob(this.A)};function xq(a){a.hb();a.kb=!0}function yq(a,b){a=zq(a,b);return null==a?null:Qb(a)}function Aq(a,b){a=Bq(a,b);return null==a||0==a?null:a}function Bq(a,b){a=zq(a,b);return null==a?null:a}function Cq(a,b){a=zq(a,b);return null==a?null:a}function Dq(a,b){return null==zq(a,b)?null:""!=a.g[b]}function Eq(a,b,c){Y(a,b,c?"true":"")}
function Fq(a,b){a=zq(a,b);return null==a?null:Qb(a)}function zq(a,b){a=a.g[b];return null!=a?a:null}function Y(a,b,c){if(Ga(c)&&!Ba(c))return vq(c,[]),null!=a.g[b]&&uq(a.g[b],c)||(c=Qb(c),a.g[b]=c,a.j||(a.A[b]=c)),a;if(Ba(c))return rq(c,[]),vq(c,[]),null!=a.g[b]&&sq(a.g[b],c)||(c=Qb(c),a.g[b]=c,a.j||(a.A[b]=c)),a;a.g[b]!=c&&(a.g[b]=c,a.j||(a.A[b]=c));return a}function Gq(a,b,c,d){var e=a.g,f=e[b];null==f&&(e[b]=f={});f[c]=d;a.j||(a=a.A,e=a[b],null==e&&(a[b]=e={}),e[c]=d)}
l.Ec=function(){this.A={};this.D=!1};l.cc=ca(null);l.G=function(){wq.J.G.call(this);delete this.g;delete this.A};function Hq(a,b,c){wq.call(this,"comment",c);Y(this,"di",a);Y(this,"i",b);Y(this,"s",1)}t(Hq,wq);Hq.prototype.cc=function(){return new qq(this.g.di,2)};Hq.prototype.getId=function(){return this.g.i};function Iq(a,b,c,d){E.call(this);this.A=a;this.H=b;this.o=c;this.j=d||null;this.g=null}t(Iq,E);Iq.prototype.v=function(a,b){this.g?this.B(a):(a=q(this.B,this,a),Jq(this.A,this.o,q(this.C,this,a),Kq(b)))};Iq.prototype.getAll=Iq.prototype.v;Iq.prototype.B=function(a){var b=[],c;for(c in this.g)b.push(yq(this.g[c],"da"));a(b)};Iq.prototype.C=function(a,b){if(!this.g){this.g={};for(var c=0;c<b.length;c++)this.g[b[c].getId()]=b[c]}a()};
Iq.prototype.F=function(a,b,c,d){this.g?this.D(a,b,c,d):(a=q(this.D,this,a,b,c,d),Jq(this.A,this.o,q(this.C,this,a),Kq(d)))};Iq.prototype.writeAll=Iq.prototype.F;
Iq.prototype.D=function(a,b,c,d){c=ud(c);d=Kq(d);for(var e=[],f=0;f<a.length;f++){var g=a[f],k=this.g[g.key];k||(k=new Hq(this.o,g.key,!0),this.g[g.key]=k);Y(k,"da",g.data);Y(k,"s",g.dirty?2:1);e.push(k);this.j&&(Lq(this.j,g.dirty?r():null),e.push(this.j))}for(f=0;f<b.length;f++)if(a=b[f],g=this.g[a])xq(g),e.push(g),delete this.g[a];this.H.write(e,c,d)};function Kq(a){return function(b){a(an(b),b.wb)}};function Mq(a){this.g=a}Mq.prototype.Ia=function(a,b,c,d,e,f){var g={},k=new Iq(b,c,a);g.storage=k;g.so=!0;g.kd=d;var p=new Np(this.g,!1,["id",a]);g.i=p;return bh(pq(g).then(e,f),function(){k.V();p.V()})};function Nq(a){E.call(this);this.o=a||12E4;this.g=new Eg}t(Nq,E);Nq.prototype.send=function(a,b){var c=Zg();Fg(this.g,c);var d=Pi(function(){c.reject(Error("Request to transport timed out."))},this.o);Oq(this,c,a,b||[]);return bh(c.g,function(){Qi(d);yg(this.g.g,Gg(c))}.bind(this))};Nq.prototype.G=function(){for(var a=this.g.ga(),b=0;b<a.length;b++)a[b].reject("Sender was disposed");Nq.J.G.call(this)};function Pq(a,b){this.message=a;this.ports=b}Pq.prototype.toString=function(){return"{message: "+this.message+", ports: "+this.ports+"}"};function Qq(a){Nq.call(this,a);this.j=new V(this);F(this,this.j)}t(Qq,Nq);function Oq(a,b,c,d){var e=new MessageChannel;hi(a.j,e.port1,"message",function(a){a=a.g;b.resolve(new Pq(a.data,a.ports))}.bind(a));e.port1.start();a.postMessage(c,[e.port2].concat(d));bh(b.g,function(){e.port1.close()})};function Rq(a,b){Qq.call(this,b);this.v=a}t(Rq,Qq);Rq.prototype.postMessage=function(a,b){this.v.postMessage(a,b)};function Sq(a){y(this,a,0,-1,null)}t(Sq,x);function Tq(a){y(this,a,0,-1,Uq)}t(Tq,x);var Uq=[2,3,4];function Vq(a){y(this,a,0,-1,null)}t(Vq,x);Vq.prototype.getId=function(){return A(this,1)};function Wq(a){y(this,a,0,-1,null)}t(Wq,x);Wq.prototype.L=function(){return A(this,1)};function Xq(a){y(this,a,0,-1,null)}t(Xq,x);Xq.prototype.L=function(){return A(this,1)};function Yq(a){y(this,a,0,-1,null)}t(Yq,x);function Zq(a){y(this,a,0,-1,null)}t(Zq,x);Zq.prototype.W=function(){return A(this,1)};Zq.prototype.fb=function(){return A(this,4)};function $q(a){y(this,a,0,-1,ar)}t($q,x);var ar=[1];$q.prototype.fb=function(){return A(this,2)};function br(a){y(this,a,0,-1,null)}t(br,x);function cr(a){y(this,a,0,-1,null)}t(cr,x);cr.prototype.getId=function(){return A(this,1)};function dr(a){y(this,a,0,-1,null)}t(dr,x);dr.prototype.L=function(){return A(this,1)};function er(a){y(this,a,0,-1,null)}t(er,x);function fr(a){y(this,a,0,-1,null)}t(fr,x);fr.prototype.L=function(){return A(this,2)};function gr(a){y(this,a,0,-1,null)}t(gr,x);function hr(a){y(this,a,0,-1,ir)}t(hr,x);var ir=[1];hr.prototype.re=function(){return Bc(this,Vq,1)};function jr(a){y(this,a,0,-1,kr)}t(jr,x);var kr=[1];
function lr(a){y(this,a,0,-1,mr)}t(lr,x);var mr=[1,2];lr.prototype.re=function(){return Bc(this,Vq,1)};function nr(a){this.g=a}function or(a){var b=new dr;B(b,1,5);return a.g.send(b).then(function(a){return C(a.message,hr,4)})}function pr(a,b){var c=new jr;B(c,1,b||[]);b=new dr;B(b,1,7);D(b,4,c);return a.g.send(b).then(function(a){return C(a.message,lr,5)})};function qr(a){this.g=a}function rr(a){var b=new dr;B(b,1,2);return a.g.send(b).then(function(a){return C(a.message,gr,3)})};function sr(a){y(this,a,0,-1,null)}t(sr,x);sr.prototype.L=function(){return A(this,1)};function tr(a){y(this,a,0,1,null)}t(tr,x);var ur={};function vr(a){y(this,a,0,-1,null)}t(vr,x);var wr=new wc(100413133,{Nt:0},vr,function(a,b){var c={md:A(b,1)};a&&(c.mb=b);return c});ur[100413133]=wr;function xr(a){y(this,a,0,-1,null)}t(xr,x);var yr=new wc(101605819,{Ot:0},xr,function(a,b){var c={md:A(b,1)};a&&(c.mb=b);return c});ur[101605819]=yr;function zr(a){y(this,a,0,-1,null)}t(zr,x);
var Ar=new wc(100922934,{It:0},zr,function(a,b){var c={md:A(b,1)};a&&(c.mb=b);return c});ur[100922934]=Ar;function Br(a){y(this,a,0,-1,null)}t(Br,x);ur[108529910]=new wc(108529910,{St:0},Br,function(a,b){var c={};a&&(c.mb=b);return c});function Cr(a){y(this,a,0,-1,null)}t(Cr,x);ur[102041228]=new wc(102041228,{Rt:0},Cr,function(a,b){var c={};a&&(c.mb=b);return c});function Dr(a){y(this,a,0,-1,null)}t(Dr,x);ur[140441684]=new wc(140441684,{Tt:0},Dr,function(a,b){var c={};a&&(c.mb=b);return c});
function Er(a){y(this,a,0,-1,null)}t(Er,x);ur[122453513]=new wc(122453513,{Ut:0},Er,function(a,b){var c={Vt:A(b,1),Kt:A(b,2)};a&&(c.mb=b);return c});function Fr(a){y(this,a,0,-1,Gr)}t(Fr,x);var Gr=[1],Jr=new wc(113007630,{Gt:0},Fr,function(a,b){var c={Ft:zc(Bc(b,Hr,1),Ir,a)};a&&(c.mb=b);return c});ur[113007630]=Jr;function Hr(a){y(this,a,0,1,null)}t(Hr,x);
function Ir(a,b){var c={},d=Kr,e=Hr.prototype.Ge,f;for(f in d){var g=d[f],k=e.call(b,g);if(k){for(var p in g.Pf)if(g.Pf.hasOwnProperty(p))break;c[p]=g.Ue?g.uk?zc(k,g.Ue,a):g.Ue(a,k):k}}a&&(c.mb=b);return c}var Kr={};function Lr(a){y(this,a,0,-1,Mr)}t(Lr,x);var Mr=[3],Nr=new wc(112987886,{Jt:0},Lr,function(a,b){var c={Ht:A(b,1),nf:A(b,2),Qt:A(b,3)};a&&(c.mb=b);return c});Kr[112987886]=Nr;Lr.prototype.W=function(){return A(this,1)};function Or(a,b,c){H.call(this,b,a);this.data=c}t(Or,H);function Pr(a){I.call(this);this.j=!1;this.g=null;this.A=new V(this);F(this,this.A);this.B=a;this.o=new zn;F(this,this.o)}t(Pr,I);Pr.prototype.connect=function(){this.j||(this.j=!0,this.g=this.B.g,this.A.listen(this.g,"message",this.C.bind(this)),this.g.start())};function Qr(a,b){if(!a.j)throw Error("Trying to publish without connecting first.");var c=new sr;B(c,1,1);D(c,2,b);a.g.postMessage(Cc(c))}
Pr.prototype.C=function(a){this.o.vb(q(function(){var b=new tr(a.g.data),c;a:{for(var d in ur)if(c=ur[Number(d)],b.Ge(c))break a;c=null}c&&(d="J_"+c.g,b=b.Ge(c),this.dispatchEvent(new Or(this,d,b)))},this),0)};Pr.prototype.G=function(){if(this.g){var a=new sr;B(a,1,0);this.g.postMessage(Cc(a));this.g.close()}Pr.J.G.call(this)};function Rr(a){this.g=a};function Sr(a){this.g=a}function Tr(a){new MessageChannel;var b=new dr;B(b,1,1);return a.g.send(b).then(function(a){a=new Pr(new Rr(a.ports[0]));a.connect();return a})};function Ur(a){this.g=a};function Vr(){}Vr.prototype.ia=function(a){return a?[a.g]:null};function Wr(a){return a?new Ur(a[0]):null};function Xr(a,b,c,d,e,f){this.g=a;this.v=c;this.A=d;this.o=e;this.j=f||0}Xr.prototype.za=h("A");function Yr(){E.call(this);this.g=[]}t(Yr,E);Yr.prototype.j=!1;function Zr(a,b){for(var c=0;c<a.g.length;++c){var d=b,e=a.g[c];a.j&&(d.g=[],d.j=!0);d.g.push(e);a.j=!1}a.g=[]}function $r(a){var b=a.g;a.g=[];a.j=!1;return b}Yr.prototype.ba=function(){return 0==this.g.length};Yr.prototype.G=function(){Yr.J.G.call(this);delete this.g};function as(a,b,c,d){wq.call(this,"document",c);this.v=d||null;this.o=new Yr;this.B=new Vr;Y(this,"id",a);Y(this,"documentType",b)}t(as,wq);var bs=[0,1,4,2,3];l=as.prototype;l.getId=function(){return this.g.id};l.Za=function(){return Cq(this,"title")};l.L=function(){return this.g.documentType};function cs(a,b,c){Y(a,"rev",b);Y(a,"rai",a.B.ia(c))}l.yc=function(a){Eq(this,"lss",a)};l.xc=function(a){Y(this,"lsft",a)};function ds(a,b){Y(a,"lastModifiedServerTimestamp",b)}
function es(a,b){Y(a,"docosKeyData",b)}function Lq(a,b){Y(a,"lastModifiedClientTimestamp",b)}l.cc=function(){var a=this.o.ba();if(a&&!this.kb)return as.J.cc.call(this);a=a?1:2;return new qq(this.getId(),a)};function fs(a,b){Y(a,"modelVersion",b)}function gs(a,b){Y(a,"relevancyRank",b)}function hs(a,b){Y(a,"lastServerSnapshotTimestamp",b)}function is(a,b){Y(a,"snapshotState",b)}function js(a,b){Y(a,"pendingQueueState",b)}function ks(a){return Bq(a,"pendingQueueState")}
l.hb=function(){return as.J.hb.call(this)||!this.o.ba()};l.G=function(){delete this.v;this.o.V();delete this.o;as.J.G.call(this)};function ls(a,b){H.call(this,"M",b);this.g=a}t(ls,H);function ms(a,b,c){this.g=a;this.nf=b;this.j=c}var ns={Dh:"new",ri:"update",dh:"delete"};function os(a,b){E.call(this);this.j=b;this.g=new V(this);F(this,this.g);this.g.listen(a,"M",this.o)}t(os,E);
os.prototype.o=function(a){var b=[];a=a.g;for(var c=0;c<a.length;c++){var d=a[c];switch(d.g.C){case "document":var e=b,f=d,d=new Lr,g=f.g.getId();B(d,1,g);a:switch(g=f.nf,g){case "new":g=1;break a;case "update":g=2;break a;case "delete":g=3;break a;default:throw Error("Could not handle change type "+g);}B(d,2,g);g=[];f=f.j;Kb(f,"ip")&&g.push(1);Kb(f,"lastModifiedClientTimestamp")&&g.push(2);(Kb(f,"lsst")||Kb(f,"lsft")||Kb(f,"lss"))&&g.push(3);Kb(f,"pendingCreation")&&g.push(4);Kb(f,"title")&&g.push(5);
B(d,3,g||[]);if(2!=A(d,2)||A(d,3).length)f=new Hr,f.Id(Nr,d),e.push(f)}}b.length&&(a=new Fr,Dc(a,1,b),b=new tr,b.Id(Jr,a),Qr(this.j,b))};function ps(a){this.jg=a};function qs(a){this.g=a}qs.prototype.L=h("g");function rs(a){this.g="offline-oc";this.j=a}t(rs,qs);rs.prototype.Ka=h("j");function ss(){}ss.prototype.ia=function(a){if("offline-oc"!=a.L())throw Error("Invalid Type");return a.Ka()};function ts(a){this.o=a}ts.prototype.L=h("o");function us(a){a=a.L();return"update-record"==a||"delete-record"==a};function vs(a,b,c){this.o=a;this.A=b;this.B=c}t(vs,ts);vs.prototype.W=h("A");function ws(a,b,c,d){vs.call(this,"append-commands",a,b);this.g=c;this.v=d}t(ws,vs);Na(aa().prototype,aa().prototype);function xs(a){for(var b=[],c=0;c<a.length;c++)b.push(new rs(a[c]));return b};function ys(a){this.g=a||{cookie:""}}var zs=/\s*;\s*/;l=ys.prototype;l.set=function(a,b,c,d,e,f){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');n(c)||(c=-1);e=e?";domain="+e:"";d=d?";path="+d:"";f=f?";secure":"";c=0>c?"":0==c?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(r()+1E3*c)).toUTCString();this.g.cookie=a+"="+b+e+d+c+f};
l.get=function(a,b){for(var c=a+"=",d=(this.g.cookie||"").split(zs),e=0,f;f=d[e];e++){if(0==f.lastIndexOf(c,0))return f.substr(c.length);if(f==a)return""}return b};l.va=function(){return As(this).keys};l.ga=function(){return As(this).values};l.ba=function(){return!this.g.cookie};l.aa=function(){return this.g.cookie?(this.g.cookie||"").split(zs).length:0};l.zb=function(a){for(var b=As(this).values,c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};
function As(a){a=(a.g.cookie||"").split(zs);for(var b=[],c=[],d,e,f=0;e=a[f];f++)d=e.indexOf("="),-1==d?(b.push(""),c.push(e)):(b.push(e.substring(0,d)),c.push(e.substring(d+1)));return{keys:b,values:c}}var Bs=new ys("undefined"==typeof document?null:document);Bs.j=3950;function Cs(a){this.g={};this.o=a||Bs;this.setTime=this.j;this.incrementTime=this.v;this.setServerValues=this.A}za(Cs);Cs.prototype.j=function(a){Ds(this,a,r())};Cs.prototype.getTime=function(a){a=this.g[a];return null!=a?a:null};Cs.prototype.v=function(a,b){null!=this.g[a]||(this.g[a]=0);this.g[a]+=b};function Ds(a,b,c){if(null!=a.g[b])throw Error("Field "+b+" is already set.");a.g[b]=c}function Es(a,b){for(var c in b)Ds(a,c,b[c])}
Cs.prototype.A=function(a){Hf(J(),"icso")||(a&&Es(this,a),a=this.o.get("GFE_RTT"),isFinite(a)&&(a=String(a)),a=Da(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN,isNaN(a)||Ds(this,"gfertt",a),a=this.o,a.get("GFE_RTT"),a.set("GFE_RTT","",0,"/",".docs.google.com"),Ds(this,"sldummy",0))};m._getTimingInstance=Cs.ua;m._docsTiming=Cs;function Fs(a){this.bb=a;this.g=Cs.ua()}t(Fs,E);Fs.prototype.zd=function(a,b){var c=r();a=xs(a);b&&(b=r()-c,this.g.v("md",b));return a};function Gs(){E.call(this);Cs.ua()}t(Gs,E);function Hs(a,b){E.call(this);this.Ra=a;this.bb=b;this.Fi=new Fs(this.bb);this.yg=new Gs}t(Hs,E);Hs.prototype.Sa=h("Ra");Hs.prototype.zd=function(a,b){return this.Fi.zd(a,b)};Hs.prototype.Zd=function(a){if(a.kb)return[];var b=new Yr;Zr(a.o,b);if(b.ba())return[];var c=b.j;return[new ws(a.getId(),a.L(),$r(b),c)]};function Is(a){E.call(this);this.g=a}t(Is,E);Is.prototype.za=function(){return this.g.c||null};Is.prototype.W=function(){return this.g.dcKey[0]};function Js(a,b,c,d,e,f){var g={};g.dcKey=[a,b,c,d];g.t=e;f&&(g.c=f);return new Is(g)}Is.prototype.G=function(){delete this.g;Is.J.G.call(this)};function Ks(a,b,c){E.call(this);this.yg=c}t(Ks,E);function Ls(a,b,c,d){Hs.call(this,a,d);this.yk=b;this.Ui=c;new Ks(0,0,this.yg)}t(Ls,Hs);Ls.prototype.xa=function(a,b){switch(a.L()){case "append-commands":if(a.v){var c=q(this.g,this,a,b);b=X(b,"DocumentCommands");a=a.W();hn(b,[a],[a,[]],c)}else this.g(a,b);break;default:throw Error("Unsupported operation type "+a.L());}};
Ls.prototype.g=function(a,b){b=X(b,"DocumentCommands");for(var c=a.g,d=0;d<c.length;++d){for(var e=b,f=a.W(),g=c[d],k=g.za(),p=[],u=0;u<k.length;++u)p.push(this.bb.ia(k[u]));f=Js(f,g.o,g.g,g.j,g.v,p);Ms(e,f.g)}};function Ns(a,b){this.o="document-lock";this.g=a;this.v=b}t(Ns,ts);Ns.prototype.W=h("g");function Os(a){I.call(this);this.g=a;a.F=this;this.j=!1}t(Os,I);Os.prototype.jc=function(){return this.g.jc()};Os.prototype.Lb=function(){return this.g.Lb()};Os.prototype.write=function(a,b,c){if(!this.j)throw Error("Cannot write to read-only local store.");var d=Ps(a);a=Qs(this,a);0==a.length?b():Rs(this.g,a,q(function(){this.dispatchEvent(d);b()},this),c)};function Ps(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=ns;b.push(new ms(d,d.D?e.Dh:d.kb?e.dh:e.ri,d.A))}return new ls(b)}
function Qs(a,b){for(var c=[],d=null,e=0;e<b.length;e++){var f=b[e];if(f.hb()||f.kb){var g=a.g.C[f.C]||null;if(g){g=g.j(f);c=c.concat(g);if((g=f.cc())&&d){if(d.W()!=g.W())throw Error("Cannot compare two requirements with different doc id.");d=d.g>g.g?d:g}else d=d||g;f.Ec();f.hb()}else throw Error("No Capability for record :"+f.C);}}d&&c.unshift(new Ns(d.W(),d.g));return c};Jf(J(),"docs-csi-reporting-uri-override");function Ss(){var a;try{a=m.localStorage.getItem("docs-oiouid")}catch(b){a=null}return Jf(J(),"docs-offline-lsuid")==a};function Ts(a){this.o=a;this.g={};this.j=!1}function Us(a,b){delete a.g[b.getId()]};function Vs(){}Vs.prototype.init=ya;Vs.prototype.g=ya;Vs.prototype.log=ya;function Ws(a){this.v=a||r;this.g={};this.o=new Vs;this.j={};this.saveInitialLoadStats=this.B;this.getInitialLoadStats=this.A}za(Ws);Ws.prototype.B=function(a,b){b=this.j=b;var c=[],d;for(d in b)c.push([d,b[d]]);this.o.g(a,c)};Ws.prototype.A=function(){return qc(this.j)};function Xs(a,b,c){var d="goog_"+nb++;a.g[d]={startTime:a.v(),aj:b,yl:!!c,Af:null};return d}function Ys(a,b){var c=a.g[b];c&&(a.o.log(c.aj,a.v()-c.startTime,c.yl,null!=c.Af?c.Af:void 0),delete a.g[b])}
function Zs(a,b){a.g[b]&&delete a.g[b]};function $s(a,b,c,d){E.call(this);this.F=a;this.B=b;this.o=c;this.A=d||r;this.v=this.j=0;this.g=[]}t($s,E);$s.prototype.start=function(){if(this.v)throw Error("Idle delay has already been started");this.v=this.A()+this.B;this.j=Pi(this.C,this.B,this)};$s.prototype.C=function(){this.j=0;var a=this.A()-this.v;this.g.push(a);var b=this.o.hidden||this.o.webkitHidden||this.o.mozHidden||this.o.msHidden?1020:20;10>this.g.length&&a>b?(this.v=this.A()+1E3,this.j=Pi(this.C,1E3,this)):this.F(this)};
$s.prototype.G=function(){this.j&&Qi(this.j)};function gn(a,b,c,d,e,f,g,k,p){this.X=a;this.o=b;this.D=c;this.I=d;this.O=e;a=e.v++;e.g[a]=c;this.N=a;this.A=this.F=null;this.C=f||null;this.B=Ws.ua();this.j=p?Xs(this.B,p):null;this.H=k||0;this.g=null;0<this.H&&(this.C||g)&&(this.g=new $s(q(this.R,this),this.H,document),this.g.start());this.X.onsuccess=Mn(this.o,this.Y,this,!0);this.X.onerror=Mn(this.o,this.U,this,!0)}function kn(a,b){if(a.F)throw Error("Success callback already set");a.F=b}
gn.prototype.Y=function(a){G(this.g);this.j&&Ys(this.B,this.j);var b=this.O,c=this.N;b.o++;delete b.g[c];this.I.g||this.F&&this.F(a)};function at(a,b){if(a.A)throw Error("Error callback already set");a.A=b}gn.prototype.U=function(a){G(this.g);this.j&&Zs(this.B,this.j);var b=this.O,c=this.N;b.j++;delete b.g[c];a.target.docs_requestContext=this.D;this.I.g||(b=a.target.error)&&"AbortError"==b.name||this.A&&this.A(a)};gn.prototype.M=function(a){a.onsuccess=ya;a.onerror=ya};
gn.prototype.R=function(){this.j&&Zs(this.B,this.j);Ln(this.o,Error("A request was running for a long time"),{documentHidden:document.hidden||document.webkitHidden,request:this.D,requestTimeoutMs:this.H,timeoutCallbackSet:!!this.C,timeoutDelays:this.g.g.concat().toString()});G(this.g);!this.I.g&&this.C&&(this.M(this.X),this.C())};function bt(){this.g={};this.v=this.o=this.j=0};function ct(){this.j=this.o=this.g=!1};function dt(a){try{m.localStorage.setItem("docs-ucb","1")}catch(b){Ln(a,Error("Error setting unsaved changes bit in Local Storage: "+b.message))}}function et(a){try{var b=m.localStorage.getItem("docs-ucb")}catch(c){return Ln(a,Error("Error reading unsaved changes bit: "+c.message)),"e"}switch(b){case "1":return"t";case "0":return"f";default:return"u"}};function ft(a,b,c,d,e,f){gn.call(this,a,b,c,new ct,new bt,d,!0,e,f);this.S=this.v=null;a.onblocked=Mn(b,this.Z,this,!0);a.onupgradeneeded=Mn(b,this.ca,this,!0)}t(ft,gn);ft.prototype.Z=function(a){G(this.g);this.v&&this.v(a)};ft.prototype.ca=function(a){G(this.g);if(a.dataLoss&&"none"!=a.dataLoss){var b={};b.dataLoss=a.dataLoss;b.dataLossMessage=a.dataLossMessage;b.optinBackup=Ss();b.requestContext=this.D;b.unsavedChanges=et(this.o);Ln(this.o,Error("upgradeNeeded after dataLoss"),b)}this.S&&this.S(a)};
ft.prototype.M=function(a){ft.J.M.call(this,a);a.onblocked=ya;a.onupgradeneeded=ya};function gt(a,b){if(a.v)throw Error("Blocked callback already set");a.v=b}function ht(a,b){if(a.S)throw Error("Upgrade needed callback already set");a.S=b};function it(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}it.prototype.get=function(a){return new gn(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function jt(a,b,c,d){this.g=a;this.v=b;this.o=c;this.j=d}jt.prototype.get=function(a){return new gn(this.g.get(a),this.j,this.g.name+".get("+a+")",this.v,this.o)};function Ms(a,b){b=n(void 0)?a.g.put(b,void 0):a.g.put(b);return new gn(b,a.j,a.g.name+".put(undefined)",a.v,a.o)}function kt(a,b){b=n(void 0)?a.g.add(b,void 0):a.g.add(b);new gn(b,a.j,a.g.name+".add(undefined)",a.v,a.o)}function jn(a,b){return new gn(a.g["delete"](b),a.j,a.g.name+".delete("+b+")",a.v,a.o)}
jt.prototype.count=function(a){var b=n(a)?this.g.count(a):this.g.count();return new gn(b,this.j,this.g.name+".count("+a+")",this.v,this.o)};function fn(a,b){return new it(a.g.index(b),a.v,a.o,a.j)};function lt(a,b,c,d,e,f,g,k,p,u){this.Y=a;this.U=b;this.H=c;this.o=d;this.M=e;this.D=!1;this.A=!!g;this.F=this.C=null;this.j=new ct;this.O=new bt;this.R=k||6E4;this.v=new $s(q(this.Xi,this),this.R,document);this.X=p||null;this.S=Ws.ua();this.g=null;this.N=mt++;this.B=f;this.I=n(u)?u:this.A?"idbrwt":"idbrot"}var mt=0;l=lt.prototype;
l.open=function(){null!=this.I&&(this.g=Xs(this.S,this.I,!0));var a=this.A?"readwrite":"readonly";this.v.start();a=this.Y.transaction(this.U,a);a.onabort=Mn(this.o,this.Bk,this);a.oncomplete=Mn(this.o,this.Dk,this);a.onerror=Mn(this.o,this.Yi,this,!0);this.F=a;this.A&&(this.B.g[this.getId()]=this)};function mn(a){a.j.j=!0;a.v.V();a.g&&(Zs(a.S,a.g),a.g=null);Us(a.B,a)}l.abort=function(a){nt(this,!1,a)};
function nt(a,b,c){var d=a.j;if(!d.o&&!d.g){ot(a);d.g=!0;try{a.F.abort(),c&&!a.D&&(a.M(c),a.D=!0)}catch(e){"InvalidStateError"==e.name&&b||(c=pt(a),c.abortFromTimeout=b,Ln(a.o,e,c))}a.v.V();Us(a.B,a)}}function X(a,b){ot(a);return new jt(a.F.objectStore(b),a.j,a.O,a.o)}function qt(a,b){if(a.C)throw Error("Completion callback already set");a.C=b}l.$=h("j");function ot(a){if(!a.F)throw Error("Transaction does not exist");}
l.Bk=function(a){this.j.j||(this.j.o=!0,this.g&&(Zs(this.S,this.g),this.g=null),Us(this.B,this),this.v.V(),this.j.g||(a.target.docs_internalAbort=!0,!this.A&&a.target.error&&"QuotaExceededError"==a.target.error.name?this.C&&this.C():rt(this,"LocalStore IndexedDB transaction abort",pt(this),a)))};l.Dk=function(){this.j.j||(Us(this.B,this),this.g&&(Ys(this.S,this.g),this.g=null),this.v.V(),this.C&&this.C())};
l.Yi=function(a){a.stopPropagation();var b=this.j;if(!(b.j||b.o||b.g||(b=a.target.error,b&&"AbortError"==b.name))&&(b=pt(this),b.request=a.target.docs_requestContext,rt(this,"LocalStore IndexedDB error",b,a),a=this.B,Hf(Gf.ua(),"docs-ewtaoe")&&this.A)){delete a.g[this.getId()];var b=0,c;for(c in a.g){var d=Number(c);a.g[d].abort();delete a.g[d];b++}a.j=!0;Ln(a.o,Error("Handled fatal error of transaction: "+this.getId()+" and aborted "+b+" transactions "))}};
function rt(a,b,c,d){b=b+" ("+a.H+"): "+nn(d);Ln(a.o,Error(b),c);c=new $m(1,b,d);a.D||(a.M(c),a.D=!0)}l.Xi=function(){if(!this.j.j){var a=pt(this);a.transactionTimeout=this.R;a.timeoutDelays=this.v.g.concat().toString();a.documentHidden=document.hidden||document.webkitHidden;Ln(this.o,Error("A transaction was running for a long time ("+this.H+")"),a);this.v.V();this.X&&(nt(this,!0),this.X(),this.F.oncomplete=null)}};l.getId=h("N");
function pt(a){var b={transactionAllowWrite:a.A,transactionContext:a.H,transactionId:a.N,transactionObjectStores:a.U.toString()};a=a.O;var c=Ib(a.g);b.pendingRequestCount=c.length;b.pendingRequests=c.toString();b.requestErrorCount=a.j;b.requestSuccessCount=a.o;return b};function st(a,b){H.call(this,"N",b)}t(st,H);function tt(a,b){I.call(this);this.j=a;this.A=b;this.g=null;this.o=!1;this.B=new Ts(b)}t(tt,I);var ut=m.indexedDB||m.webkitIndexedDB;tt.prototype.C=function(){this.o=!0;this.close();this.dispatchEvent(new st)};tt.prototype.close=function(){this.g&&(this.g.onversionchange=null,this.g.close(),this.g=null)};
function vt(a,b){if(a.g)throw Error("IdbDocsDatabase already managing a database.");if(null!=b.onversionchange)throw Error("This database is being managed by another class.");b.onclose=q(function(){var a={};a.optinBackup=Ss();Ln(this.A,Error("The database connection was closed."),a);this.dispatchEvent("K")},a);b.onerror=on("Database error.",a.j);b.onversionchange=q(a.C,a);a.g=b}function wt(a){if(!a.g)return-1;a=parseInt(a.g.version,10);return 0<=a?a:-1}
function xt(a,b,c,d,e,f,g,k){if(!a.g)throw Error("Cannot open transaction on uninitialized IdbDocsDatabase");if(e&&a.B.j)throw Error("Cannot open read-write transactions because of a previous fatal error in a read-write transaction.");a=new lt(a.g,b,c,a.A,d||a.j,a.B,e,f,g,k);a.open();return a}
function yt(a,b,c,d,e){if(wt(a)>=b)throw Error("Upgrading to a version ("+b+") less than or equal to current version ("+wt(a)+")");var f=a.g.name;a.close();var g=a.A;b=new ft(ut.open(f,b),g,"setVersion database.open");ht(b,function(a){a=a.target.transaction;a.onabort=a.onerror=Mn(g,d,{},!0);c(a)});at(b,d);gt(b,function(a){Ln(g,Error("Onblocked handler called when upgrading database."),{"Old version":a.oldVersion,"New version":a.newVersion})});kn(b,q(function(a){vt(this,a.target.result);e(a)},a))}
tt.prototype.G=function(){this.close();tt.J.G.call(this)};var zt=m.indexedDB||m.webkitIndexedDB;function At(a,b,c,d,e,f){e=e?function(){d(new $m(6,"Timeout opening database."))}:void 0;var g=Cs.ua();f&&(g.j("odbs"),Pi(q(g.j,g,"odbjy")));e=new ft(zt.open("GoogleDocs"),c,"database.open",e,If(J(),"docs-localstore-iort"),"idbodb");kn(e,function(d){f&&g.j("odbc");var e=new tt(b,c);vt(e,d.target.result);a(e)});at(e,on("Error opening database.",d))};function Bt(a,b){wq.call(this,"applicationMetadata",b);Y(this,"dt",a);this.v=[]}t(Bt,wq);Bt.prototype.o=!1;Bt.prototype.Sa=function(){return this.g.dt};Bt.prototype.Ec=function(){Bt.J.Ec.call(this);this.o=!1};Bt.prototype.hb=function(){return this.o||Bt.J.hb.call(this)};function Ct(a,b,c,d){wq.call(this,"fontMetadata",d);a=Y(Y(this,"fontFamily",a),"version",b);b=[];for(d=0;d<c.length;d++){for(var e=c[d],f=e.g,g=[],k=0;k<f.length;k++){var p=f[k],u={};u.format=p.j;u.isSystemFont=p.g;u.url=p.o;g.push(u)}f=Dt;k={};k[f.dd]=e.v;k[f.Qd]=e.j;k[f.bi]=g;k[f.STYLE]=e.o;k[f.Rd]=e.A;b.push(k)}Y(a,"fontFaces",b)}t(Ct,wq);Ct.prototype.na=function(){return this.g.fontFamily};
function Et(a){a=a.g.fontFaces;for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=[],f=d.source,g=0;g<f.length;g++){var k=f[g];e.push(new Ft(k.format,k.isSystemFont,k.url))}f=Dt;b.push(new Gt(d[f.dd],d[f.Qd],d[f.STYLE],d[f.Rd],e))}return b}function Gt(a,b,c,d,e){this.v=a;this.j=b;this.o=c;this.A=d;this.g=e}var Dt={dd:"fontFamily",Qd:"isMenuFont",bi:"source",STYLE:"style",Rd:"weight"};Gt.prototype.na=h("v");Gt.prototype.getStyle=h("o");function Ft(a,b,c){this.j=a;this.g=b;this.o=c}
Ft.prototype.getUrl=h("o");function Ht(a,b,c){wq.call(this,a,c);Y(this,"dataType",b)}t(Ht,wq);function It(a,b,c){wq.call(this,"syncObject",a);Y(this,"keyPath",b);Y(this,"state",c)}t(It,wq);function Jt(a){a=yq(a,"state");if(!a)throw Error("SyncObject not allowed to have null state.");return a};function Kt(a,b){wq.call(this,"user",b);Y(this,"id",a);Eq(this,"fastTrack",!0)}t(Kt,wq);Kt.prototype.getId=function(){return this.g.id};function Lt(a,b,c){this.o=a;this.B=b;this.A=c}t(Lt,ts);function Mt(a){if(null===a.B)throw Error("Cannot getKey of operation for singleton record.");return a.B};function Nt(a,b,c){Lt.call(this,"delete-record",a,b);this.g=!!c}t(Nt,Lt);function Ot(a,b,c,d){Lt.call(this,d||"update-record",a,b.C);this.j=b.D;this.g={};a=b.A;c=c||[];for(var e in a)this.g[e]=ub(c,e)?zq(b,e):b.g[e]}t(Ot,Lt);function Pt(){I.call(this)}t(Pt,I);Pt.prototype.j=function(a){if(!(0<=ob(this.wa(),a.C)))throw Error("Cannot create operations for an unsupported record type "+a.C);return this.Xa(a)};Pt.prototype.Xa=function(a,b){var c=this.Aa(a),d=[];a.kb?d.push(new Nt(c,a.C,!1)):d.push(new Ot(c,a,b));return d};Pt.prototype.Aa=function(a){throw Error("Key cannot be obtained for record of type "+a.C);};Pt.prototype.ta=function(a){return us(a)?0<=ob(this.wa(),a.A):!1};function Qt(){I.call(this)}t(Qt,Pt);Qt.prototype.wa=function(){return["comment"]};Qt.prototype.Aa=function(a){return[a.g.di,a.getId()]};function Rt(a,b,c){I.call(this);this.g=a;this.A=c}t(Rt,Qt);function Jq(a,b,c,d){d=xt(a.g,["Comments"],"Error reading comments.",d);var e;e=[b];b=[b,[]];ln(d,"Comments",q(a.o,a),c,e,b,void 0,void 0,void 0,!0)}Rt.prototype.o=function(a){var b=new Hq(a.cmtKey[0],a.cmtKey[1],!1);Y(b,"s",a.stateIndex[0]);Y(b,"da",a.da);b.j=!1;return b};function St(a,b,c,d){Tt(a.g,"missingdocosdocumentids",b,c,d)}Rt.prototype.Ba=function(){return["Comments"]};
Rt.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"Comments");Mt(a);if(a.j){var c=a.g,d={};d.cmtKey=Mt(a);d.stateIndex=[c.s,c.di];d.da=c.da;Ms(b,d)}else{d=a.g;a=Mt(a);var e={};"s"in d&&(e.stateIndex=[d.s,a[0]],delete d.s);for(c in d)e[c]=d[c];Ut(this.A,a,e,b)}break;case "delete-record":b=X(b,"Comments");a=Mt(a);jn(b,a);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Vt(a){I.call(this);this.ma=a}t(Vt,Pt);l=Vt.prototype;l.wa=function(){return["document"]};l.Cb=function(a){var b=this.ma[a];if(!b)throw Error("No adapter found for this type: "+a);return b};l.createDocument=function(a,b){return new as(a,b,!0,this.ma[b])};l.ta=function(a){var b=a.L();return"append-commands"==b||"write-trix"==b?!0:Vt.J.ta.call(this,a)};
l.Xa=function(a){var b=Vt.J.Xa.call(this,a,"lastModifiedClientTimestamp lastWarmStartedTimestamp ic odocid relevancyRank rev rai".split(" "));a=this.Cb(a.L()).Zd(a);return b.concat(a)};l.Aa=function(a){return a.getId()};function Wt(){I.call(this)}t(Wt,Pt);Wt.prototype.wa=function(){return[]};function Xt(a){I.call(this);this.g=a}t(Xt,Wt);function Yt(a,b,c,d){Tt(a.g,"nonsnapshottedocumentids",b,c,d)};var Zt={yh:"l",Uh:"s",Qh:"r"};function $t(a,b,c,d){Vt.call(this,d);this.g=a;this.o=c}t($t,Vt);var au="lastModifiedClientTimestamp lastWarmStartedTimestamp relevancyRank rev rai odocid".split(" ");function bu(a,b,c,d,e,f){if(a.g.o)Pi(Ma(e,[]));else{var g=xt(a.g,["Documents"],"Error reading documents.",f);f=function(a){mn(g);e(a)};d?cu(a,b,c,f,g,!0):cu(a,b,c,f,g,!1)}}l=$t.prototype;
l.cl=function(a,b){this.g.o?Pi(Ma(a,[])):(b=xt(this.g,["Documents","PendingQueueCommands"],"Error reading documents with pending changes.",b),ln(b,"PendingQueueCommands",function(a){var b=a.c;return b&&0!=b.length?a.pqcKey[0]:null},q(this.yd,this,b,a)))};function du(a,b,c,d){bu(a,b,null,!0,c,d)}function eu(a,b,c){bu(a,null,null,!1,b,c)}function fu(a,b,c,d){bu(a,null,b,!1,function(a){1==a.length?c(a[0]):c(null)},d)}
l.yd=function(a,b,c){if(0>=c.length)b([]);else{Bb(c);for(var d=[],e=0;e<c.length;e++){var f=c[e];ln(a,"Documents",q(this.Xd,this,null,!1),function(a){0<a.length&&d.push(a[0])},f)}qt(a,function(){b(d)})}};function cu(a,b,c,d,e,f){c?kn(X(e,"Documents").get(c),q(function(a){(a=a.target.result)?d([this.Xd(b,f,a)]):d([])},a)):ln(e,"Documents",q(a.Xd,a,b,f),d,void 0)}
l.Xd=function(a,b,c){if(b&&c.hpmdo)return null;a=gu(a,c);if(!a||"trix"==a.L()||"syncstats"==a.L())return null;b=this.ma[a.L()];if(!b)throw Error("No document adapter found for type: "+a.L());a.v=b;a.j=!1;return a};
function gu(a,b){if(null!=a&&b.acl&&!n(b.acl[a]))return null;a=new as(b.id,b.documentType,!1);Y(a,"title",b.title);Y(a,"lastSyncedTimestamp",b.lastSyncedTimestamp);Y(a,"jobset",b.jobset);Eq(a,"isFastTrack",!!b.isFastTrack);ds(a,b.lastModifiedServerTimestamp);Y(a,"lastColdStartedTimestamp",b.lastColdStartedTimestamp);Y(a,"lastWarmStartedTimestamp",b.lastWarmStartedTimestamp);var c=b.acl,d;for(d in c)Gq(a,"acl",d,c[d]);es(a,b.docosKeyData||null);Eq(a,"inc",!!b.inc);d=b.lastModifiedClientTimestamp;null!=
d&&Lq(a,d);if(d=b.startupHints)for(var e in d)Gq(a,"startupHints",e,d[e]);(e=b.ic)&&Y(a,"ic",e);Eq(a,"hpmdo",!!b.hpmdo);Eq(a,"ips",!!b.ips);Eq(a,"ip",!!b.ip);Eq(a,"pendingCreation",!!b.pendingCreation);e=b.fact;null!=e&&Y(a,"fact",e);Eq(a,"modelNeedsResync",!!b.modelNeedsResync);Eq(a,"ind",!!b.ind);e=b.modelVersion;null!=e&&fs(a,e);e=b.rev;null!=e&&(d=b.rai,cs(a,e,null!=d?Wr(d):null));e=b.lsst;null!=e&&Y(a,"lsst",e);e=b.lss;null!=e&&a.yc(!!e);e=b.lsft;null!=e&&a.xc(e);e=b.odocid;null!=e&&Y(a,"odocid",
e);e=b.relevancyRank;null!=e&&gs(a,e);e=b.lastServerSnapshotTimestamp;null!=e&&hs(a,e);e=b.snapshotState;null!=e&&is(a,e);b=b.pendingQueueState;null!=b&&js(a,b);return a}l.dl=function(a,b){b=xt(this.g,["Comments","Documents"],"Error reading comments.",b);ln(b,"Comments",function(a){return a[1]},q(this.yd,this,b,a),[2],[2,[]],"StateIndex",!1,!0)};
l.fl=function(a,b){Xg([new R(function(a,b){hu(this,"nonsnapshottedocumentids",a,b)}.bind(this)),iu(this)]).then(function(a){a=a[0].concat(a[1]);Bb(a,void 0,function(a){return a.getId()});return a}).then(a,function(a){(b||this.g.j)(a)}.bind(this))};function iu(a){return ju(a,function(a){var b=zq(a,"snapshotState");return 2==b?(a=Aq(a,"lastServerSnapshotTimestamp"),null===a||864E5<r()-a):0==b})}function ju(a,b){return new R(function(a,d){eu(this,function(c){a(c.filter(b))},d)}.bind(a))}
l.el=function(a,b){hu(this,"missingdocosdocumentids",a,b)};function hu(a,b,c,d){var e=xt(a.g,["Documents","ProfileData"],"Error reading document ids",d);ku(b,function(b){a.yd(e,c,b)},e)}l.Ba=function(a){if(!this.ta(a))throw Error("Cannot get object store names for operation type "+a.L());var b=["DocumentCommands","Documents"];"delete-record"==a.L()&&(b=b.concat(["Comments","DocumentEntities","PendingQueueCommands","PendingQueues"]));return b};
l.xa=function(a,b){var c=X(b,"Documents");switch(a.L()){case "update-record":a.j?kt(c,a.g):Ut(this.o,Mt(a),a.g,c,au);break;case "delete-record":lu(this,a,b);break;default:this.Cb(a.B).xa(a,b)}};function lu(a,b,c){b.g?a.Fc(b,c):mu(a,Mt(b),c,q(function(a){a?c.abort(new $m(5,"Pending changes found")):this.Fc(b,c)},a))}l.te=function(){return"Comments DocumentCommands DocumentEntities DocumentLocks Documents PendingQueueCommands PendingQueues".split(" ")};
function nu(a,b,c){var d=a.te(),e=xt(a.g,d,"Error deleting documents.",c,!0);qt(e,b);ln(e,"Documents",function(a){if((a=gu(null,a))&&("trix"==a.L()||"syncstats"==a.L()))return new Nt(this.Aa(a),a.C)}.bind(a),function(a){for(var b=0;b<a.length;b++)this.Fc(a[b],e)}.bind(a))}function mu(a,b,c,d){kn(dn(X(c,"PendingQueueCommands"),[b],[b,[]]),q(function(a){a.target.result?d(!0):ou(b,c,d)},a))}function ou(a,b,c){kn(fn(X(b,"Comments"),"StateIndex").get([2,a]),function(a){c(!!a.target.result)})}
l.Fc=function(a,b){a=Mt(a);var c=X(b,"DocumentCommands");hn(c,[a],[a,[]]);c=X(b,"PendingQueueCommands");hn(c,[a],[a,[]]);c=X(b,"PendingQueues");hn(c,a);c=X(b,"Documents");hn(c,a);c=X(b,"DocumentLocks");hn(c,[a]);c=X(b,"Comments");hn(c,[a],[a,[]]);Tt(this.g,"nonsnapshottedocumentids",[a],ya);Tt(this.g,"missingdocosdocumentids",[a],ya);b=X(b,"DocumentEntities");hn(b,[a],[a,[]])};
function pu(a,b,c,d){a=xt(a.g,["PendingQueueCommands"],"Error reading pending changes for unsaved bit.",d,!0);qt(a,c);kn(X(a,"PendingQueueCommands").get(cn.lowerBound(-Infinity)),function(a){if(a.target.result)dt(b);else try{m.localStorage.setItem("docs-ucb","0")}catch(f){Ln(b,Error("Error clearing unsaved changes bit in Local Storage: "+f.message))}})};function qu(a,b,c){Ot.call(this,a,b,void 0,"update-application-metadata");this.v=c}t(qu,Ot);function ru(a){I.call(this);this.ma=a}t(ru,Pt);l=ru.prototype;l.wa=function(){return["applicationMetadata"]};l.Aa=function(a){return a.Sa()};l.ta=function(a){return"update-application-metadata"==a.L()};l.Xa=function(a){var b=this.Aa(a);return[new qu(b,a,a.o?a.v.concat():null)]};l.Cb=function(a){var b=this.ma[a];if(!b)throw Error("No adapter found for this type: "+a);return b};function su(a,b,c,d){ru.call(this,c);this.g=a;this.A=d}t(su,ru);function tu(a,b,c,d,e){var f=xt(a.g,["NewDocumentIds"],"Error writing new document ids.",e,!0);qt(f,d);kn(X(f,"NewDocumentIds").get(b),function(a){a=a.target.result;a=(a&&a.documentIds?a.documentIds:[]).concat(c);var d={};d.dtKey=b;d.documentIds=a;Ms(X(f,"NewDocumentIds"),d)})}
function uu(a,b,c,d){var e=xt(a.g,["NewDocumentIds"],"Error reading new document ids.",d);kn(X(e,"NewDocumentIds").get(b),function(a){a=a.target.result;mn(e);c(a&&a.documentIds?a.documentIds.length:0)})}
su.prototype.o=function(a){var b=a.dt;if(null==b)throw Error("Document type expected to be defined.");var c=new Bt(b,!1),b=this.Cb(b),d=a.jobset;null!=d&&Y(c,"jobset",d);d=a.ic;null!=d&&(b=b.zd(d),c.v=b.concat(),c.o=!0);(b=a.docosKeyData)&&Y(c,"docosKeyData",b);a=a.version;Y(c,"version",n(a)?a:0);c.j=!1;return c};su.prototype.Ba=function(a){if(!this.ta(a))throw Error("Cannot get object store names for operation type "+a.L());return["ApplicationMetadata"]};
su.prototype.xa=function(a,b){switch(a.L()){case "update-application-metadata":var c=this.Cb(Mt(a)),d=a.g;if(null!=a.v){var e;if(a.v)e=a.v;else throw Error("No new initial commands are available.");for(var f=[],g=0;g<e.length;g++)f.push(c.bb.ia(e[g]));d.ic=f}b=X(b,"ApplicationMetadata");a.j?Ms(b,d):Ut(this.A,Mt(a),d,b);break;default:throw Error("Cannot perform operation of type "+a.L());}};function vu(a,b,c,d,e){wq.call(this,"documentEntity",e);Y(this,"entityId",a);Y(this,"documentId",b);Y(this,"entityType",c);Y(this,"data",d)}t(vu,wq);vu.prototype.getId=function(){return this.g.entityId};vu.prototype.L=function(){return this.g.entityType};function wu(){I.call(this)}t(wu,Pt);wu.prototype.wa=function(){return["documentEntity"]};wu.prototype.Aa=function(a){return[a.g.documentId,a.L(),a.getId()]};function xu(a,b,c){I.call(this);this.g=c}t(xu,wu);xu.prototype.Ba=function(){return["DocumentEntities"]};xu.prototype.xa=function(a,b){b=X(b,"DocumentEntities");switch(a.L()){case "update-record":if(a.j){var c={};c.deKey=Mt(a);c.data=a.g.data;Ms(b,c)}else c={},c.data=a.g.data,a=Mt(a),Ut(this.g,a,c,b);break;case "delete-record":hn(b,Mt(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function yu(a,b,c,d,e){wq.call(this,"impressionBatch",e);Y(this,"di",a);Y(this,"dt",b);Y(this,"ibt",c);Y(this,"iba",d)}t(yu,wq);function zu(){I.call(this)}t(zu,Pt);zu.prototype.wa=function(){return["impressionBatch"]};zu.prototype.Aa=function(a){return[Cq(a,"di"),a.g.ibt]};zu.prototype.ta=function(a){return zu.J.ta.call(this,a)&&("update-record"==a.L()&&a.j||"delete-record"==a.L())};function Au(a){I.call(this);this.g=a}t(Au,zu);function Bu(a,b,c){c=xt(a.g,["Impressions"],"Error reading impressions.",c);ln(c,"Impressions",q(a.o,a),b,void 0,void 0,void 0,void 0,void 0,!0)}Au.prototype.o=function(a){a=new yu(a.iKey[0]||null,a.dt,a.iKey[1],a.iba,!1);a.j=!1;return a};Au.prototype.Ba=function(){return["Impressions"]};
Au.prototype.xa=function(a,b){switch(a.L()){case "update-record":if(a.j){b=X(b,"Impressions");a=a.g;var c={};c.iKey=[a.di||"",a.ibt];c.dt=a.dt;c.iba=a.iba;Ms(b,c)}else throw Error("Impressions may not be updated.");break;case "delete-record":hn(X(b,"Impressions"),Mt(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Cu(){I.call(this)}t(Cu,Pt);Cu.prototype.wa=function(){return[]};function Du(){I.call(this)}t(Du,Cu);function Eu(a,b){H.call(this,"L",b)}t(Eu,H);function Fu(){I.call(this);this.C={}}t(Fu,I);function Gu(a,b){for(var c=b.wa(),d=0;d<c.length;d++){var e=c[d];if(a.C[e])throw Error("Record type "+e+"already handled by another capability.");a.C[e]=b}}l=Fu.prototype;l.If=ca(null);l.jd=ca(null);l.he=ca(null);l.Jf=ca(null);l.Lb=ca(null);l.Yb=ca(null);l.ge=ca(null);l.ie=ca(null);l.Hf=ca(null);function Hu(){I.call(this)}t(Hu,Pt);Hu.prototype.wa=function(){return[]};Hu.prototype.Xa=function(){throw Error("No operation is supported.");};Hu.prototype.Aa=function(){throw Error("No record is supported.");};Hu.prototype.ta=ca(!1);function Iu(){I.call(this)}t(Iu,Hu);Iu.prototype.Ba=function(){throw Error("No object store available.");};Iu.prototype.xa=function(a){throw Error("Operation type "+a.L()+" not supported.");};function Ju(){I.call(this)}t(Ju,Pt);Ju.prototype.wa=function(){return[]};function Ku(a,b,c){this.g=a;this.o=b;this.j=c}Ku.prototype.W=h("o");Ku.prototype.fb=h("j");function Lu(a,b,c){var d=r();return a.j==b?"available":a.g+(c?6E4:0)<=d||a.g>d+36E4?"expiredOtherSid":(b=window.localStorage)&&b.getItem("dcl_"+a.j)?"available":"unavailable"}Ku.prototype.ia=function(){var a={};a.e=this.g;a.dlKey=[this.o];a.sId=this.j;return a};function Mu(a){return new Ku(a.e,a.dlKey[0],a.sId)};function Nu(a,b,c,d,e){I.call(this);this.g=a;this.j=b;this.o=c;this.D=e||this.o.j;this.B=0;this.C=d;this.A=new V(this);this.A.listen(c,"N",this.Vi)}t(Nu,I);l=Nu.prototype;l.Ca=null;l.Vi=function(){this.Me()};l.Sd=function(a,b,c){var d=Ou(this,Ma(b,4),c,!0);c=X(d,"DocumentLocks");b=q(this.Oj,this,a,b,d);b=q(this.Ug,this,a,c,b,null);Pu(this,a,b,c,!1,!0)};function Ou(a,b,c,d){return xt(a.o,["DocumentLocks"],"Lock acquisition",c,d,If(J(),"docs-localstore-ilat"),b,"idbla")}
l.Oj=function(a,b,c,d){1==d?qt(c,q(this.Pj,this,a,b)):(c.X=null,b(d))};l.Pj=function(a,b){if(this.Ca)throw Error("Lock refresh timer should not be running on lock acquisition");this.isDisposed()||0==this.j||(this.Ca=new Oi(Math.max(this.j-1E4,0)),this.A.listen(this.Ca,"tick",q(this.bk,this,a)),this.Ca.start());b(1)};l.Qj=function(a,b){b||a.abort(new $m(2,"Lock not available"))};
function Qu(a,b,c){a.Ca&&a.Ca.stop();var d=q(a.Nj,a,b,c),e=q(a.Ng,a,b,c);c=X(c,"DocumentLocks");d=q(a.Ug,a,b,c,d,e);Pu(a,b,d,c,!0,!1,e)}l.Nj=function(a,b,c){1!=c?this.Ng(0,b):this.Ca&&this.Ca.start()};l.Ng=function(a,b){G(this.Ca);this.Ca=null;b.abort(new $m(2,"Lock could not be refreshed"))};function Pu(a,b,c,d,e,f,g){d=d.get([b]);kn(d,q(a.Ai,a,b,c,e,f));g&&at(d,ud(g))}
l.Ai=function(a,b,c,d,e){if(!this.isDisposed()){a=e.target.result;var f=null;if(a){if(a=Mu(a),e=a.fb(),e==this.g&&(f=a.g),(c=c&&e!=this.g)||(c=Lu(a,this.g,0==this.j),c=!("available"==c||"expiredOtherSid"==c)),c){d=r();c={};c.sessionId=this.g;c.lockHoldingSessionId=e;c.validUntil=a.g-d;c.lockDuration=this.j;this.B&&(c.lastWrittenValidUntil=this.B-d);0<this.j&&Ln(this.C,Error("IndexedDB document lock not available"),c);b(!1,null);return}}else if(c){c={};c.sessionId=this.g;Ln(this.C,Error("IndexedDB document lock not available because the lock does not exist"),
c);b(!1,null);return}d&&this.dispatchEvent("O");b(!0,f)}};l.Ug=function(a,b,c,d,e,f){e?(c=Ma(c,1),e=r(),this.B=f=Math.min(Math.max(e+this.j,f||0),e+6E4),a=Ms(b,(new Ku(f,a,this.g)).ia()),kn(a,ud(c)),d&&at(a,ud(d))):c(2)};l.bk=function(a){Ru(this,a,0)};function Ru(a,b,c){c=xt(a.o,["DocumentLocks"],"Lock refresh timer",q(a.ck,a,b,c),!0);Qu(a,b,c)}l.ck=function(a,b,c){this.isDisposed()||(2==c.type||2<=b?(G(this.Ca),this.Ca=null,this.D(c)):Ru(this,a,b+1))};
l.Me=function(){G(this.Ca);this.Ca=null;var a=window.localStorage;a&&a.setItem("dcl_"+this.g,String(r()))};
l.Wd=function(){var a=window.localStorage;if(!a)return Ug(Error("Cannot clean up locks when there is no local storage"));for(var b=[],c=0,d=a.length;c<d;++c){var e=a.key(c);if(e&&Sa(e,"dcl_")){var f=e.substring(4);b.push(f)}}var g=Tb(b);return(new R(function(a,b){var c=xt(this.o,["DocumentLocks"],"Lock cleanup",b,!0);qt(c,a);ln(c,"DocumentLocks",Mu,function(a){var b=X(c,"DocumentLocks");a.filter(function(a){return g[a.fb()]}).forEach(function(a){hn(b,[a.W()])}.bind(this))}.bind(this))}.bind(this))).then(function(){for(f in g)a.removeItem("dcl_"+
f)})};l.G=function(){this.A.V();G(this.Ca);this.Ca=null;Nu.J.G.call(this)};l.ak=function(a,b){(b=b.target.result)?a(Lu(Mu(b),this.g,0==this.j)):a("available")};function Su(a,b,c,d){I.call(this);this.g=a;this.Fb=new Nu(b,c,a,d,this.g.j);this.Fb.F=this}t(Su,Ju);l=Su.prototype;l.Sd=function(a,b,c){this.Fb.Sd(a,b,c)};l.Me=function(){this.Fb.Me()};l.Wd=function(){return this.Fb.Wd()};l.Ba=function(){return["DocumentLocks"]};
l.xa=function(a,b){switch(a.L()){case "document-lock":switch(a.v){case 2:Qu(this.Fb,a.W(),b);break;case 1:var c=this.Fb;a=a.W();Pu(c,a,q(c.Qj,c,b),X(b,"DocumentLocks"),!1,!1)}break;default:throw Error("Operation type "+a.L()+" not supported.");}};l.G=function(){this.Fb.V();Su.J.G.call(this)};function Tu(a,b,c){this.g=a;this.j=b;this.ea=c}Tu.prototype.za=h("g");Tu.prototype.eb=h("j");function Uu(a,b,c,d,e,f){wq.call(this,"pendingQueue",c);this.F=d;this.B=e.concat();this.o=f.concat();this.I=new Vr;Y(this,"docId",a);Y(this,"documentType",b);Y(this,"revision",-1);Eq(this,"undeliverable",!1);Eq(this,"unsavedChanges",!1);this.H=this.v=!1}t(Uu,wq);var Vu=["revisionAccessInfo","unsentBundleMetadata","selection","sentBundlesSavedRevision","snapshotBundleIndex"];l=Uu.prototype;l.ib=6;l.Vc=null;l.tc=null;l.vc=null;l.ab=null;l.W=function(){return this.g.docId};
function Wu(a){var b;if(b=!a.v)b=null==zq(a,"undeliverable")?!1:""!=a.g.undeliverable;return b}function Xu(a,b){Eq(a,"undeliverable",b)}function Yu(a,b){Y(a,"sentBundlesSavedRevision",b)}function Zu(a){return Bq(a,"sentBundlesSavedRevision")}function $u(a,b,c){Y(a,"revision",b);Y(a,"revisionAccessInfo",a.I.ia(c))}function av(a){return a.g.revision}function bv(a,b){Y(a,"selection",b)}function cv(a,b){Eq(a,"unsavedChanges",b)}l.L=function(){return this.g.documentType};
function dv(a,b){Y(a,"unsentBundleMetadata",b)}function ev(a,b){if(null!=b){var c=a.B.length+a.o.length-1;if(0>b||b>c)throw Error(b+" is not a valid snapshot bundle index. The last bundle index: "+c);}Y(a,"snapshotBundleIndex",b)}l.ba=function(){return this.v?!0:0==this.o.length&&0==this.B.length};
function fv(a){if(!a.o.length)throw Error("Cannot call mark sent without unsent commands.");if(1==a.o.length){var b=a.o[0];a.ab=new gv(b.eb(),b.ea);a.B.push(b);a.o=[];hv(a,5)}else zb(a.B,a.o),a.replace(a.B,[]);Yu(a,null)}l.replace=function(a,b){this.vc=b.length?b.concat():null;this.tc=a.concat();this.ab=this.Vc=null;this.B=a.concat();this.o=b.concat();hv(this,7)};
function hv(a,b){if(a.H&&7!=b&&6!=a.ib)a.replace(a.B,a.o);else{iv(a);if(!a.H&&6!=a.ib)throw Error("Multiple pending queue operations between writes. Current operation: "+a.ib+". Pending operation: "+b);a.ib=b}}function iv(a){if(a.v)throw Error("The queue is in a state that does not allow any operation until switchToStorageIfNeeded() is called.");}l.hb=function(){return 6!=this.ib||Uu.J.hb.call(this)};function jv(a){return a.v?[]:a.B}
function kv(a){if(a.v)return[];for(var b=[],c=0;c<a.o.length;c++)zb(b,a.o[c].za());return b}function lv(a){return a.v?!1:!!a.o.length}function mv(a){return a.v?!1:!!a.B.length}l.Ec=function(){iv(this);Uu.J.Ec.call(this);this.Vc&&this.Vc.length&&this.F++;this.tc&&(this.F+=this.tc.length);this.vc&&(this.F+=this.vc.length);this.ib=6;this.ab=this.vc=this.tc=this.Vc=null};
function nv(a,b){if(b&&6!=a.ib)throw Error("Cannot support multiple in memory operations with pending operation. Pending operation:"+a.ib);a.H=b}l.cc=function(){return new qq(this.W(),2)};function gv(a,b){this.Gb=a;this.sessionId=b};function ov(a){Ot.call(this,a.W(),a,Vu,"pq-clear")}t(ov,Ot);ov.prototype.W=function(){return Mt(this)};function pv(a){Ot.call(this,a.W(),a,Vu,"pq-clear-sent-bundle");if(a.v)throw Error("The queue is in a state that does not allow commands");}t(pv,Ot);pv.prototype.W=function(){return Mt(this)};function qv(a){Ot.call(this,a.W(),a,Vu,"pq-clear-sent")}t(qv,Ot);qv.prototype.W=function(){return Mt(this)};function rv(a,b){this.o="pq-delete-commands";this.g=a;this.v=b}t(rv,ts);rv.prototype.W=h("g");function sv(a){Ot.call(this,a.W(),a,Vu,"pq-mark-sent");this.v=[];this.C=!1;var b=a.F;if(7==a.ib){this.C=!0;a=a.tc;for(var c=0;c<a.length;c++)b++,this.v.push(new tv(a[c].ea,a[c].eb(),b))}else this.v.push(new tv(a.ab?a.ab.sessionId:null,a.ab?a.ab.Gb:null,b))}t(sv,Ot);function tv(a,b,c){this.sessionId=a;this.Gb=b;this.xd=c};function uv(a,b,c){this.o="pq-write-commands";this.A=a;this.v=b;this.g=c}t(uv,ts);uv.prototype.W=h("A");uv.prototype.za=h("v");function vv(a){this.ma=a}vv.prototype.wa=function(){return["pendingQueue"]};vv.prototype.Aa=function(a){return a.W()};function wv(a,b){if(a=a.ma[b])return a;throw Error("No document adapter available for type "+b);}
vv.prototype.j=function(a){if(a.kb)throw Error("Cannot delete pending queues.");var b=wv(this,a.L()),c=a.ib,d=[];switch(c){case 7:for(var c=a.W(),e=a.F,f=a.tc,d=[],g,k=0;k<f.length;k++){e++;g=xv(f[k].za(),b,a.W(),e,!0);if(!g)throw Error("Unexpected null operation");d.push(g)}e=a.F+d.length;f=a.vc?a.vc:[];g=[];for(var k=[],p=0;p<f.length;p++){var u=xv(f[p].za(),b,c,e+1);u&&(k.push(u),g.push(new yv(f[p].eb(),f[p].ea,e+1)),e++)}dv(a,zv(g));d.push(new sv(a));zb(d,k);0<=a.F&&d.push(new rv(c,a.F));break;
case 1:d=a.F+1;e=a.W();c=[];f=a.Vc;k=a.ab?a.ab.Gb:null;p=a.ab?a.ab.sessionId:null;g=Av(yq(a,"unsentBundleMetadata"));if(null===k||null===p){if(!g.length)throw Error("Bundles and metadata do not match!");k=g[g.length-1];g[g.length-1]=new yv(k.Gb,k.sessionId,d)}else g.push(new yv(k,p,d));f&&dv(a,zv(g));Ob(a.A)||c.push(new Ot(e,a,Vu));(a=xv(f,b,e,d))&&c.push(a);d=c;break;case 5:dv(a,null);d.push(new sv(a));break;case 2:dv(a,null);d.push(new ov(a));break;case 3:d.push(new qv(a));break;case 4:d.push(new pv(a));
break;case 6:d.push(new Ot(a.W(),a,Vu));break;default:throw Error("Unknown Pending Queue operation type: "+c);}return d};function xv(a,b,c,d,e){if(!(e||a&&0!=a.length))return null;e=[];if(a)for(var f=0;f<a.length;f++)e.push(b.bb.ia(a[f]));return new uv(c,e,d)}function Av(a){if(!a)return[];for(var b=[],c=0;c<a.length;c++)b.push(new yv(a[c].rid,a[c].sid,a[c].lei));return b}function zv(a){if(!a.length)return null;for(var b=[],c=0;c<a.length;c++)b.push(a[c].ia());return b}
function yv(a,b,c){this.Gb=a;this.sessionId=b;this.xd=c}yv.prototype.ia=function(){var a={};a.rid=this.Gb;a.sid=this.sessionId;a.lei=this.xd;return a};function Bv(a,b,c,d){this.ma=c;this.g=a;this.o=d}t(Bv,vv);function Cv(a,b,c,d){function e(a){mn(f);c(a)}var f=xt(a.g,["PendingQueues","PendingQueueCommands"],"Error reading pending queue.",d);kn(X(f,"PendingQueues").get(b),function(c){(c=c.target.result)?Dv(a,b,f,c,e):e(null)})}
function Dv(a,b,c,d,e){var f=d.t,g=wv(a,f);if(!g)throw Error("No document adapter available for type "+f);a=X(c,"PendingQueueCommands");var k=[];kn(dn(a,[b],[b,[]]),function(a){if(a=a.target.result)k.push(a.value),a["continue"]();else{a=[];Hf(J(),"docs-localstore-eubm")&&(a=d.ubm?Av(d.ubm):[]);for(var b=!0,c=d.b,f=0,p=[],W=[],na=[],ra=-1,Z=0;Z<k.length;Z++)if(ra=k[Z],zb(p,g.zd(ra.c,!0)),ra=ra.pqcKey[1],f<c.length){var Ya=c[f];Ya.l==ra&&(W.push(new Tu(p,Ya.r,Ya.s)),p=[],f++)}else f<c.length+a.length&&
(Ya=a[f-c.length],Ya.xd==ra&&(b=!1,na.push(new Tu(p,Ya.Gb,Ya.sessionId)),p=[],f++));b&&(a=[]);p.length&&(b=fi(),na.push(new Tu(p,0,b)),a.push(new yv(0,b,ra)));p=new Uu(d.docId,d.t,!1,ra,W,na);$u(p,d.r,Wr(d.ra));d.s&&bv(p,d.s);Xu(p,!!d.u);cv(p,!!d.uc);d.sbsr&&Yu(p,d.sbsr);n(d.sbi)&&ev(p,d.sbi);p.j=!1;dv(p,zv(a));e(p)}})}Bv.prototype.Ba=function(){return["PendingQueueCommands","PendingQueues"]};
Bv.prototype.xa=function(a,b){a instanceof Ot&&!a.j?kn(X(b,"PendingQueues").get(Mt(a)),q(this.v,this,a,b)):Ev(this,a,b)};Bv.prototype.v=function(a,b,c){c=c.target.result;if(!c)throw Error("Tried to update a non-existent pending queue.");Ev(this,a,b,c)};
function Ev(a,b,c,d){if(d){var e=b.g,f=e.revision,g=e.revisionAccessInfo;null!=f&&(d.r=f);n(g)&&(d.ra=g);f=e.selection;null!=f&&(d.s=f);f=e.accessLevel;null!=f&&(d.a=f);f=e.undeliverable;n(f)&&(d.u=!!f);f=e.unsavedChanges;n(f)&&(d.uc=!!f);g=e.sentBundlesSavedRevision;n(g)&&(d.sbsr=g);g=e.unsentBundleMetadata;n(g)&&(d.ubm=g);e=e.snapshotBundleIndex;n(e)&&(d.sbi=e);f&&dt(a.o)}switch(b.L()){case "pq-clear":a=d||Fv(b);b=b.W();d=X(c,"PendingQueueCommands");hn(d,[b],[b,[]]);a.b=[];Gv(a,c);break;case "pq-clear-sent":a=
d||Fv(b);d=a.b;0<d.length&&(d=d[d.length-1].l,e=X(c,"PendingQueueCommands"),b=b.W(),hn(e,[b],[b,d]),a.b=[]);Gv(a,c);break;case "pq-clear-sent-bundle":a=d||Fv(b);d=a.b.shift().l;e=X(c,"PendingQueueCommands");b=b.W();hn(e,[b],[b,d]);Gv(a,c);break;case "pq-mark-sent":a=d||Fv(b);d=b.v;b.C&&(a.b=[]);for(b=0;b<d.length;b++)e=d[b],f=Zt,g={},g[f.yh]=e.xd,g[f.Uh]=e.sessionId,g[f.Qh]=e.Gb,a.b.push(g);Gv(a,c);break;case "update-record":Gv(d||Fv(b),c);break;case "pq-write-commands":a=b.za();d={};d.pqcKey=[b.W(),
b.g];d.c=a;Ms(X(c,"PendingQueueCommands"),d);break;case "pq-delete-commands":c=X(c,"PendingQueueCommands");a=b.W();hn(c,[a],[a,b.v]);break;default:throw Error("Unsupported operation type: "+b.L());}}function Gv(a,b){Ms(X(b,"PendingQueues"),a)}
function Fv(a){var b=a.g;a={};var c=b.accessLevel;n(c)&&(a.a=c);a.docId=b.docId;a.r=b.revision;a.ra=b.revisionAccessInfo;a.ubm=b.unsentBundleMetadata;a.s=b.selection;a.b=[];a.t=b.documentType;a.u=!!b.undeliverable;a.uc=!!b.unsavedChanges;c=b.sentBundlesSavedRevision;null!=c&&(a.sbsr=c);b=b.snapshotBundleIndex;n(b)&&(a.sbi=b);return a};function Hv(){}function Ut(a,b,c,d,e){c&&kn(dn(d,b),q(a.g,a,c,e||[]))}Hv.prototype.g=function(a,b,c){if(c=c.target.result){var d=c.value,e;for(e in a){var f=a[e];d[e]=ub(b,e)?null!=f?f:null:f}c.update(d)}else throw Error("Could not find object to update.");};function Iv(a,b){var c=xt(a,["ProfileData"],"Error pushing document id",void 0,!0);ku("missingdocosdocumentids",function(a){ub(a,b)||(a.push(b),a=Jv("missingdocosdocumentids",a),Ms(X(c,"ProfileData"),a),qt(c,ya))},c)}
function Tt(a,b,c,d,e){var f=xt(a,["ProfileData"],"Error removing document ids",e,!0);ku(b,function(a){for(var e=0;e<c.length;e++)wb(a,c[e]);a=Jv(b,a);Ms(X(f,"ProfileData"),a);qt(f,d)},f)}function ku(a,b,c){kn(X(c,"ProfileData").get(a),function(a){a=a.target.result;b(a&&a.documentIds?a.documentIds:[])})}function Jv(a,b){var c={};c.dataType=a;c.documentIds=b;return c};function Kv(){I.call(this)}t(Kv,Pt);Kv.prototype.wa=function(){return["user"]};function Lv(a){return(new R(function(a,c){return Mv(this,a,c)}.bind(a))).then(function(a){if(1>a.length)throw Error("Expected an offline user in localstore");return a[0]})}Kv.prototype.Xa=function(a,b){if(a.kb)throw Error("User deletion is not implemented.");return Kv.J.Xa.call(this,a,b)};Kv.prototype.Aa=function(a){return a.getId()};Kv.prototype.ta=function(a){return Kv.J.ta.call(this,a)&&"delete-record"!=a.L()};function Nv(a,b,c,d){I.call(this);this.g=a;this.A=c;this.o=d}t(Nv,Kv);
function Mv(a,b,c){if(a.g.o)Pi(Ma(b,[]));else if(ub(a.g.g.objectStoreNames,"Users")){c=xt(a.g,["Users"],"Error reading users.",c);var d=[];kn(X(c,"Users").get(cn.lowerBound(-Infinity)),q(function(a){if(a=a.target.result){var b=new Kt(a.id,!1);Y(b,"emailAddress",a.emailAddress);Y(b,"locale",a.locale);null!=a.fastTrack&&Eq(b,"fastTrack",!!a.fastTrack);null!=a.internal&&Eq(b,"internal",!!a.internal);null!=a.optInReasons&&Y(b,"optInReasons",a.optInReasons);b.j=!1;d=[b]}},a));qt(c,function(){b(d)})}else a.o.log(Error("Reading from uninitialized IDB database.")),
Pi(Ma(b,[]))}Nv.prototype.Ba=function(a){if(!this.ta(a))throw Error("Cannot get object store names for operation type "+a.L());return["Users"]};Nv.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"Users");a.j?kt(b,a.g):Ut(this.A,Mt(a),a.g,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Ov(a,b,c,d,e){Fu.call(this);this.Y=e;this.D=new V(this);this.o=new Hv;this.j=a;this.D.listen(this.j,"N",this.Wi);this.D.listen(this.j,"K",this.tj);this.ma=b;this.B=new Bv(this.j,0,this.ma,this.Y);Gu(this,this.B);this.g=this.Yd(this.ma);Gu(this,this.g);this.A=new Su(this.j,c,d,this.Y);this.U=new Nv(a,0,this.o,e);Gu(this,this.U);this.la=new Iu}t(Ov,Fu);l=Ov.prototype;l.jc=h("U");l.Yd=function(a){return new $t(this.j,0,this.o,a)};l.Wi=function(){this.dispatchEvent(new Eu)};l.tj=function(a){this.dispatchEvent(a)};
function Rs(a,b,c,d){if(a.j.o)Pi(c);else{for(var e={},f=0;f<b.length;f++)for(var g=b[f],k=Pv(a,g),g=k.Ba(g),k=0;k<g.length;k++)e[g[k]]=!0;d=xt(a.j,Jb(e),"Error writing records.",d,!0);qt(d,c);for(f=0;f<b.length;f++)g=b[f],k=Pv(a,g),k.xa(g,d)}}
function Pv(a,b){if(us(b)){b=b.A;a=a.C[b]||null;if(!a)throw Error("No capability registered for record type "+b);return a}b=b.L();if("pq-clear"==b||"pq-clear-sent"==b||"pq-clear-sent-bundle"==b||"pq-delete-commands"==b||"pq-mark-sent"==b||"pq-write-commands"==b)return a.B;if("document-lock"==b)return a.A;if("append-commands"==b||"write-trix"==b)return a.g;if("update-application-metadata"==b){if(a=a.Yb())return a}else if("append-template-commands"==b&&(a=a.ie()))return a;throw Error("No capability registered for operation type "+
b);}l.kk=function(a,b){try{this.Hc(b)}catch(c){Pi(Ma(a,new $m(1,"Failed to initialize database.",c)))}};l.jk=function(a,b){try{this.Cf(b)}catch(c){Pi(Ma(a,new $m(1,"Failed to upgrade database.",c)))}};l.G=function(){ee(this.D,this.A,this.B,this.g,this.U,this.la);Ov.J.G.call(this)};function Qv(){I.call(this)}t(Qv,Pt);Qv.prototype.wa=function(){return["syncObject"]};Qv.prototype.Aa=function(a){return Qb(a.g.keyPath)};Qv.prototype.ta=function(a){return Qv.J.ta.call(this,a)&&"update-record"==a.L()&&a.j};function Rv(a){I.call(this);this.o=a}t(Rv,Qv);Rv.prototype.g=function(a){var b=a.data;a=new It(!1,a.keyPath,a.state);Y(a,"data",b);a.j=!1;return a};Rv.prototype.Ba=function(){return["SyncObjects"]};Rv.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"SyncObjects");if(a.j)Ms(b,a.g);else throw Error("SyncObject update is not implemented.");break;default:throw Error("Operation type "+a.L()+" not supported.");}};function Sv(a){Ht.call(this,"syncStats","syncstats",a);Y(this,"lastSyncedChangestamp",0);Y(this,"syncVersion",0);Y(this,"lastDailyRunTime",0);Y(this,"maxSpaceQuota",0);Y(this,"webfontsSyncVersion",0);Y(this,"lastStartedSyncDocs",[])}t(Sv,Ht);function Tv(a,b){Y(a,"relevantDocuments",b)}function Uv(a){return Fq(a,"relevantDocuments")||[]}function Vv(a,b){var c=Wv(a);n(c[b])&&(delete c[b],Y(a,"failedToSyncDocs",c))}function Wv(a){a=yq(a,"failedToSyncDocs");return null==a?{}:a};function Xv(){I.call(this)}t(Xv,Pt);Xv.prototype.wa=function(){return["syncStats"]};Xv.prototype.Aa=ca(null);Xv.prototype.ta=function(a){return Xv.J.ta.call(this,a)&&"delete-record"!=a.L()};function Yv(a,b){I.call(this);this.g=a;this.o=b}t(Yv,Xv);
function Zv(a,b,c){var d=xt(a.g,["ProfileData"],"Error reading syncStats.",c);kn(X(d,"ProfileData").get("syncstats"),function(a){mn(d);var c=a.target.result;if(c){if("syncstats"!=c.dataType)throw Error("Invalid data type.");a=new Sv(!1);var e=c.docsToDelete;null!=e&&Y(a,"docsToDelete",e);e=c.enabledMimeTypes;null!=e&&Y(a,"enabledMimeTypes",e);e=c.lastLocalStoreProfileTimestamp;null!=e&&Y(a,"lastLocalStoreProfileTimestamp",e);e=c.lastSyncTimestamp;null!=e&&Y(a,"lastSyncTimestamp",e);e=c.lastSyncedChangestamp;
null!=e&&Y(a,"lastSyncedChangestamp",e);e=c.syncStartTimestamp;null!=e&&Y(a,"syncStartTimestamp",e);e=c.syncVersion;null!=e&&Y(a,"syncVersion",e);e=c.failedToSyncDocs;if(null!=e)for(var k in e){var p=e[k],u=a,w=k,z=p.modelSyncFailCount||0,T=p.serverTime,W={};W.count=p.count;W.modelSyncFailCount=z;W.serverTime=T;p=Wv(u);p[w]=W;Y(u,"failedToSyncDocs",p)}k=c.lastDailyRunTime;null!=k&&Y(a,"lastDailyRunTime",k);k=c.maxSpaceQuota;null!=k&&Y(a,"maxSpaceQuota",k);k=c.webfontsSyncVersion;null!=k&&Y(a,"webfontsSyncVersion",
k);k=c.lastStartedSyncDocs;if(null!=k)for(e=0;e<k.length;e++)u=a,W=k[e].timestamp,w={},w.documentId=k[e].documentId,w.timestamp=W,W=Fq(u,"lastStartedSyncDocs")||[],W.push(w),W.splice(0,W.length-10),Y(u,"lastStartedSyncDocs",W);c=c.relevantDocuments;null!=c&&Tv(a,c);a.j=!1;b(a)}else b(null)})}Yv.prototype.Ba=function(){return["ProfileData"]};
Yv.prototype.xa=function(a,b){switch(a.L()){case "update-record":b=X(b,"ProfileData");a.j?Ms(b,a.g):Ut(this.o,"syncstats",a.g,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function $v(){I.call(this)}t($v,Pt);$v.prototype.wa=function(){return["fontMetadata"]};$v.prototype.Aa=function(a){return a.na()};$v.prototype.ta=function(a){return $v.J.ta.call(this,a)?"update-record"==a.L()?a.j:!0:!1};function aw(a){I.call(this);this.o=a}t(aw,$v);function bw(a,b,c){c=xt(a.o,["FontMetadata"],"Reading all font metadata",c);ln(c,"FontMetadata",q(a.g,a),function(a){for(var c={},d=0,g;g=a[d];d++)c[g.na()]=g;b(c)},void 0,void 0,void 0,void 0,void 0,!0)}function cw(a,b,c,d){if(0==b.length)d({});else{c=X(c,"FontMetadata");for(var e=b.length,f={},g=0;g<b.length;g++)kn(c.get(b[g]),q(function(a){a.target.result?(a=this.g(a.target.result),f[a.na()]=a,Jb(f).length==e&&d(f)):(e--,0==e&&d(f))},a))}}
aw.prototype.g=function(a){var b=a.fontFamily,c=a.version;a=a.fontFaces;for(var d=[],e=0,f;f=a[e];e++){for(var g=f.source,k=[],p=0,u;u=g[p];p++)k.push(new Ft(u.format,u.isSystemFont,u.url));g=Dt;d.push(new Gt(f[g.dd],f[g.Qd],f[g.STYLE],f[g.Rd],k))}b=new Ct(b,c,d,!1);b.j=!1;return b};function dw(a,b,c,d){var e=xt(a.o,["FontMetadata"],"Reading font metadata",d);cw(a,b,e,q(a.A,a,e,b,function(a){mn(e);c(a)},d))}aw.prototype.A=function(a,b,c,d,e){a=[];d=0;for(var f;f=b[d];d++)a.push(e[f]);c(a)};
aw.prototype.Ba=function(){return["FontMetadata"]};aw.prototype.xa=function(a,b){b=X(b,"FontMetadata");switch(a.L()){case "update-record":if(a.j)Ms(b,a.g);else throw Error("FontMetadata update is not implemented.");break;case "delete-record":hn(b,Mt(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function ew(a,b,c,d,e){Ov.call(this,a,b,c,d,e);a=this.j;this.ca=new xu(0,0,this.o);Gu(this,this.ca);this.N=new aw(a);Gu(this,this.N);this.M=new Rv(a);Gu(this,this.M);this.pa=new Du;this.ka=new Xt(a);this.R=new Yv(a,this.o);Gu(this,this.R);this.H=new Rt(this.j,0,this.o);Gu(this,this.H);this.O=new su(a,0,b,this.o);Gu(this,this.O);this.I=new Au(a);Gu(this,this.I)}t(ew,Ov);
"ApplicationMetadata Comments DocumentCommandsMetadataStaging DocumentCommandsMetadata DocumentCommandsStaging DocumentCommands DocumentEntities DocumentLocks Documents FileEntities FontMetadata Impressions NewDocumentIds PendingQueueCommands PendingQueues ProfileData SyncObjects Users".split(" ").sort(function(a,b){return a>b?1:a<b?-1:0});l=ew.prototype;l.Lc=ca(6);l.jd=h("H");l.Lb=h("N");l.Jf=h("M");l.If=h("ka");l.Yb=h("O");l.he=h("R");l.Hf=h("I");l.Yd=function(a){return new $t(this.j,0,this.o,a)};
l.Ud=ca(!1);
l.Hc=function(a){a=a.db;a.createObjectStore("FontMetadata",{keyPath:"fontFamily"});a.createObjectStore("DocumentEntities",{keyPath:"deKey"});a.createObjectStore("SyncObjects",{keyPath:"keyPath"});a.createObjectStore("ProfileData",{keyPath:"dataType"});a.createObjectStore("ApplicationMetadata",{keyPath:"dt"});a.createObjectStore("NewDocumentIds",{keyPath:"dtKey"});a.createObjectStore("Comments",{keyPath:"cmtKey"}).createIndex("StateIndex","stateIndex");a.createObjectStore("Users",{keyPath:"id"});a.createObjectStore("Documents",
{keyPath:"id"});a.createObjectStore("DocumentCommands",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsStaging",{keyPath:"dcKey"});a.createObjectStore("DocumentCommandsMetadata",{keyPath:"dcmKey"});a.createObjectStore("DocumentCommandsMetadataStaging",{keyPath:"dcmKey"});a.createObjectStore("DocumentLocks",{keyPath:"dlKey"});a.createObjectStore("Impressions",{keyPath:"iKey"});a.createObjectStore("PendingQueues",{keyPath:"docId"});a.createObjectStore("PendingQueueCommands",{keyPath:"pqcKey"});
a.createObjectStore("FileEntities",{keyPath:"id"}).createIndex("DocIdEntityTypeIndex","docIdEntityTypeIndex")};l.G=function(){ee(this.ca,this.N,this.M,this.pa,this.ka,this.R,this.H,this.O,this.I);ew.J.G.call(this)};function fw(a,b,c,d,e,f,g,k,p){wq.call(this,"blobMetadata",p);Y(Y(Y(Y(Y(Y(Y(Y(this,"d",a),"p",b),"u",c),"ou",d),"f",e),"c",f),"s",g),"oc",k);this.o=new S;"failed"==g?this.o.P():c&&this.o.K(c)}t(fw,wq);var gw=["c","oc","ou","u"];l=fw.prototype;l.W=function(){return this.g.d};l.getUrl=function(){return Cq(this,"u")};l.qe=function(){return Cq(this,"c")};l.$=function(){return this.g.s};function hw(a,b){Y(a,"s",b);"failed"!=b||a.o.g||a.o.P()}l.cc=function(){return new qq(this.W(),2)};function iw(){I.call(this)}t(iw,Pt);iw.prototype.wa=function(){return["blobMetadata"]};iw.prototype.Xa=function(a){return iw.J.Xa.call(this,a,gw)};iw.prototype.Aa=function(a){return[a.W(),a.g.p]};function jw(a,b,c){I.call(this);this.g=a;this.A=c}t(jw,iw);jw.prototype.o=function(a){a=new fw(a.d,a.p,a.u||null,a.ou||null,a.f,a.c||null,a.s,a.oc||null,!1);a.j=!1;return a};jw.prototype.Ba=function(){return["BlobMetadata"]};jw.prototype.xa=function(a,b){b=X(b,"BlobMetadata");switch(a.L()){case "update-record":a.j?kt(b,a.g):Ut(this.A,Mt(a),a.g,b);break;case "delete-record":hn(b,Mt(a));break;default:throw Error("Operation type "+a.L()+" not supported.");}};function kw(a,b,c,d){$t.call(this,a,0,c,d)}t(kw,$t);kw.prototype.Ba=function(a){var b=kw.J.Ba.call(this,a);"delete-record"==a.L()&&b.push("BlobMetadata");return b};kw.prototype.te=function(){var a=kw.J.te.call(this);a.push("BlobMetadata");return a};kw.prototype.Fc=function(a,b){kw.J.Fc.call(this,a,b);a=Mt(a);hn(X(b,"BlobMetadata"),[a],[a,[]])};function lw(a,b,c,d,e){ew.call(this,a,b,c,d,e);this.Z=new jw(this.j,0,this.o);Gu(this,this.Z)}t(lw,ew);l=lw.prototype;l.Lc=ca(7);l.ge=h("Z");l.Yd=function(a){return new kw(this.j,0,this.o,a)};l.Ud=ca(!0);l.Hc=function(a){lw.J.Hc.call(this,a);mw(a)};l.Cf=function(a){mw(a)};function mw(a){a.db.createObjectStore("BlobMetadata",{keyPath:["d","p"]})};function nw(a,b,c,d,e,f,g,k,p,u,w,z,T,W,na,ra,Z){wq.call(this,"templateMetadata",Z);Y(this,"id",a);Y(this,"title",b);Y(this,"style",c);Y(this,"category",d);Y(this,"locale",e);Y(this,"creator",f);Y(this,"thumbnailUrl",g);Y(this,"documentType",k);Y(this,"lastModifiedTimestamp",p);Y(this,"fontFamilies",u);Y(this,"brandedAuthor",w);Y(this,"brandedUrl",z);Y(this,"masterTemplate",T);Eq(this,"isThumbnailReady",W);Eq(this,"isReady",na);Eq(this,"isDirty",ra)}t(nw,wq);l=nw.prototype;l.getId=function(){return this.g.id};
l.Za=function(){return this.g.title};l.getStyle=function(){return this.g.style};l.Sa=function(){return this.g.documentType};l.gb=function(){return""!=this.g.isDirty};function ow(a,b,c,d){this.o="append-template-commands";this.g=a;this.Ra=b;this.v=c;this.A=d}t(ow,ts);ow.prototype.Sa=h("Ra");function pw(a,b){E.call(this);this.Ra=a;this.bb=b}t(pw,E);pw.prototype.Zd=function(a){var b=$r(a.o());return a.kb||0==b.length?[]:[new ow(a.getId(),a.Sa(),b,!0)]};pw.prototype.Sa=h("Ra");function qw(a,b){pw.call(this,a,b);new Ks(0,new Fs(b))}t(qw,pw);qw.prototype.xa=function(a,b){switch(a.L()){case "append-template-commands":b=X(b,"TemplateCommands");a.A&&hn(b,[a.g],[a.g,[]]);for(var c=a.v,d=0;d<c.length;++d){for(var e=b,f=a.g,g=c[d],k=g.za(),p=[],u=0;u<k.length;++u)p.push(this.bb.ia(k[u]));f=Js(f,g.o,g.g,g.j,g.v,p);Ms(e,f.g)}break;default:throw Error("Unsupported operation type "+a.L());}};function rw(a){I.call(this);this.wl=a}t(rw,Pt);l=rw.prototype;l.wa=function(){return["templateCreationMetadata","templateMetadata"]};l.Aa=function(a){return"templateCreationMetadata"==a.C?[a.getId()]:[a.getId()]};l.Xa=function(a){var b=rw.J.Xa.call(this,a);"templateCreationMetadata"==a.C&&(a=this.Cb(a.Sa()).Zd(a),b=b.concat(a));return b};l.Cb=function(a){var b=this.wl[a];if(!b)throw Error("No adapter found for this type: "+a);return b};
l.ta=function(a){return"append-template-commands"==a.L()?!0:rw.J.ta.call(this,a)};function sw(a,b,c){rw.call(this,c);this.o=a;this.A=new Hv}t(sw,rw);function tw(a,b,c){c=xt(a.o,["TemplateMetadata"],"Reading all template metadata",c);ln(c,"TemplateMetadata",q(a.g,a),function(a){for(var c={},d=0;d<a.length;d++){var g=a[d];c[g.getId()]=g}b(c)},void 0,void 0,void 0,void 0,void 0,!0)}
sw.prototype.g=function(a){return new nw(a.id,a.title,a.style,a.category,a.locale,a.creator,a.thumbnailUrl,a.documentType,a.lastModifiedTimestamp,a.fontFamilies,a.brandedAuthor,a.brandedUrl,a.masterTemplate,!!a.isThumbnailReady,!!a.isReady,!!a.isDirty,!1)};sw.prototype.Ba=function(){return["TemplateCommands","TemplateCreationMetadata","TemplateMetadata"]};
sw.prototype.xa=function(a,b){var c=a.A;switch(c){case "templateMetadata":c="TemplateMetadata";break;case "templateCreationMetadata":c="TemplateCreationMetadata";break;default:throw Error("Record type "+c+" not supported.");}c=X(b,c);switch(a.L()){case "update-record":a.j?Ms(c,a.g):Ut(this.A,Mt(a),a.g,c);break;case "delete-record":hn(c,Mt(a));break;case "append-template-commands":this.Cb(a.Sa()).xa(a,b);break;default:throw Error("Operation type "+a.L()+" not supported.");}};function uw(a,b,c,d,e,f){lw.call(this,a,b,d,e,f);a=["kix","punch","ritz"];b=this.j;if(!c)for(c={},d=new ss,e=0;e<a.length;e++)c[a[e]]=new qw(a[e],d);this.ha=new sw(b,0,c);Gu(this,this.ha)}t(uw,lw);l=uw.prototype;l.Lc=ca(8);l.ie=h("ha");l.Ud=ca(!0);l.Hc=function(a){uw.J.Hc.call(this,a);vw(a)};l.Cf=function(a){vw(a)};
function vw(a){a=a.db;a.createObjectStore("TemplateMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCreationMetadata",{keyPath:["id"]});a.createObjectStore("TemplateCommands",{keyPath:"dcKey"})};function ww(a,b,c,d,e,f,g,k){E.call(this);this.v=a;this.C=b;this.B=c;this.D=d;this.I=e;this.H=f;this.M=!!g;this.j=k||null;this.g={};this.ma={};this.A=-1;this.o=new S;this.F=!1}t(ww,E);function xw(a,b){var c=b.Lc();a.A=Math.max(a.A,c);a.g[c]=b}l=ww.prototype;
l.create=function(a,b){if(this.F)throw Error("The create method can be called only once.");this.F=!0;if(isNaN(this.I))throw Error("Cannot have the target schema version be NaN.");if(this.j)this.Ag(this.j);else{if(!jc)throw Error("Cannot create storage adapters for unsupported browser");At(q(this.Ag,this),a,this.v,q(this.uj,this),this.M,b)}return this.o};l.uj=function(a){this.o.P(a);yw(this)};
l.Ag=function(a){this.j=a;if(this.D)for(var b=this.D(a),c=0;c<b.length;c++)for(var d=b[c],e=d.yk,f=d.Ui,g=d.Sa();e<=f;++e){var k=this.ma[e];k||(k=this.ma[e]={});k[g]=d}-1==this.A&&(xw(this,new ew(a,this.ma[6]||{},this.C,this.B,this.v)),xw(this,new lw(a,this.ma[7]||{},this.C,this.B,this.v)),xw(this,new uw(a,this.ma[8]||{},null,this.C,this.B,this.v)));a=Math.min(this.I,this.A);b=zw(this);if(!this.H&&0>=b)this.$f(new $m(4,"Schema initialization cannot be performed when schema updates are prevented."));
else if(!this.H||b>=a)this.pe();else{a:{for(c=b+1;c<=a;++c)if(null==this.g[c]||!this.g[c].Ud()){c=!1;break a}c=!0}if(c)Aw(this,b+1,a,q(this.pe,this,null),q(this.pk,this));else{a=this.g[a];b=q(this.pe,this);c=q(this.$f,this);d=a.Lc();if(wt(a.j)>=d)throw Error("Database already at expected version.");yt(a.j,d,q(a.kk,a,c),on("Error initializing the database.",c),b)}}};l.pk=function(a){this.o.P(a);yw(this)};l.$f=function(a){this.o.P(a);yw(this)};
function Aw(a,b,c,d,e){var f=a.g[b];a=q(a.Hi,a,b,c,d,e);yt(f.j,f.Lc(),q(f.jk,f,e),on("Error upgrading the database.",e),a)}l.Hi=function(a,b,c,d){a=zw(this);a==b?c():Aw(this,a+1,b,c,d)};l.pe=function(){var a=zw(this);if(a=this.g[a]){a=new Os(a);F(a,this.j);for(var b in this.g)F(a,this.g[b]);for(b in this.ma){var c=this.ma[b],d;for(d in c)F(a,c[d])}this.o.K(a)}else Ln(this.v,Error("Local Storage: No schema adapter for current schema version "+(this.j?wt(this.j):-1))),this.o.K(null)};
function zw(a){var b=a.j?wt(a.j):-1;1<b&&6>b&&Ln(a.v,Error("IDB version less than the minimum. version: "+b));return 6>b?-1:b}function yw(a){for(var b in a.g)a.g[b].V();for(b in a.ma){var c=a.ma[b],d;for(d in c)c[d].V()}G(a.j)};function Bw(a,b,c,d){this.B=a;this.o=b;this.C=c?c:"DefaultLocalStoreSessionId";this.A=d||new ss;this.j=null;this.v=new V(this);F(this,this.v);this.g=Cw(this)}t(Bw,E);function Cw(a){a.g&&G(a.g);var b=If(J(),"lssv");return new ww(a.B,a.C,0,a.Ji.bind(a),b,!0)}function Dw(a){a.j||(a.j=Ew(a),dh(a.j,function(a){this.Fd();throw a;}.bind(a)));return a.j}
function Fw(a){return Dw(a).then(function(a){return(new R(function(b,d){Mv(a.jc(),b,d)})).then(function(b){return 1==b.length&&b[0].getId()==Jf(J(),"docs-offline-lsuid")?new ps(a):null}.bind(this))}.bind(a))}l=Bw.prototype;l.get=function(){return Fw(this).then(function(a){if(!a)throw Error("Must be exactly one user and they must be the current user");return a.jg})};function Ew(a){return(new R(function(a,c){U(this.g.create(this.Fd.bind(this)),a,c)}.bind(a))).then(a.Lj.bind(a))}
l.Lj=function(a){if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.o){var b=new os(a,this.o);F(this,b)}if(a.j)throw Error("Called setWritable on an already writable localstore.");a.j=!0;this.v.listen(a,"L",this.Fd).listen(a,"K",this.Fd);return a};l.Fd=function(){G(this.g);this.g=Cw(this);this.j=null};l.Ji=function(){var a=this.A,b=new Ls("kix",6,8,a),c=new Ls("punch",6,8,a),d=new Ls("ritz",6,8,a),a=new Ls("drawing",6,8,a);return[d,b,c,a]};l.G=function(){G(this.g);Bw.J.G.call(this)};function Gw(a){switch(a){case 1:return 1;case 2:case 4:case 3:return 2;case 0:return 0;default:throw Error("No such access level.");}};function Hw(){return Iw(yd(),Jw("/synctaskworker.js",void 0),void 0,void 0)}function Kw(){return Iw(yd(),Jw("/taskiframe",void 0),void 0,void 0)}function Jw(a,b){var c=Jf(J(),"docs-offline-ospp");return(b?c:"/offline")+a}function Iw(a,b,c,d){var e=new pi;qi(e,m.location.href.match(wd)[1]||null);ri(e,a);e.g=b;a=Jf(J(),"docs-offline-lsuid");Ei(e,"ouid",a);if(d=!d)d="true"==(new pi(m.location.href)).j.get("Debug");d&&(c?Ei(e,"jsmode","DU"):Ei(e,"Debug","true"));return e.toString()};function Lw(a){this.g={};for(var b=0;b<a.length;b++)this.g[a[b]]=b}function Mw(a,b){a=a.g[b];return n(a)?a:null};function Nw(a,b,c,d,e){this.o=a;this.v=b;this.g=c;this.j=d;this.A=e}function Ow(a,b,c,d){return new Nw(a,b,c,!1,d)}Nw.prototype.getId=h("o");function Pw(){this.Lf=[];this.Se={}};function Qw(a){this.g=a}function Rw(a){var b=[a.g.cl,a.g.dl,a.g.fl,a.g.el],c=[5,6,7,8];return(new R(function(a,e){this.j(a,new Pw,0,b,c,e)}.bind(a))).then(function(a){for(var b=[],c=a.Lf,d=0;d<c.length;d++){var k=c[d],p;p=k.getId();p=a.Se[p];b.push(Ow(k.getId(),k.L(),p,null))}return b})}Qw.prototype.j=function(a,b,c,d,e,f,g){if(g)for(var k=e[c-1],p=0;p<g.length;p++){var u=b,w=g[p],z=k,T=w.getId();u.Se[T]||(u.Lf.push(w),u.Se[T]=z)}c<d.length?d[c].call(this.g,this.j.bind(this,a,b,c+1,d,e,f),f):a(b)};function Sw(a,b,c,d){this.g=a;this.j=b;this.v=c;this.F=d;this.o={};for(a=0;a<c.length;a++)b=c[a],this.o[b.getId()]=b;this.D=Tb(A(this.j,4));this.A=Tw(Bc(this.j,Vq,3));this.S=[];this.C={};this.B=!1}
Sw.prototype.Ne=function(){if(this.B)throw Error("Trying to run AutoSyncDocSelector twice is not supported.");for(var a=0;a<this.F.length;a++)Uw(this,this.F[a]);for(a=0;a<this.v.length;a++){var b=this.v[a];if(Dq(b,"inc")&&!Dq(b,"pendingCreation")&&null!==b.Za()){var c=b.getId(),b=b.L();Uw(this,Ow(c,b,5,null))}}a=Vw(this.g);c=Ww(this);for(b=0;b<a.length;b++){var d=a[b],e=this.o[d],f=5<=Xw(this.g,d),g=c[d];!f||g||e&&Dq(e,"ip")||Uw(this,new Nw(d,null,null,!0,null))}a=A(this.j,5)?Tw(Bc(this.j,Vq,2)):
null;c=Vw(this.g);for(b=0;b<c.length;b++)d=c[b],e=this.o[d],f=Xw(this.g,d),g=d,g=Wv(this.g.g)[g],g=null!=g?g.modelSyncFailCount:0,g=0<g&&f>g?11:0<g&&f<=g?9:10,5<=f||!e||(e=e.L(),f=(f=this.A[d]||a&&a[d])?A(f,4):Yw(this.g,d),Uw(this,Ow(d,e,g,f||null)));Zw(this);a=Bc(this.j,Vq,2);for(c=0;c<a.length;c++)e=a[c],b=e.getId(),f=this.o[b],g=!f,d=A(e,4),!g&&!$w(f,e)||ax(this,b,d)||(e=f?f.L():bx(A(e,2)),Uw(this,Ow(b,e,12,d)));cx(this,this.v);this.B=!0;return this.S};
function Uw(a,b){var c=b.getId();a.C[c]||(a.S.push(b),a.C[c]=!0)}function Tw(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.getId()]=d}return b}function Zw(a){cx(a,a.v.filter(function(a){return!!Dq(a,"ip")}))}function cx(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.getId(),f=a.A[e]||null,g=!!f,k=a.D[e],p=g?A(f,4):null;if(k||g&&$w(d,f)&&!ax(a,e,p))d=d.L(),Uw(a,Ow(e,d,12,p))}}function $w(a,b){b=A(b,4);var c=Aq(a,"lastModifiedServerTimestamp");return!!Dq(a,"ips")||null===c||b>c}
function ax(a,b,c){return 5<=Xw(a.g,b)&&Yw(a.g,b)==c}function bx(a){switch(a){case 1:return"kix";case 3:return"punch";case 2:return"ritz";case 4:return"drawing";default:throw Error("Unexpected document type in autosync proto: "+a);}}function Ww(a){return Tb(A(a.j,5)?Bc(a.j,Vq,2).map(function(a){return a.getId()}):Uv(a.g.g))};function dx(){this.j=!1}t(dx,E);dx.prototype.Ne=function(){if(this.j)throw Error("Tasks can only be executed once.");this.j=!0;return this.g()};function ex(a,b,c,d,e,f){this.j=!1;this.C=a;this.v=b;this.B=c;this.o=d;this.F=e;this.A=f}t(ex,dx);
ex.prototype.g=function(){var a=new Sq;B(a,1,this.o.g.g.lastSyncedChangestamp);var b=this.v.g.g;return Xg([fx(this),Rw(new Qw(b))]).then(function(b){var c=b[0],e=b[1];return gx(this,a,c).then(function(a){var b=A(a,5)?new Lw(Bc(a,Vq,2).map(function(a){return a.getId()})):new Lw(Uv(this.o.g).reverse()),d=new Sw(this.o,a,c,e);return this.B.start(d.Ne(),b).then(function(){return hx(this,a)}.bind(this)).then(function(){return ix(this,b)}.bind(this))}.bind(this))}.bind(this))};
function fx(a){var b=a.v.g.g;return new R(function(a,d){eu(b,a,d)})}function hx(a,b){jx(a.o,A(b,1));kx(a.o);A(b,5)&&(b=Bc(b,Vq,2).map(function(a){return a.getId()}),Tv(a.o.g,b.reverse()));return lx(a.o)}function ix(a,b){return fx(a).then(function(a){for(var c=0;c<a.length;c++){var e=a[c],f=Mw(b,e.getId());gs(e,f)}return new R(function(b,c){this.v.write(a,b,c)}.bind(this))}.bind(a))}
function gx(a,b,c){return Hf(J(),"docs-offline-ecasq")?mx(a).then(function(a){return nx(this,a,c)}.bind(a)):ox(a,b)}
function ox(a,b){var c=Jw("/autosync");return(new R(function(a,e){var d=b.ia();try{dl(Zk(cl(bl(al(no(this.F,c)).o(["autosyncRequest",d]),2),a),function(a){e(Error("Failed to fetch autosync request, net event type: "+a.type+", error code: "+a.errorCode+", http status: "+a.g));return!1}))}catch(g){throw g instanceof Error&&"URI malformed"==g.message&&wn(this.C,Error("Detected URI malformed in auto sync request"),{serializedRequest:d}),g;}}.bind(a))).then(function(a){return new Tq(a.Ka())})}
function mx(a){return or(a.A).then(q(function(a){var b=new Tq;B(b,1,0);a=a.re();Dc(b,2,a);B(b,5,!0);return b},a))}function nx(a,b,c){var d=[],e=Tb(rb(Bc(b,Vq,2),function(a){return a.getId()}));pb(c,function(a){e[a.getId()]||d.push(a.getId())});return px(a,d).then(function(a){var c=Bc(a,Vq,3);Dc(b,3,c);a=A(a,4);B(b,4,a||[]);return b})}function px(a,b){return pr(a.A,b).then(function(a){var b=new Tq,c=a.re();Dc(b,3,c);a=A(a,2);B(b,4,a||[]);return b}.bind(a))};function qx(a,b){this.o=a;this.v=b}t(qx,dx);qx.prototype.g=function(){var a=this.o.g.g;return(new R(function(b,c){nu(a,b,c)})).then(function(){return new R(function(a,c){rx(this.v,this.o,a,c)}.bind(this))}.bind(this)).then(function(){return this.o.g.A.Wd()}.bind(this))};function sx(a,b,c,d,e,f){this.A=a;this.g=b;this.o=c;this.C=d;this.j=e;this.v=f}function tx(a){var b=Uv(a.v.g),c=[];return ux(a,b).then(function(a){c=c.concat(a);return vx(this,[],b)}.bind(a)).then(function(a){c=c.concat(a);return wx(this,a.length,b.length)}.bind(a)).then(function(){return new R(function(a,b){rx(this.o,this.g,a,b)}.bind(this))}.bind(a)).then(function(){return c})}function xx(a){return yx(a).then(function(a){return zx(this,a)}.bind(a))}
function wx(a,b,c){return 0==b?Tg():Xg([yx(a),rr(a.j)]).then(function(a){var d=a[0];a=a[1];var f={};f.numDeletedRelevantDocs=b;f.numRelevantDocs=c;f.numLocalDocs=d.length;f.diskQuotaUsed=A(a,1);f.diskQuotaAvailable=A(a,2);wn(this.A,Error("Deleted docs that were relevant during cleanup."),f)}.bind(a))}
function zx(a,b){var c=If(J(),"docs-offline-mnd"),c=isNaN(c)?Number.MAX_VALUE:c;return c<b.length?Tg(!0):rr(a.j).then(function(a){var b=J(),c=If(b,"docs-offline-msq"),c=isNaN(c)?Number.MAX_VALUE:c,b=If(b,"docs-offline-msur"),b=isNaN(b)?1:b,d=A(a,1);a=A(a,2);return Math.min(c,b*(a+d))<d})}
function ux(a,b){return yx(a).then(function(a){return Xg([Tg(a),zx(this,a)])}.bind(a)).then(function(a){var c=a[0];if(!a[1])return[];var e=Tb(b);a=c.filter(function(a){return!e[a.getId()]});return Ax(this,a)}.bind(a))}
function vx(a,b,c){return yx(a).then(function(a){return zx(this,a)}.bind(a)).then(function(a){if(!a||!c.length)return b;var d=c.slice(0,10);c=c.slice(10);return(new R(function(a,b){var c=this.g.g.g;b=xt(c.g,["Documents"],"Error reading documents.",b);c.yd(b,a,d)}.bind(this))).then(function(a){return Ax(this,a)}.bind(this)).then(function(a){return vx(this,b.concat(a),c)}.bind(this))}.bind(a))}
function Ax(a,b){var c=Tg(),d=b.filter(function(a){return!Dq(a,"ip")});b=d.length;for(var e=0;e<b;e++)var f=d[e],c=c.then(function(){return Bx(this.C)}.bind(a)).then(a.B.bind(a,f,e+1,b));return c.then(function(){return d.map(function(a){return a.getId()})})}function yx(a){return new R(function(a,c){du(this.g.g.g,null,a,c)}.bind(a))}sx.prototype.B=function(a){xq(a);return(new R(function(b,c){this.g.write([a],b,c)}.bind(this))).then(function(){a.getId()}.bind(this),function(){a.getId()}.bind(this))};function Cx(a,b){E.call(this);this.v=a;this.o=new V(this);F(this,this.o);this.g=b;this.j=Zg()}t(Cx,E);Cx.prototype.A=function(a){A(a.data,1)==this.v&&this.j.resolve(!0)};Cx.prototype.start=function(){this.g.connect();var a="J_"+yr.g;this.o.listen(this.g,a,q(this.A,this));var b=Pi(q(this.j.resolve,this.j,!1),15E3),c=new tr,d=new vr;B(d,1,this.v);c.Id(wr,d);Qr(this.g,c);return bh(this.j.g,q(function(){this.o.cd(this.g,a);Qi(b)},this))};function Dx(a,b){E.call(this);this.j=a;this.g=b}t(Dx,E);function Ex(a,b){return(new R(function(a,d){var c=this.j.g.A.Fb,f=X(Ou(c,void 0,d),"DocumentLocks").get([b]);kn(f,q(c.ak,c,a));d&&at(f,ud(d))}.bind(a))).then(function(a){switch(a){case "available":return!0;case "unavailable":return!1;case "expiredOtherSid":return a=new Cx(b,this.g),F(this,a),a.start().then(function(a){return!a});default:throw Error("Unexpected lock state result: "+a);}}.bind(a))};function Fx(a,b,c,d){this.B=a;this.o=b;this.A=c;this.C=d;this.v=new Dx(this.o,this.C);F(this,this.v)}t(Fx,dx);Fx.prototype.g=function(){return Gx(this).then(function(a){return Yg(a.filter(this.F.bind(this)).map(this.D.bind(this)))}.bind(this)).then(function(){return new R(function(a,b){rx(this.A,this.o,a,b)}.bind(this))}.bind(this))};Fx.prototype.F=function(a){var b=!a.Za()&&!Dq(a,"ip");return!!Dq(a,"pendingCreation")||b};
function Gx(a){return new R(function(a,c){du(this.o.g.g,null,a,c)}.bind(a))}Fx.prototype.D=function(a){return Ex(this.v,a.getId()).then(function(b){if(b)return xq(a),(new R(function(b,d){this.o.write([a],b,d)}.bind(this))).then(function(){a.getId()}.bind(this),function(b){wn(this.B,Ig(b instanceof Error?b:Error(b),"Could not delete document"),{docId:a.getId()})}.bind(this))}.bind(this))};function Hx(a,b,c){H.call(this,"R");this.wf=a;this.g=b;this.message=c}t(Hx,H);function Ix(a,b,c,d,e,f){E.call(this);this.I=a;this.C=b;this.F=c;this.M=d;this.v=e;this.o=[];this.j=[];this.g=f;this.B=null;this.D=!1;this.A=null;this.H=new Dx(this.v,this.F);F(this,this.H)}t(Ix,E);
Ix.prototype.start=function(a,b){this.B=b||new Lw(Uv(this.g.g).reverse());var c={};this.j=a.filter(function(a){a=a.getId();return c[a]?!1:c[a]=!0});if(!this.j.length)return Tg([]);this.o=[];return bh(Jx(this).then(function(){for(var a=0,b=0;b<this.o.length;b++)"failure"==this.o[b].state&&a++;return this.o}.bind(this)),function(){return lx(this.g)}.bind(this))};
function Jx(a){if(!a.j.length)return Kx(a);var b=Tg();0==a.o.length%10&&(b=Kx(a));return b.then(function(){if(this.j.length)return Lx(this,this.j.shift()).then(function(){return Jx(this)}.bind(this))}.bind(a))}
function Kx(a){return tx(a.C).then(function(a){return Xg([Tg(a),xx(this.C)])}.bind(a)).then(function(a){var b=a[0];this.D=a[1];b.forEach(function(a){a=Mw(this.B,a);null!=a&&(null==this.A||a<this.A)&&(this.A=a)}.bind(this));var d=Tb(b);this.j=this.j.filter(function(a){return!d[a.getId()]})}.bind(a))}
function Lx(a,b){var c=b.getId();return Bx(a.M).then(function(){return Ex(this.H,c)}.bind(a)).then(function(a){if(!a)return"lock_not_available";var c=b.getId(),d=this.v.g.g;return(new R(function(a,b){fu(d,c,a,b)})).then(function(a){if(b.j)a=Mx(this,c,a);else{var d=b.getId(),d=Mw(this.B,d),e=12==b.g&&(!a||!Dq(a,"ip"));a=(this.D||null!=this.A&&null!=d&&d>this.A)&&e?Mx(this,c,a):a&&Dq(a,"inc")&&null===a.Za()?Tg():Nx(this,b,a)}return a}.bind(this))}.bind(a)).then(function(a){this.o.push(new Ox(a))}.bind(a),
function(a){this.o.push(new Ox("failure"));throw a;}.bind(a))}function Nx(a,b,c){var d=b.getId();if(!c){var e=b.v;if(!e)return Tg("failure");c=a.v.g.g.createDocument(d,e)}e=b.g;gs(c,Mw(a.B,d));return dh(Px(a.I,a.v,c,null,null,!0,!0,e).then(function(){Vv(this.g.g,d);return lx(this.g)}.bind(a)).then(function(){var a=new tr,b=new zr;B(b,1,d);a.Id(Ar,b);Qr(this.F,a);return"success"}.bind(a)),function(a){return Qx(this,b,c,a).then(ca("failure"))}.bind(a))}
function Mx(a,b,c){return dh((new R(function(a,b){c||a();xq(c);this.v.write([c],a,b)}.bind(a))).then(function(){Vv(this.g.g,b);return lx(this.g)}.bind(a)).then(ca("success")),ca("failure").bind(a))}
function Qx(a,b,c,d){if(d&&d instanceof Hx){d=7==d.g||12==d.g;b.getId();c=Aq(c,"lastModifiedServerTimestamp")||b.A||-1;b=b.getId();var e=a.g.g,f=Wv(e),g=f[b],k={};k.count=g?g.count+1:1;k.modelSyncFailCount=(g?g.modelSyncFailCount:0)+(d?1:0);k.serverTime=c;f[b]=k;Y(e,"failedToSyncDocs",f);return lx(a.g)}if(!(d instanceof Error))throw Error("Unknown Error: "+d);throw d;}function Ox(a){this.state=a};function Rx(a,b,c){this.g=a;this.j=b;this.o=n(c)?c:!1}function Sx(a,b){var c=a.g.he();return(new R(function(a,b){Zv(c,a,b)})).then(function(c){return new Rx(c||new Sv(!0),a,b)})}function lx(a){return a.o?Tg():Tx(a)}function jx(a,b){Y(a.g,"lastSyncedChangestamp",b)}function Xw(a,b){a=Wv(a.g)[b];return null!=a?a.count:0}function Yw(a,b){a=Wv(a.g)[b];return null!=a?a.serverTime:0}function kx(a){var b=r();Y(a.g,"lastSyncTimestamp",b)}function Vw(a){a=Wv(a.g);return Jb(a)}
function Tx(a){return new R(function(a,c){this.j.write([this.g],a,c)}.bind(a))};function Ux(a){E.call(this);this.g=[];this.j=new Si(this.o,a||500,this);F(this,this.j)}t(Ux,E);function Bx(a){var b=Zg();a.g.push(b);a.j.Mb();return b.g}Ux.prototype.o=function(){var a=this.g.shift();this.g.length&&this.j.Mb();a.resolve()};function Vx(a){this.g=a}function Px(a,b,c,d,e,f,g,k){return new R(function(a,u){Wx(this.g,b,c,a,u,d,e,f,g,k).Ia()},a)};function Xx(a){this.j=!1;this.o=a}t(Xx,dx);Xx.prototype.g=function(){return new R(q(function(a,b){Yx(this.o,a,b)},this))};function Zx(a,b){this.v=a;this.o=b}t(Zx,dx);Zx.prototype.g=function(){return Rw(new Qw(this.v.g.g)).then(this.o.start.bind(this.o))};function $x(a,b){this.j=!1;this.o=a;this.v=b}t($x,dx);$x.prototype.g=function(){var a=this.v.g.map(q(function(a){var b=Zg(),d=this.o,e=Ma(this.A,b,a);if(d.g.Yb()){var f=a.ne,g=q(a.Nf,a,d,e,null);a=q(a.Nf,a,d,e,null,null);(e=d.g.Yb())?uu(e,f.Ra,q(f.v,f,d,g,a),q(f.j,f,a)):g(0)}else e(0,!0);return b.g},this));return Yg(a).then(function(a){for(var b=!0,d=0;d<a.length;d++)a[d].pd||(b=!1);if(!b)throw Error("Metadata task failed.");}.bind(this))};
$x.prototype.A=function(a,b,c,d){d&&null!==c||a.reject(Error("Fetcher "+b+" failed to sync metadata.metadataWriteSuccess: "+d+", docIdsSyncedFailure: "+(null===c)));a.resolve()};function ay(a,b){this.v=a;this.o=b}t(ay,dx);ay.prototype.g=function(){var a=this.o.map(function(a){return new Nw(a,null,1,!1,null)});return this.v.start(a)};function by(a,b,c){this.o=a||Oe();a=J();this.v=b||Jf(a,"olbu");this.A=n(c)?c:Jf(a,"docs-offline-lsuid");this.j=this.g=null;this.B=new V(this);F(this,this.B);this.B.listen(m,"message",this.C)}t(by,E);
by.prototype.update=function(a){return this.v?this.g&&!a?Tg():Tg().then(function(){if(Hf(J(),"docs-offline-icoambu"))return cy(this)}.bind(this)).then(function(){if(this.g)if(a)dy(this);else return Tg();this.g=this.o.createElement("iframe");var b=Zg();this.g.style.display="none";this.g.src=ey(this);this.o.appendChild(this.o.g.body,this.g);Ri().then(function(){b.reject("App cache updater timed out")});this.j=b;return this.j.g}.bind(this)):Ug(Error("No base url provided."))};
function ey(a){var b=Od(a.v,"cacheupdate"),c={al:"1"};a.A&&(c.ouid=a.A);return Id(b,c)}function cy(a){var b=Zg(),c=new Bj;ye(c,"complete",function(a){a=a.target.$();200==a?b.resolve():b.reject(Error("Failed to invalidate appcache manifest, received "+a+" from POST request."));G(c)});Gj(c,1E4);c.send(fy(a),"POST");return b.g}function fy(a){var b=Od(a.v,"common/manifest"),c={};c.ouid=a.A;return Id(b,c)}
by.prototype.C=function(a){a=a.g;new pi(this.v);var b=m.location.protocol+"//"+m.location.hostname;if(a&&a.origin==b&&this.g&&a.source==this.g.contentWindow&&(a=a.data,this.j))switch(a){case "appcache-update-succeeded":this.j.resolve();break;case "appcache-update-failed":this.j.reject("At least one app cache failed.");break;default:throw Error("Received unexpected data: "+a);}};function dy(a){a.g&&(a.o.j(a.g),a.g=null,a.j.reject("Removing updater frame"),a.j=null)}
by.prototype.G=function(){dy(this);by.J.G.call(this)};function gy(a){this.g=a}gy.prototype.L=h("g");function hy(){this.g="unknown"}t(hy,gy);function iy(){this.g=[];this.j=[];this.o=[]}function jy(a){zb(a.o,["","/"])}function ky(){};function ly(a,b,c,d,e,f,g,k){this.g=a;this.j=k?Od("//"+k,b):b}t(ly,gy);function my(a,b){return Od(a.j,b)};function ny(a,b,c,d){ly.call(this,"trix",a,0,0,0,0,0,d)}t(ny,ly);var oy=["/create"];function py(a){var b=new iy;b.g.push(new ky);b.g.push(new ky);b.g.push(new ky);a=a||J();jy(b);zb(b.j,oy);return new ly("kix",Jf(a,"kixOfflineUrl"),0,Hf(a,"udurls"),0,0,0,void 0)}function qy(a){var b=new iy;b.g.push(new ky);b.g.push(new ky);b.g.push(new ky);zb(b.j,oy);a=a||J();return new ly("drawing",Jf(a,"drawingsOfflineUrl"),0,Hf(a,"udurls"),0,0,0,void 0)}
function ry(a){var b=new iy;b.g.push(new ky);b.g.push(new ky);b.g.push(new ky);zb(b.j,oy);b=new iy;b.g.push(new ky);a=a||J();jy(b);return new ly("punch",Jf(a,"punchOfflineUrl"),0,Hf(a,"udurls"),0,0,0,void 0)}function sy(a){var b=new iy;a=a||J();Jf(a,"trixOfflineUrlSuffix");b.g.push(new ky);return new ny(Jf(a,"trixOfflineUrl"),0,Jf(a,"trixOnlineUrlSuffix"),void 0)}
function ty(a){var b=new iy;b.g.push(new ky);b.g.push(new ky);b.g.push(new ky);a=a||J();zb(b.j,oy);jy(b);return new ly("ritz",Jf(a,"ritzOfflineUrl"),0,Hf(a,"udurls"),0,0,0,void 0)};function uy(){this.g={}}function vy(a,b){a=a.g[b];if(!a)throw Error("No offline URL adapter for documents of type "+b);return a};function wy(){this.g={}};function xy(a){this.g=a};function yy(a,b){this.g=a;this.j=b}yy.prototype.send=function(a,b){return this.g.send(Cc(a),b).then(function(a){return new Pq(new this.j(a.message),a.ports)}.bind(this))};function zy(a,b){Qq.call(this,b);this.v=a}t(zy,Qq);zy.prototype.postMessage=function(a,b){this.v.postMessage(a,b)};function Ay(a){y(this,a,0,-1,null)}t(Ay,x);function By(a){y(this,a,0,-1,null)}t(By,x);function Cy(a){y(this,a,0,-1,null)}t(Cy,x);Cy.prototype.L=function(){return A(this,1)};function Dy(a){y(this,a,0,-1,null)}t(Dy,x);function Ey(a,b,c){this.v=a;this.j=b;this.g=c||m.navigator.serviceWorker;this.A=new V(this);F(this,this.A)}t(Ey,E);function Fy(a){return a.g.getRegistration(a.j).then(function(a){if(!a)throw Error("Got null registration.");return a})}Ey.prototype.B=function(){return this.g?this.g.getRegistration(this.j).then(function(a){return!!a}):Tg(!1)};Ey.prototype.unregister=function(){return Fy(this).then(function(a){return a.unregister()})};
Ey.prototype.register=function(a){return this.g.register(a,{scope:this.j,useCache:!0}).then(void 0,q(function(a){this.v.log(a);throw a;},this))};function Gy(a){var b=new Cy;B(b,1,1);return Hy(a,b).then(a.o.bind(a))}Ey.prototype.o=function(a){var b=C(a,Dy,2);(a=C(a,By,3))&&A(a,1);return b?A(b,1):!a};
function Hy(a,b){return Fy(a).then(function(a){qc(b);a=a.active||a.waiting||a.installing;if(!a)throw Error("No active, waiting or installing service worker, cannot send message of type "+b.L());return(new yy(new zy(a,3E5),Ay)).send(b).then(function(a){return a.message})}.bind(a))};function Iy(a,b,c){this.g=a;this.j=b;this.o=c||null}Iy.prototype.update=function(){return dh(Jy(this).then(function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];d.enabled?b.push(Ky(this,d)):b.push(Ly(this,d))}return Xg(b)}.bind(this)),function(a){this.g.log(a);throw a;}.bind(this))};
function Jy(a){var b=Lv(a.j.jc());return Xg([My(a),b]).then(function(a){var b=a[0];a=a[1];if(b&&a){var c=[],f;if(!(f=this.o)){var g=J();f=g||J();f=new uy(Jf(f,"ondlburl"),Jf(f,"drdn"),Jf(f,"drcuap"));var k=new wy,p=[];p.push(py(g));p.push(qy(g));p.push(ry(g));p.push(sy(g));p.push(ty(g));p.push(new hy);for(g=0;g<p.length;g++){var u=k,w=p[g],z=w.L();if(u.g[z])throw Error("Already have an adapter installed for type "+z);u.g[z]=w;u=f;w=p[g];z=w.L();if(u.g[z])throw Error("Already have an adapter installed for type "+
z);u.g[z]=w}f=new xy(f)}for(k=0;k<b.length;k++)g=b[k].Sa(),p=Ny(g),w=a.getId(),u=vy(f.g,g),u=new pi(my(u,"/serviceworker.js")),Di(u,"ouid",encodeURIComponent(String(w))),u=u.toString(),g=(new pi(my(vy(f.g,g),"/"))).toString(),c.push(new Oy(this.g,u,g,p,!0));return c=c.concat(Py(this,a))}}.bind(a))}
function My(a){return new R(function(a,c){var b=this.j.g.Yb();c=xt(b.g,["ApplicationMetadata"],"Error reading application metadata.",c);ln(c,"ApplicationMetadata",q(b.o,b),a,void 0,void 0,void 0,void 0,void 0,!0)}.bind(a))}function Ny(a){var b=J();switch(a){case "kix":return Hf(b,"docs-sw-eksw");case "ritz":return Hf(b,"docs-sw-ersw");case "punch":case "drawing":return Hf(b,"docs-sw-epsw");default:return!1}}
function Py(a,b){var c=J(),d=[];d.push(Qy(a,b,Hf(c,"docs-sw-eposw")));d.push(Qy(a,b,Hf(c,"docs-sw-ecosw"),"/corp"));d.push(Qy(a,b,Hf(c,"docs-sw-esosw"),"/scary"));return d}function Qy(a,b,c,d){var e=(d||"")+"/_/offline/";b=Di(new pi((d||"")+"/_/offline/serviceworker.js"),"ouid",b.getId()).toString();return new Oy(a.g,b,e,c,!1)}
function Ky(a,b){var c=new Ey(b.j,b.o);return Tg().then(function(){return c.register(b.g)}).then(function(){var a;b.v?(a=new Cy,B(a,1,0),a=Hy(c,a).then(c.o.bind(c))):a=Tg(!0);return a}).then(function(a){if(!a)throw Error("Error while updating worker: "+b.g);}.bind(a))}
function Ly(a,b){var c=new Ey(b.j,b.o);return Tg().then(q(c.B,c,b.g)).then(function(a){return a?Gy(c).then(function(a){a||this.g.log(Error("Error while removing caches before deleting: "+b.g))}.bind(this)).then(function(){return c.unregister()}.bind(this)):Promise.resolve(void 0)}.bind(a))}function Oy(a,b,c,d,e){this.j=a;this.g=b;this.o=c;this.enabled=d;this.v=e};function Ry(a,b){this.j=!1;this.o=new by;F(this,this.o);this.v=new Iy(a,b)}t(Ry,dx);Ry.prototype.g=function(){var a=[this.o.update(!0),this.v.update(!0)];return Yg(a).then(function(){return Xg(a)})};function Sy(a){return(a=a.exec(Ub))?a[1]:""}var Ty=function(){if(fc)return Sy(/Firefox\/([0-9.]+)/);if(jc)return Sy(/Chrome\/([0-9.]+)/);if(kc&&!Zb())return Sy(/Version\/([0-9.]+)/);if(gc||hc){var a=/Version\/(\S+).*Mobile\/(\S+)/.exec(Ub);if(a)return a[1]+"."+a[2]}else if(ic)return(a=Sy(/Android\s+([0-9.]+)/))?a:Sy(/Version\/([0-9.]+)/);return""}();function Uy(a){var b={Di:!0},c=b.document||document,d;a instanceof Vd&&a.constructor===Vd&&a.j===Wd?d=a.g:(Aa(a),d="type_error:TrustedResourceUrl");var e=document.createElement("SCRIPT");a={Fg:e,ya:void 0};var f=new S(Vy,a),g=null,k=null!=b.timeout?b.timeout:5E3;0<k&&(g=window.setTimeout(function(){Wy(e,!0);f.P(new Xy(1,"Timeout reached for loading script "+d))},k),a.ya=g);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Wy(e,b.Di||!1,g),f.K(null))};
e.onerror=function(){Wy(e,!0,g);f.P(new Xy(0,"Error while loading script "+d))};a=b.attributes||{};Sb(a,{type:"text/javascript",charset:"UTF-8",src:d});Qe(e,a);Yy(c).appendChild(e);return f}function Yy(a){var b;return(b=(a||document).getElementsByTagName("HEAD"))&&0!=b.length?b[0]:a.documentElement}function Vy(){if(this&&this.Fg){var a=this.Fg;a&&"SCRIPT"==a.tagName&&Wy(a,!0,this.ya)}}
function Wy(a,b,c){null!=c&&m.clearTimeout(c);a.onload=ya;a.onerror=ya;a.onreadystatechange=ya;b&&window.setTimeout(function(){Te(a)},0)}function Xy(a,b){a="Jsloader error (code #"+a+")";b&&(a+=": "+b);Qa.call(this,a)}t(Xy,Qa);function Zy(){this.g=Jf(J(),"docs-extension-id")}function $y(a){return dh(new R(function(a,c){var b;b=new Vd;b.g="chrome-extension://"+this.g+"/page_embed_script.js";b=Uy(b);U(b,a,c)}.bind(a)),function(){m._docs_chrome_extension_exists=!1})};function az(a){y(this,a,0,-1,bz)}t(az,x);var bz=[2],cz={ni:0,ci:1,ERROR:2,ii:3,wh:4};function dz(a){y(this,a,0,-1,null)}t(dz,x);dz.prototype.L=function(){return A(this,1)};function ez(a,b){this.g=b}ez.prototype.getUrl=h("g");function fz(a,b){this.g=a;this.j=b}fz.prototype.getId=h("g");function gz(a){var b=new Yq;B(b,1,a);return b};function hz(a){this.g=a;a=m.localStorage.getItem("docs-tasksStats_default")||"[]";var b;try{b=oc(a)}catch(e){b=[],m.localStorage.removeItem("docs-tasksStats_default"),wn(this.g,Ig(e,"Detected task stats corruption, resetting"))}a={};for(var c=0;c<b.length;c++){var d=new cr(b[c]);a[d.getId()]=d}this.j=a};function jz(a){this.g=new S;this.j=Pi(this.A,a,this);this.o=!1}jz.prototype.T=function(a,b){this.g.T(a,b)};jz.prototype.K=function(a){this.o||(Qi(this.j),this.j=null,this.g.K(a))};jz.prototype.v=function(a){this.o||(Qi(this.j),this.j=null,this.g.P(a))};jz.prototype.A=function(){this.o=!0;this.g.P("Deferred timed out.")};var kz=window.navigator?window.navigator.webkitTemporaryStorage||null:null,lz=window.navigator?window.navigator.webkitPersistentStorage||null:null;function mz(a,b,c){var d="persistent"==a?lz:kz;d?d.queryUsageAndQuota(b,function(a){c("queryUsageAndQuota failed: "+a.code)}):m.webkitStorageInfo?(d=m.webkitStorageInfo,d.queryUsageAndQuota("persistent"==a?d.PERSISTENT:d.TEMPORARY,b,function(a){c("queryUsageAndQuota failed: "+a.code)})):c("webkitStorageInfo not available in this browser.")};function nz(a){y(this,a,0,-1,null)}t(nz,x);function oz(a){y(this,a,0,-1,null)}t(oz,x);function pz(a,b,c){this.o=a;this.v=b;this.A=c;this.B=new Zy}t(pz,dx);pz.prototype.g=function(){var a=this;return Xg([qz(this),rz(this)]).then(function(b){var c=b[0],d=b[1];b=sz(a.o.j,81002);var e=tz(b);D(e,34,d);D(e,22,c);c=a.o;d=c.j;B(b.fa,6,d.j);b=uz(b);d.g.g.push(b);d.o=!0;b=c.g;3<=b.g.g.aa()&&b.j.Mb()})};function rz(a){var b=new az,c=vz(a);Dc(b,2,c);return wz(a,b).then(function(){return b})}
function vz(a){a=new hz(a.v);var b=Gf.ua();Hf(b,"docs-dbsw");b=[];b.push(new fz("metadata-sync",4,new ez(0,Hw(),gz("metadata"))));b.push(new fz("binary-sync",3,new ez(0,Kw(),gz("offline_binary_sync"))));b.push(new fz("drive-service-worker",13,new ez(0,Iw(Jf(J(),"drdn"),"/drive/serviceworker/update",!0),gz("drive_service_worker_update"))));b.push(new fz("homescreen-cello-sync",2,If(Gf.ua(),"docs-offline-scstpim"),new ez(0,Iw(yd(),"/document/backgroundsync"),new Yq)));b.push(new fz("drive-cello-sync",
1,If(Gf.ua(),"docs-offline-scstpim"),new ez(0,Iw(Jf(J(),"drdn"),"/drive/_/dataservice/backgroundsync",!0),new Yq)));b.push(new fz("local-changes-sync",5,new ez(0,Hw(),gz("local_changes_sync"))));b.push(new fz("auto-sync",6,If(Gf.ua(),"docs-offline-sastpim"),new ez(0,Hw(),gz("auto_sync"))));b.push(new fz("webfonts-sync",8,new ez(0,Hw(),gz("webfonts_sync"))));b.push(new fz("impression-sync",7,new ez(0,Hw(),gz("impressionSync"))));b.push(new fz("document-deletion",9,new ez(0,Hw(),gz("doc_deletion"))));
b.push(new fz("update-unsaved-changes",10,new ez(0,Kw(),gz("update_unsaved_changes"))));b.push(new fz("cleanup-task",11,new ez(0,Kw(),gz("cleanup"))));b.push(new fz("report-task",14,new ez(0,Kw(),gz("report"))));b.push(new fz("kix-snapshot",12,new ez(0,Iw(yd(),"/document/snapshot.js"),new Yq)));for(var c=[],d=0;d<b.length;d++){var e=b[d],f=new dz;B(f,1,e.j);e=e.getId();if(e=(e=a.j[e])?Mc(e):null){var g=Ac(e,2,0);B(f,2,g);g=Ac(e,3,0)-g;B(f,3,g);g=xz(A(e,4));B(f,4,g);g=Ac(e,5,!1);B(f,5,g);e=Ac(e,6,
0);B(f,6,e)}c.push(f)}return c}function wz(a,b){return $y(a.B).then(function(){var a=!!m._docs_chrome_extension_exists;B(b,3,a);a&&B(b,4,m._docs_chrome_extension_features_version||0);a=m.parent;B(b,5,a.parent.parent!=a.parent);var d=!1;try{d=-1!=a.parent.location.href.indexOf("/background?")}catch(e){}B(b,6,d)})}function xz(a){switch(a){case 0:return cz.ci;case 1:return cz.ERROR;case 2:return cz.ii;case 3:return cz.wh;default:return cz.ni}}
function qz(a){return Xg([new R(function(a,c){mz("persistent",function(b,c){a([b,c])},c)}),new R(function(a,c){mz("temporary",function(b,c){a([b,c])},c)}),new R(function(b,c){eu(a.A.g.g,b,c)})]).then(function(a){var b=a[0][0],d=a[0][1],e=a[1][0],f=a[1][1];a=a[2];var g=new nz,k=new oz;B(k,1,Math.round(b/1048576));B(k,3,Math.round(d/1048576));B(k,2,Math.round(e/1048576));B(k,4,Math.round(f/1048576));B(k,5,a.length);D(g,1,k);return g})};function yz(a,b,c,d,e){this.v=a;this.A=b;this.o=c;this.C=d;this.B=e}t(yz,dx);yz.prototype.g=function(){return(new R(function(a,b){fu(this.v.g.g,this.o,a,b)}.bind(this))).then(function(a){return a?Px(this.A,this.v,a,this.C,this.B,!1,!1,1):Ug("Document "+this.o+" not found.")}.bind(this))};function zz(a,b){this.v=a;this.o=b}t(zz,dx);zz.prototype.g=function(){return new R(function(a,b){pu(this.v.g.g,this.o,a,b)}.bind(this))};function Az(a){this.j=!1;this.o=a}t(Az,dx);Az.prototype.g=function(){return new R(q(function(a,b){U(this.o,function(c){c.Gf(a,b)},b)},this))};function Bz(a,b,c,d,e,f,g){this.j=a;this.g=c;this.o=this.g.o;this.C=new Vx(this.g);this.v=b;this.B=new Ux;F(this,this.B);this.M=d;this.H=e;this.D=f;this.I=g;this.A=new lo(new Fm);this.A.B=io;a=Jf(J(),"docs-offline-lsuid");Qn(this.A.j,"ouid",a);this.F=new V(this);F(this,this.F);this.F.listen(this.A.$(),"H",this.N.bind(this))}t(Bz,E);function Cz(a,b){return Tg().then(function(){return Dz(this,b)}.bind(a)).then(function(a){F(this,a);return a.Ne()}.bind(a))}
function Dz(a,b){var c=A(b,1);switch(c){case "metadata":return a.o.get().then(function(a){return new $x(a,Ez(this.g))}.bind(a));case "sync_doc":b=C(b,Zq,2);var c=b.fb(),d=b.W(),e=A(b,2),f=A(b,3);b=new Bw(a.j,a.v,c);return b.get().then(function(a){return new yz(a,this.C,d,e,f)}.bind(a));case "local_changes_sync":return a.o.get().then(function(a){return Sx(a).then(function(b){b=Fz(this,a,b);return new Zx(a,b)}.bind(this))}.bind(a));case "multi_doc_sync":b=C(b,$q,3);var g=A(b,1),c=b.fb();b=new Bw(a.j,
a.v,c);return b.get().then(function(a){return Sx(a,!0).then(function(b){b=Fz(this,a,b);return new ay(b,g)}.bind(this))}.bind(a));case "impressionSync":return Gz(a.g).then(function(){var a=this.g,b={},c;for(c in a.j){var d=a.j[c];if(d.g.B){var d=new Hz(Iz(d)),e=Jz(c);b[e]=d}}c=Kz();b.offline=new Lz(c);c=a.v.g.Hf();if(!c)throw Error("impressionCapability should exist");return new Xx(new Mz(c,b,a.g))}.bind(a));case "webfonts_sync":return Gz(a.g).then(function(){var a=this.g,b=a.v,c=b.Lb(),d=Nz();if(null==
a.D){var e=a.v,f=new Oz(Iz(a.j.kix),a.g,{}),g=e.Lb(),e=g?new Pz(g,e,Qz(a),a.g):null,e=Ah(e),e=new Rz(new Sz([Tz(e),f]),e,0,!0);a.D=new Uz(new Vz(d,0,null,!1),e,new Wz);a.H=f}d=Xz(a);f=new S;f.T(q(a.I,a,b,c));vh(d,f);return new Az(f)}.bind(a));case "auto_sync":return a.o.get().then(function(a){return Sx(a).then(function(b){var c=Fz(this,a,b);return new ex(this.j,a,c,b,this.A,this.D)}.bind(this))}.bind(a));case "offline_binary_sync":return a.o.get().then(function(a){return new Ry(this.j,a)}.bind(a));
case "doc_deletion":return a.o.get().then(function(a){return new Fx(this.j,a,Yz(this.g),this.v)}.bind(a));case "update_unsaved_changes":return a.o.get().then(function(a){return new zz(a,this.j)}.bind(a));case "cleanup":return a.o.get().then(function(a){return new qx(a,Yz(this.g))}.bind(a));case "report":return a.o.get().then(function(a){return new pz(this.I,this.j,a)}.bind(a));default:throw Error("Cannot handle task type "+c);}}
function Fz(a,b,c){var d=new sx(a.j,b,Yz(a.g),a.B,a.H,c);return new Ix(a.C,d,a.v,a.B,b,c)}Bz.prototype.N=function(a){a.g==eo&&(a=new dr,B(a,1,4),this.M.send(a))};function Zz(a){this.g=new yy(a,fr)}Zz.prototype.send=function(a,b){return this.g.send(a,b).then(function(a){return A(a.message,1)?Ug(A(a.message,1)):a})};function $z(a,b,c){this.g=a;this.v=b;this.o=null;this.j=new V(this);F(this,this.j);this.A=c;this.j.listen(this.g,"B",this.C)}t($z,E);$z.prototype.start=function(a){this.o=a;m._docs_worker_handler_resolve(Mn(this.g,this.B,this))};$z.prototype.B=function(a){var b=this;if(a&&a.data&&a.ports&&a.ports.length){var c=a.ports[0];a=new Wq(a.data);aA(this,a).then(function(a){return Yg([Yg(Ag(b.g.o.C)).then(),bA(b.v)]).then(function(){c.postMessage(Cc(a))})})}};
function aA(a,b){var c=b.L(),d=new Xq;B(d,1,c);switch(c){case 0:return b=C(b,Yq,2),cA(a,b).then(function(a){D(d,2,a);return d});default:throw Error("Could not handle task request of type "+b.L());}}
function cA(a,b){var c=new br,d=A(b,1);a.g.g.executingTaskType=d||"";return Cz(a.o,b).then(function(){B(c,1,0);return c}.bind(a),function(a){var b=this.g,d;a instanceof Error?d=a:(d=Error,a=Da(a)?a:"with reason of type "+(a instanceof Function?a.displayName||a.name||"unknown type name":a instanceof Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):null===a?"null":typeof a),d=d("Task execution failure "+a));wn(b,d);B(c,1,1);return c}.bind(a))}
$z.prototype.C=function(a){var b=new dr;B(b,1,6);var c=new er;B(c,1,a.error?a.error.message:"Unknown uncaught error in task.");D(b,3,c);bh(Yg(Ag(this.g.o.C)).then(),function(){return this.A.send(b)}.bind(this))};function dA(a,b,c){$z.call(this,a,b,c)}t(dA,$z);function eA(){var a=new Fn(0,"offlineCommon",void 0,0,!0,0,!0),b=J(),c=Jf(b,"buildLabel");Ua(c)||(a.g["build-label"]=c);(c=m.applicationCache)&&(a.g.appCacheStatusOnLoad=c.status);"docs-dbsw"in b.g&&(b=Hf(b,"docs-dbsw"),a.g.disabledSyncSharedWorker=b.toString());xa("navigator.serviceWorker.controller")?a.g.serviceWorkerControlled="true":a.g.serviceWorkerControlled="false";return a};function fA(a){y(this,a,0,-1,gA)}t(fA,x);var gA=[1];function hA(a){y(this,a,0,-1,null)}t(hA,x);function iA(a){y(this,a,0,-1,null)}t(iA,x);function jA(a){y(this,a,0,-1,null)}t(jA,x);function kA(a){this.g=a.je;this.o=a.si;this.j=a.ei}kA.prototype.fb=h("o");function lA(a,b){E.call(this);this.A=a||null;this.j=Ea(b)?b:null;a=J().get("ilcm");this.v=(a=null!=a?new kA(a,J().get("buildLabel")):null)?a.g:0;this.o=a?a.j:[];this.g=null}t(lA,E);lA.prototype.get=function(){if(this.g)return this.g;var a=new iA;B(a,1,"en");B(a,2,Ub);Ea(this.j)&&B(a,11,this.j);var b=J(),c=new hA;B(c,2,!!this.A);b=Hf(b,"icso");B(c,1,b);D(a,5,c);B(a,9,this.v);c=new fA;B(c,1,this.o||[]);D(a,10,c);return this.g=a};function mA(a){y(this,a,0,25,nA)}t(mA,x);var nA=[3,20];mA.prototype.wc=function(a){B(this,11,a)};function oA(a,b){B(a,8,b)}function pA(a){y(this,a,0,-1,null)}t(pA,x);function qA(a){y(this,a,0,-1,null)}t(qA,x);function rA(a){y(this,a,0,-1,null)}t(rA,x);function sA(a){y(this,a,0,15,tA)}t(sA,x);var tA=[3,5];function uA(a){var b=r().toString();B(a,4,b)};function vA(a){this.g=a}vA.prototype.j=function(a){var b=new mA;oA(b,a.ia());this.g.log(b);this.g.j()};function wA(a){this.g=a}t(wA,Qa);function Lz(a){this.j=a}Lz.prototype.g=function(a){var b=new mA;oA(b,a.ia());this.j.log(b);return new R(function(a,b){this.j.D(a,b)}.bind(this))};function xA(a,b,c){this.o=a;this.v=b;this.j=c}xA.prototype.g=function(a,b,c){a=new yu(this.j,this.v,r(),Cc(a),!0);this.o.write([a],b,c)};function yA(a,b){this.j=a;this.o=b}yA.prototype.g=function(a,b,c){Fw(this.j).then(q(function(d){d?(new xA(d.jg,this.o,null)).g(a,b,c):b()},this))};function zA(a,b,c){this.v=a;this.g=b;this.o=c}zA.prototype.j=function(a){return dh(this.v.g(a,this.g),function(b){if(!(b instanceof wA&&b.g))return AA(this,a)},this)};function AA(a,b){return new R(function(a,d){this.o.g(b,a,d)}.bind(a))};function Jz(a){switch(a){case "kix":return"kix";case "drawing":return"drawing";case "punch":return"punch";case "ritz":return"ritz";default:throw Error("Could not convert document type "+a);}};function BA(){}BA.prototype.g=function(a,b){b()};function CA(a,b,c){a=new Oi(a);F(c,a);var d=new V(c);F(c,d);d.listen(a,"tick",b);a.start()};function DA(a,b,c,d){this.g=a;this.C=b;this.j=new Si(this.v,3E3,this);this.o=new Eg;this.B=d}t(DA,E);DA.prototype.v=function(){if(0!=this.g.g.aa()&&(!this.B||this.g.o)){var a=EA(this.g),b=this.C.j(a);b&&(bh(b,q(function(){yg(this.o.g,Gg(b))},this)),Fg(this.o,b))}};
DA.prototype.A=function(){var a=this.g,b=sz(a,1153),c;var d=a.C;c=Object.keys(d.g);if(0==c.length)c=null;else{for(var e=[],f=0;f<c.length;f++){var g=Number(c[f]),k=d.g[g],p=new FA;B(p,1,g);p.wc(A(k.fa,10));e.push(p)}c=e}d=a.v;e=c;B(b.fa,6,a.j);c=new GA;B(c,1,d);e&&Dc(c,2,e);d=tz(b);D(d,3,c);HA(a,b);b=uz(b);a.g.g.push(b);this.j.Mb()};function IA(a,b){this.j=a;this.g=b}function bA(a){a.g.v();return Yg(Ag(a.g.o)).then()};function JA(){this.g={};this.wi={};this.ff=null};function KA(a){y(this,a,0,-1,LA)}t(KA,x);var LA=[3];function MA(a){y(this,a,0,-1,null)}t(MA,x);function GA(a){y(this,a,0,-1,NA)}t(GA,x);var NA=[2];function FA(a){y(this,a,0,-1,null)}t(FA,x);FA.prototype.wc=function(a){B(this,2,a)};function OA(a){y(this,a,0,-1,null)}t(OA,x);function PA(a){y(this,a,0,-1,null)}t(PA,x);function QA(a){y(this,a,0,-1,null)}t(QA,x);function RA(a){y(this,a,0,-1,null)}t(RA,x);function SA(a){y(this,a,0,-1,null)}t(SA,x);SA.prototype.wc=function(a){B(this,10,a);return this};function TA(){this.g=[]}TA.prototype.aa=function(){return this.g.length};function UA(){this.Le=this.fa=null}function tz(a){var b=C(a.fa,OA,5);null==b&&(b=new OA,D(a.fa,5,b));return b}function uz(a){A(a.fa,10);null!=A(a.fa,6)||A(a.fa,10);if(2==A(C(a.fa,PA,8),3)&&null!=A(a.fa,13)){var b=C(C(a.fa,PA,8),RA,2);A(b,2)}b=C(a.fa,OA,5);null!=b&&(b=Mc(b),D(a.fa,5,b));return a.fa};function VA(a){y(this,a,0,-1,null)}t(VA,x);function WA(a){y(this,a,0,-1,null)}t(WA,x);function XA(a){y(this,a,0,-1,null)}t(XA,x);function YA(a){y(this,a,0,-1,null)}t(YA,x);YA.prototype.fb=function(){return A(this,1)};function ZA(a){y(this,a,0,-1,$A)}t(ZA,x);var $A=[1];function aB(){this.g={}};function bB(a){this.g=a}bB.prototype.getId=h("g");function cB(){UA.call(this)}t(cB,UA);var dB=new bB("system_builder");cB.prototype.wc=function(a){this.fa.wc(a);B(this.fa,2,a);return this};function eB(a,b){this.A=a;this.F=b;this.B=1;this.v=this.j=null;this.C=new aB;this.g=new TA;this.o=!1}function sz(a,b){var c=new UA,d=new SA,e=a.F;c.fa=d;c.Le=e;dB.getId();dB.getId();d=new cB;e=c.Le;d.fa=c.fa;d.Le=e;b=d.wc(b);a=a.B++;var c=1E3*r(),e=new PA,f=new QA;B(f,1,c);D(e,1,f);B(e,3,1);D(b.fa,8,e);B(b.fa,12,a);B(b.fa,13,a);B(b.fa,4,c);B(b.fa,3,a);return d}
function EA(a){var b=a.g,c=b.g;b.g=[];b=a.A;a=new ZA;var d=Mc(b.g);D(a,2,d);fB(b);(d=b.j?Mc(b.j):null)&&D(a,5,d);for(var e,f,d=c.length-1;0<=d;d--){var g=C(c[d],OA,5);if(g&&C(g,KA,1)){g=C(g,KA,1);n(A(g,12))&&!n(e)&&(e=A(g,12));g=C(g,MA,20);if(n(g)&&!n(f)){f=new jA;var k=A(g,2);n(k)&&B(f,2,k);g=A(g,1);n(g)&&B(f,1,g)}if(n(e)&&n(f))break}}d=b.o?Mc(b.o):null;if(n(e)||n(f))d||(d=new iA),n(e)&&B(d,6,e),n(f)&&D(d,13,f);(e=d)&&D(a,3,e);e=Mc(b.v);D(a,4,e);Dc(a,1,c);return a}
function HA(a,b){a.j=A(b.fa,12);a.v=A(C(C(b.fa,PA,8),QA,1),1)};function gB(){};function hB(){this.g=this.j=null};function iB(){this.g=new YA;this.j=null;this.v=new XA;B(this.v,1,6);this.o=null}function jB(a){null==a.j&&(a.j=new WA);return a.j}function fB(a){null!=A(a.g,1)&&null!=A(a.g,6)&&A(a.g,6)};function kB(){this.v=this.o=null;this.g=new iB;this.j=!1};function lB(a){if(!a)return"";a=a.split("#")[0].split("?")[0];a=a.toLowerCase();0==a.indexOf("//")&&(a=window.location.protocol+a);/^[\w\-]*:\/\//.test(a)||(a=window.location.href);var b=a.substring(a.indexOf("://")+3),c=b.indexOf("/");-1!=c&&(b=b.substring(0,c));a=a.substring(0,a.indexOf("://"));if("http"!==a&&"https"!==a&&"chrome-extension"!==a&&"file"!==a&&"android-app"!==a)throw Error("Invalid URI scheme in origin");var c="",d=b.indexOf(":");if(-1!=d){var e=b.substring(d+1),b=b.substring(0,d);
if("http"===a&&"80"!==e||"https"===a&&"443"!==e)c=":"+e}return a+"://"+b+c};function mB(){function a(){e[0]=1732584193;e[1]=4023233417;e[2]=2562383102;e[3]=271733878;e[4]=3285377520;w=u=0}function b(a){for(var b=g,c=0;64>c;c+=4)b[c/4]=a[c]<<24|a[c+1]<<16|a[c+2]<<8|a[c+3];for(c=16;80>c;c++)a=b[c-3]^b[c-8]^b[c-14]^b[c-16],b[c]=(a<<1|a>>>31)&4294967295;a=e[0];for(var d=e[1],f=e[2],k=e[3],p=e[4],u,w,c=0;80>c;c++)40>c?20>c?(u=k^d&(f^k),w=1518500249):(u=d^f^k,w=1859775393):60>c?(u=d&f|k&(d|f),w=2400959708):(u=d^f^k,w=3395469782),u=((a<<5|a>>>27)&4294967295)+u+p+w+b[c]&4294967295,
p=k,k=f,f=(d<<30|d>>>2)&4294967295,d=a,a=u;e[0]=e[0]+a&4294967295;e[1]=e[1]+d&4294967295;e[2]=e[2]+f&4294967295;e[3]=e[3]+k&4294967295;e[4]=e[4]+p&4294967295}function c(a,c){if("string"===typeof a){a=unescape(encodeURIComponent(a));for(var d=[],e=0,g=a.length;e<g;++e)d.push(a.charCodeAt(e));a=d}c||(c=a.length);d=0;if(0==u)for(;d+64<c;)b(a.slice(d,d+64)),d+=64,w+=64;for(;d<c;)if(f[u++]=a[d++],w++,64==u)for(u=0,b(f);d+64<c;)b(a.slice(d,d+64)),d+=64,w+=64}function d(){var a=[],d=8*w;56>u?c(k,56-u):c(k,
64-(u-56));for(var g=63;56<=g;g--)f[g]=d&255,d>>>=8;b(f);for(g=d=0;5>g;g++)for(var p=24;0<=p;p-=8)a[d++]=e[g]>>p&255;return a}for(var e=[],f=[],g=[],k=[128],p=1;64>p;++p)k[p]=0;var u,w;a();return{reset:a,update:c,digest:d,digestString:function(){for(var a=d(),b="",c=0;c<a.length;c++)b+="0123456789ABCDEF".charAt(Math.floor(a[c]/16))+"0123456789ABCDEF".charAt(a[c]%16);return b}}};function nB(a,b,c){var d=[],e=[];if(1==(Ba(c)?2:1))return e=[b,a],pb(d,function(a){e.push(a)}),oB(e.join(" "));var f=[],g=[];pb(c,function(a){g.push(a.key);f.push(a.value)});c=Math.floor((new Date).getTime()/1E3);e=0==f.length?[c,b,a]:[f.join(":"),c,b,a];pb(d,function(a){e.push(a)});a=oB(e.join(" "));a=[c,a];0==g.length||a.push(g.join(""));return a.join("_")}function oB(a){var b=mB();b.update(a);return b.digestString().toLowerCase()};function pB(a){var b=lB(String(m.location.href)),c=m.__OVERRIDE_SID;null==c&&(c=(new ys(document)).get("SID"));if(c&&(b=(c=0==b.indexOf("https:")||0==b.indexOf("chrome-extension:"))?m.__SAPISID:m.__APISID,null==b&&(b=(new ys(document)).get(c?"SAPISID":"APISID")),b)){var c=c?"SAPISIDHASH":"APISIDHASH",d=String(m.location.href);return d&&b&&c?[c,nB(lB(d),b,a||null)].join(" "):null}return null};function qB(){return!rB()&&(v("iPod")||v("iPhone")||v("Android")||v("IEMobile"))}function rB(){return v("iPad")||v("Android")&&!v("Mobile")||v("Silk")};var sB=!1,tB="";function uB(a){a=a.match(/[\d]+/g);if(!a)return"";a.length=3;return a.join(".")}
(function(){if(navigator.plugins&&navigator.plugins.length){var a=navigator.plugins["Shockwave Flash"];if(a&&(sB=!0,a.description)){tB=uB(a.description);return}if(navigator.plugins["Shockwave Flash 2.0"]){sB=!0;tB="2.0.0.11";return}}if(navigator.mimeTypes&&navigator.mimeTypes.length&&(a=navigator.mimeTypes["application/x-shockwave-flash"],sB=!(!a||!a.enabledPlugin))){tB=uB(a.enabledPlugin.description);return}try{var b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");sB=!0;tB=uB(b.GetVariable("$version"));
return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");sB=!0;tB="6.0.21";return}catch(c){}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),sB=!0,tB=uB(b.GetVariable("$version"))}catch(c){}})();var vB=sB,wB=tB;var xB="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;/*


 JavaScript Zlib and Deflate Library

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var yB;for(yB=0;256>yB;++yB)for(var zB=yB,AB=7,zB=zB>>>1;zB;zB>>>=1)--AB;var BB=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,
2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,
2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,
2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,
3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,
936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];xB&&new Uint32Array(BB);/*


 zlib.heap.js

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
/*


 JavaScript Inflate Library

 The MIT License

 Copyright (c) 2012 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
function CB(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,e,f,g,k,p,u,w,z;for(w=0;w<b;++w)a[w]>c&&(c=a[w]),a[w]<d&&(d=a[w]);d=1<<c;e=new (xB?Uint32Array:Array)(d);f=1;g=0;for(k=2;f<=c;){for(w=0;w<b;++w)if(a[w]===f){p=0;u=g;for(z=0;z<f;++z)p=p<<1|u&1,u>>=1;for(z=p;z<d;z+=k)e[z]=f<<16|w;++g}++f;g<<=1;k<<=1}};var DB=[],EB;for(EB=0;288>EB;EB++)switch(!0){case 143>=EB:DB.push([EB+48,8]);break;case 255>=EB:DB.push([EB-144+400,9]);break;case 279>=EB:DB.push([EB-256+0,7]);break;case 287>=EB:DB.push([EB-280+192,8]);break;default:throw Error("invalid literal: "+EB);}
var FB=function(){function a(a){switch(!0){case 3===a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,
a-31,2];case 42>=a:return[273,a-35,3];case 50>=a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:throw Error("invalid length: "+a);}}var b=[],c,d;for(c=3;258>=c;c++)d=a(c),b[c]=d[2]<<
24|d[1]<<16|d[0];return b}();xB&&new Uint32Array(FB);var GB=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];xB&&new Uint16Array(GB);var HB=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];xB&&new Uint16Array(HB);var IB=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];xB&&new Uint8Array(IB);var JB=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];xB&&new Uint16Array(JB);
var KB=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];xB&&new Uint8Array(KB);var LB=new (xB?Uint8Array:Array)(288),MB,NB;MB=0;for(NB=LB.length;MB<NB;++MB)LB[MB]=143>=MB?8:255>=MB?9:279>=MB?7:8;CB(LB);var OB=new (xB?Uint8Array:Array)(30),PB,QB;PB=0;for(QB=OB.length;PB<QB;++PB)OB[PB]=5;CB(OB);var RB=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];xB&&new Uint16Array(RB);var SB=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];xB&&new Uint16Array(SB);var TB=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];xB&&new Uint8Array(TB);var UB=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];xB&&new Uint16Array(UB);
var VB=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];xB&&new Uint8Array(VB);var WB=new (xB?Uint8Array:Array)(288),XB,YB;XB=0;for(YB=WB.length;XB<YB;++XB)WB[XB]=143>=XB?8:255>=XB?9:279>=XB?7:8;CB(WB);var ZB=new (xB?Uint8Array:Array)(30),$B,aC;$B=0;for(aC=ZB.length;$B<aC;++$B)ZB[$B]=5;CB(ZB);/*


 zlib.js
 JavaScript Zlib and Deflate Library

 The MIT License

 Copyright (c) 2011 imaya

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
*/
var bC=fc?"firefox":gc?"iphone":hc?"ipad":ic?"android":jc?"chrome":kc?"safari":"unknown";function cC(a,b,c){Fj(a.url,function(a){a=a.target;a.Eb()?b():c(a.$())},a.o,a.body,a.j,0,a.g)};function dC(a,b,c,d,e,f,g,k,p){I.call(this);this.O=a;this.N=b||ya;this.o=new sA;this.R=k||cC;this.g=[];this.I="";this.M=c||"https://play.google.com/log?format=json";this.H=d||null;this.B=p||null;this.U=!g;this.A=0;a=new rA;B(a,1,1);b=new qA;c=new pA;B(b,6,v("Android")?3:v("CrOS")?5:v("Windows")?2:v("iPad")?6:Yb()?7:v("iPod")?8:v("Linux")?4:v("Macintosh")?1:0);d=Ub;g="";v("Windows")?(g=/Windows (?:NT|Phone) ([0-9.]+)/,g=(d=g.exec(d))?d[1]:"0.0"):Zb()?(g=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,g=(d=
g.exec(d))&&d[1].replace(/_/g,".")):v("Macintosh")?(g=/Mac OS X ([0-9_.]+)/,g=(d=g.exec(d))?d[1].replace(/_/g,"."):"10"):v("Android")?(g=/Android\s+([^\);]+)(\)|;)/,g=(d=g.exec(d))&&d[1]):v("CrOS")&&(g=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,g=(d=g.exec(d))&&d[1]);B(b,2,g||"");B(b,3,qB()||rB()?rB()?2:qB()?1:0:3);e||(d=window,g=document.documentElement.getAttribute("lang"),B(b,5,g),d=Md(d.location.href,"hl")||d.navigator.language||d.navigator.browserLanguage,B(c,1,d));B(c,2,bC);B(c,3,Ty);vB&&B(c,
4,wB);D(a,11,b);D(a,9,c);D(this.o,1,a);B(this.o,2,this.O);this.C=new Oi(6E4);F(this,this.C);ye(this.C,"tick",ud(this.D),!1,this);f||this.C.start();e||(ye(window,"beforeunload",this.j,!1,this),ye(window,"unload",this.j,!1,this),ye(document,"pagehide",this.j,!1,this))}t(dC,I);dC.prototype.G=function(){this.j();dC.J.G.call(this)};dC.prototype.log=function(a){a=Mc(a);if(!A(a,1)){var b=a,c=r().toString();B(b,1,c)}for(;1E3<=this.g.length;)this.g.shift(),++this.A;this.g.push(a);this.dispatchEvent(new eC)};
dC.prototype.D=function(a,b){if(0==this.g.length)a&&a();else{var c=Mc(this.o);uA(c);Dc(c,3,this.g);B(c,14,this.A);var d={},e=this.N();e&&(d.Authorization=e);var f=this.M;this.H&&(d["X-Goog-AuthUser"]=this.H,f=Jd(f,"authuser",this.H));this.B&&(d["X-Goog-PageId"]=this.B,f=Jd(f,"pageId",this.B));if(e&&this.I==e)b&&b();else{this.g=[];this.A=0;var g=c.ia(),d={url:f,body:g,v:1,j:d,o:"POST",g:this.U},f=q(function(a){var d=Bc(c,mA,3);401==a&&e&&(this.I=e);if(401==a||500<=a&&600>a)this.g=d.concat(this.g);
b&&b()},this);this.R(d,function(){a&&a()},f)}}};dC.prototype.j=function(){this.D()};function eC(){this.type="event-logged"}t(eC,H);function fC(a,b,c,d,e,f){dC.call(this,a,pB,b,c,d,e,void 0,void 0,f)}t(fC,dC);function Kz(){var a=J(),b=Hf(a,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0,a=Jf(a,"gaia_session_id");return new fC(306,b,a||void 0,!(Ga(m)&&m.window==m)||!m.document||!m.document.documentElement,!0)};function Hz(a){this.j=a}Hz.prototype.g=function(a,b){return new R(function(c,d){var e=b?["id",b]:[];dl($k(Zk(cl(Yk(bl(mo(this.j,"/logImpressions"),2).o(e),{impressionBatch:Cc(a)}),c),function(a){d(new wA("e"==a.type&&(!a.j||"e"==a.j)))})))},this)};function gC(a,b,c,d){this.v=a;this.o=b;this.g=c;this.j=d}l=gC.prototype;l.Gf=function(a,b){Zv(this.g.g.he(),q(this.Bi,this,a,b),b)};l.Bi=function(a,b,c){var d=If(J(),"owsprv");c||(c=new Sv(!0));if(d&&c.g.webfontsSyncVersion!=d)d=this.o,a=q(this.mj,this,a,b,c),a=q(d.v,d,a,b),bw(d.j.Lb(),a,b);else{d=[];c=new S;du(this.g.g.g,null,q(this.bj,this,c),b);d.push(c);if(c=this.g.g.ie()){var e=new S;tw(c,q(this.cj,this,e),b);d.push(e)}(new pn(d)).T(q(this.vl,this,a,b))}};
l.mj=function(a,b,c){a=q(this.Gf,this,a,b);var d=If(J(),"owsprv")||0;Y(c,"webfontsSyncVersion",d);this.g.write([c],a,b)};l.bj=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=hC(this,b[d]);e&&c.push(e)}a.K(c)};l.cj=function(a,b){var c=[],d;for(d in b)c.push(Qb(b[d].g.fontFamilies));a.K(c)};function hC(a,b){b=yq(b,"startupHints");if(!b)return null;b=b.fontFamilies;if(!b)return null;try{return oc(b)}catch(c){return Ln(a.j,Error("Cannot parse font families on startup hints")),null}}
l.vl=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];f[0]&&d.push(f[1])}d=Eb(d);Bb(d);c=this.v;d=yb(d);zb(d,c.g);c.o&&(e=iC(c,jC),zb(d,e),e=iC(c,kC),zb(d,e));Bb(d);a=q(c.X,c,a,b,d,!0);lC(c.A,["fonts"],"file",a)};function mC(a,b){this.g=a;this.j=!!b}mC.prototype.getId=h("g");function nC(a){this.g=a}nC.prototype.na=h("g");function oC(a){return"Font|"+a.g};function Uz(a,b,c){E.call(this);this.o=a;this.j=b;this.g=c}t(Uz,E);
Uz.prototype.fetch=function(a,b){a=this.o.filter(a);for(var c=[],d=0;d<a.length;d++)c.push(new mC(new nC(a[d]),b));b=this.j;a=[];for(var d=[],e=0;e<c.length;e++){var f=oC(c[e].getId()),g=b.g[f];g?g=g.Wb().T(q(b.zk,b,c[e].getId())):(a.push(c[e]),b.g[f]=g=new S);d.push(g)}c=new S;U(new pn(d),q(b.Yk,b,c),q(c.P,c));pC(b);if(a.length){d=b.B.fetch(a);e=[];for(f=0;f<a.length;f++)e.push(a[f].getId());U(d,q(b.Cj,b),q(b.le,b,"Entire fetch failed",e),b)}c.T(this.g.g,this.g);return c};function Vz(a,b,c,d){this.o=a;this.g=c;this.j=d}Vz.prototype.filter=function(a){for(var b=[],c=0;c<a.length;c++){var d=!!this.g&&this.g.Lt(a[c]),d=this.j||!d;!this.o.g[a[c].toLowerCase()]&&d&&b.push(a[c])}return b};function qC(a,b,c){this.o=a;this.j=b;this.g=c}qC.prototype.getId=h("o");function rC(a,b,c,d){this.o=a;this.j=b;this.g=c;this.v=!!d}rC.prototype.getId=h("o");function sC(a,b,c,d,e){this.v=a;this.j=b;this.o=c;this.A=d;this.g=e}sC.prototype.na=h("v");sC.prototype.getStyle=h("o");function tC(a,b,c){this.o=a;this.j=b;this.g=c}tC.prototype.getUrl=h("o");function uC(a,b){if(!Lb(vC,a[0]))throw Error("The keyPath should contain a valid type in its first field.");this.g=a;this.o=b}var vC={zs:"syncMap"};uC.prototype.L=function(){return this.g[0]};function wC(a,b,c){this.g=a;this.j=b;this.o=c};function xC(a){for(var b=a.sources,c=[],d=0;d<b.length;d++)c.push(new tC(b[d].url,!!b[d].isLocal,b[d].format));return new sC(a.fontFamily,!!a.menuFont,a.style,a.weight,c)};function yC(a,b,c){this.g=a;this.j=b;a={};for(var d in this.g){b=this.g[d];for(var e=0,f;f=b[e];e++)for(var g=0,k;k=f.g[g];g++)if(!k.j){var p=k.getUrl(),u=zC[k.g],w;w=(new pi(p)).j.get("kit");w||(w=this.j+"\\/([^/.&]+)"+u+"$",w=(w=p.match(w))&&2==w.length?w[1]:null);w||(w="(persistent\\/docs\\/fonts\\/)([^/.]+)("+u+")?$",w=(w=p.match(w))&&4==w.length?w[2]:null);if(!w&&(-1!=p.indexOf("file:///")||-1!=p.indexOf("LOCALFILE:"))){var z=p.split("/"),z=z[z.length-1].split(".");2==z.length&&"."+z[1]==u&&
(w=z[0])}a[p]=w?w+(u||""):null;u||c.log(Error("Missing font file extension for format "+k.g))}}this.o=a}var zC={truetype:".ttf","embedded-opentype":".eot",svg:".svg",swf:".swf",woff:".woff",woff2:".woff2"};yC.prototype.Ab=function(a){return this==a?!0:!!a&&a instanceof yC&&this.j==a.j};function AC(a,b,c){uC.call(this,a,b);if("syncMap"!=a[0])throw Error("SyncMap constructed with wrong type.");this.j=c}t(AC,uC);AC.prototype.get=function(a){return this.j[a]};AC.prototype.set=function(a,b){this.j[a]=b};var jC=["syncMap","applicationFonts"],kC=["syncMap","preferences"].concat(["docs-fonts"]);function BC(a,b){for(var c=a.na(),d=Et(a),e=[],f=0;f<d.length;f++){for(var g=d[f],k=[],p=0;p<g.g.length;p++){var u=g.g[p];k.push(new tC(u.getUrl(),u.g,u.j))}p=g.na();e.push(new sC(p,g.j,g.getStyle(),g.A,k))}d={};d[c]=e;return new yC(d,a.g.version,b)}var CC=/\/fonts\/([^/]+)$/;function DC(a){return(a=a.match(CC))?a[1]:null};function EC(){this.g={}}EC.prototype.get=function(a){return this.g[a]||null};EC.prototype.set=function(a,b){this.g[a]=b};function Pz(a,b,c,d,e){this.A=a;this.j=b;this.v=c;this.o=d;this.g=e||new EC}l=Pz.prototype;l.fetch=function(a){if(a.j)return a=new S,a.P(),a;a=a.getId();var b=a.na(),c=new S,d=this.g.get(b);d?c.K(new qC(a,d,"sync-not-needed")):dw(this.A,[b],q(this.Dj,this,a,c),q(c.P,c,"Failed to read fontmetadata for "+b));return c};l.Dj=function(a,b,c){c&&c[0]?(c=BC(c[0],this.o),this.g.set(a.na(),c),b.K(new qC(a,c,"sync-not-needed"))):b.P("Failed to read fontmetadata.")};
l.Ia=function(a){if(!this.j.j)return Ah(a);for(var b=a.j,c=a.getId(),c=b.g[c.na()],d={},e=b.o,f=new S,g=0;g<c.length;g++)for(var k=c[g].g,p=0;p<k.length;p++){var u=k[p];if(!u.j){var w=e[u.getUrl()];if(!w)return f.P("Bad url "+u.getUrl()),f;d[w]=new rC(w,u.getUrl(),"")}}this.v.g(d,["fonts"],!1,q(this.mk,this,a,f,b));return f};
l.mk=function(a,b,c,d){if(0<d.ad||0<d.Gc||0<d.ad||0<d.Gc)b.K(a);else{var e=Qb(c);a=a.getId();var f=e.g[a.na()];c=c.o;for(var g=0;g<f.length;g++)for(var k=f[g].g,p=0;p<k.length;p++){var u=k[p],w=c[u.getUrl()];if(!u.j&&w){w=d.v[w];if(!w)throw Error("Null local url for font file");k[p]=new tC(w,!1,u.g)}}var z;a:{for(z in e.g){d=[];f=e.g[z];for(c=0;c<f.length;c++){g=f[c];k=[];for(p=0;p<g.g.length;p++)u=g.g[p],k.push(new Ft(u.g,u.j,u.getUrl()));d.push(new Gt(g.na(),g.j,g.getStyle(),g.A,k))}z=new Ct(z,
e.j,d,!0);break a}throw Error("Can not create FontMetadata from invalid record");}this.j.write([z],q(this.Gj,this,a,b,e),q(b.P,b,"Failed to write updated fontMetadata for "+a.na()))}};l.Gj=function(a,b,c){this.g.set(a.na(),c);b.K(new qC(a,c,"sync-not-needed"))};function FC(a,b){for(var c={},d=0;d<a.length;d++){var e=oC(a[d].getId());c[e]=!0}for(d=0;d<b.length;d++)if(c[oC(b[d])])throw Error("A fetch request can not be both successful and unsuccessful.");this.g=a;this.j=b};function Oz(a,b,c,d){this.v=a;this.o=b;this.j=d||null;this.g=new GC;if(c){a=HC(c,this.o).g;for(var e in a)IC(this.g,a[e])}}Oz.prototype.fetch=function(a){for(var b=[],c=[],d=[],e=0;e<a.length;e++){var f=a[e].getId();b.push(f);var g=f.na(),k=this.g.get(g);k?d.push(new qC(f,k,"sync-needed")):c.push(g)}a=new S;c.length?this.v&&(b=Xk(Zk(cl(bl(mo(this.v,"/font/getmetadata"),2),q(this.A,this,a,b,d)),q(this.B,this,a,c)),["families",c.join(",")]),this.j&&b.o("id",this.j),dl(b)):a.K(new FC(d,[]));return a};
Oz.prototype.A=function(a,b,c,d){if(d=d.Ka()){var e=HC(d,this.o).g;d={};for(var f=0;f<b.length;f++){var g=b[f].na();d[g]=!1;if(g=e[g])IC(this.g,g),c.push(new qC(b[f],g,"sync-needed"))}for(f=0;f<c.length;f++)g=c[f].getId().na(),d[g]=!0;e=[];for(f=0;f<b.length;f++)d[b[f].na()]||e.push(b[f]);a.K(new FC(c,e))}else a.P("No font response object.")};Oz.prototype.B=function(a,b,c){a.P(Error("Error fetching font metadata, http status code:"+c.g+", fonts: "+b.join(",")))};function JC(a){this.g=a}
function HC(a,b){var c={};a=a.fontMetadataMap||{};for(var d in a){for(var e=a[d],f={},g=f,k=d,p=[],u=e.fontFaces,w=0;w<u.length;w++)p.push(xC(u[w]));g[k]=p;c[d]=new yC(f,e.version,b)}return new JC(c)}function GC(){this.g={}}GC.prototype.get=function(a){return this.g[a]||null};function IC(a,b){var c=b.g,d;for(d in c)a.g[d]=b};var KC="Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";"),LC={ar:"Arabic Typesetting;Sakkal Majalla;Simplified Arabic;Traditional Arabic;Al Bayan;Baghdad;DecoType Naskh;KufiStandardGK;Nadeem".split(";"),hi:["Aparajita","Kokila","Mangal","Utsaah","Devanagari MT"],iw:"Aharoni;David;FrankRuehl;Gisha;Levenim MT;Miriam;Narkisim;Rod;Arial Hebrew;Corsiva Hebrew;New Peninim MT;Raanana".split(";"),ja:"Meiryo;MS Gothic;MS Mincho;MS PGothic;MS PMincho;HiraMaruPro-W4;HiraMinPro-W3;HiraKakuPro-W3;HiraMaruProN-W4;HiraMinProN-W3;HiraKakuProN-W3".split(";"),
ko:"Batang;Batangche;Dotum;Dotumche;Gulim;Gulimche;Gungsuh;Malgun Gothic;GungSeo;HeadLineA;PCMyungjo;Pilgi".split(";"),th:"Angsana New;AngsanaUPC;Browallia New;BrowalliaUPC;Cordia New;CordiaUPC;DilleniaUPC;EucrosiaUPC;FreesiaUPC;IrisUPC;JasmineUPC;KodchiangUPC;Leelawadee;LilyUPC;TH Sarabun PSK;TH SarabunPSK;Ayuthaya;Krungthep;Sathu;Silom;Thonburi;Sarabun;TH Sarabun OFL".split(";"),"zh-cn":"SimSun;SimSun-ExtB;SimHei;NSimSun;Microsoft Yahei;FangSong;KaiTi;Hei;Heiti SC;Kai;STFangsong;STHeiti;STKaiti;STsong".split(";"),
"zh-tw":"PMingLiu;PMingLiu-ExtB;MingLiu;MingLiu-ExtB;Microsoft JhengHei;DFKai-SB;BiauKai;Heiti TC;LiHei Pro;LiSong Pro".split(";")};function MC(a){this.g={};for(var b=0;b<a.length;b++){var c=a[b];this.g[c.toLowerCase()]=c}}function Nz(){var a=KC,b;for(b in LC)a=a.concat(LC[b]);return new MC(a)};function NC(a){this.g={};if(a)for(var b=0;b<a.length;b++)this.g[OC(a[b])]=null}var PC={};function OC(a){return a in PC||32==String(a).charCodeAt(0)?" "+a:a}function QC(a){return 32==a.charCodeAt(0)?a.substr(1):a}function RC(a,b){for(var c=0;c<b.length;c++)a.g[OC(b[c])]=null}l=NC.prototype;l.clone=function(){var a=new NC,b;for(b in this.g)a.g[b]=null;return a};l.contains=function(a){return OC(a)in this.g};l.Ab=function(a){return SC(this,a)&&SC(a,this)};
l.forEach=function(a,b){for(var c in this.g)a.call(b,QC(c),void 0,this)};l.aa=Object.keys?function(){return Object.keys(this.g).length}:function(){var a=0,b;for(b in this.g)a++;return a};l.ga=Object.keys?function(){return Object.keys(this.g).map(QC,this)}:function(){var a=[],b;for(b in this.g)a.push(QC(b));return a};l.ba=function(){for(var a in this.g)return!1;return!0};function SC(a,b){for(var c in a.g)if(!(c in b.g))return!1;return!0}
function TC(a,b){for(var c=0;c<b.length;c++)delete a.g[OC(b[c])]}l.Ub=function(){return rg(this.ga())};function UC(a,b){this.j=a;this.o=b}UC.prototype.v=function(a,b,c){VC(this,a,b,Ib(c))};function VC(a,b,c,d){for(var e=[],f=0;f<d.length;f++){xq(d[f]);for(var g=[],k=Et(d[f]),p=0;p<k.length;p++)for(var u=k[p].g,w=0;w<u.length;w++){var z=u[w];z.g||(z=DC(z.getUrl()))&&g.push(z)}zb(e,g)}a.j.write(d,q(a.g,a,b,c,e),c)}UC.prototype.g=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=new S,g=this.o,k=q(f.K,f),p=q(f.P,f);U(ql(g.qb,WC(["fonts"],c[e])),q(g.Bg,g,k,p),q(g.Be,g,k,p));d.push(f)}U(qn(d),a,b)};function XC(){E.call(this)}t(XC,E);function YC(a,b,c){var d=[],e=new S,f=new S;wh(e,f);e.T(Ma(c,d));lC(a,b,"file",function(a){if(a)for(var c=0;c<a.length;c++)d.push(new ZC(a[c],b));e.K()});lC(a,b,"directory",q(function(a){if(a&&a.length)for(var c=a.length,e=0;e<a.length;e++)YC(this,b.concat(a[e]),function(a){c--;zb(d,a);0==c&&f.K()});else f.K()},a))}function ZC(a,b){this.id=a;this.g=b}function $C(a,b){Qa.call(this,a);this.type=b}t($C,Qa);function aD(a,b,c,d,e,f,g,k){this.F=a;this.j=b;this.C=c;this.B=d;this.g=e;this.A=f;this.v=g;this.o=k}function iC(a,b){a=a.o.get(b);b=[];for(var c=0;c<a.length;c++){var d;d=a[c];if("syncMap"!=d.L())d=[];else{var e=d.g;d=Cb(jC,e.slice(0,jC.length))?d.get("value")||[]:Cb(kC,e.slice(0,kC.length))?d.get("familyList")||[]:[]}zb(b,d)}return b}aD.prototype.X=function(a,b,c,d,e){e=e||[];bw(this.F,q(this.D,this,a,b,c,d,e),b)};
aD.prototype.D=function(a,b,c,d,e,f){var g=new NC(this.g);RC(g,c);if(d){c=g.aa();for(var k=Jb(f),p=k.length-1;0<=p&&!(60<=c);p--){var u=k[p];g.contains(u)||(g.g[OC(u)]=null,c++)}}else RC(g,Jb(f));g=g.ga();c=[];for(k=0;k<g.length;k++)c.push(new mC(new nC(g[k])));U(this.C.fetch(c),q(this.H,this,a,b,g,d,e,f),b)};
aD.prototype.H=function(a,b,c,d,e,f,g){var k=g.g;g={};for(var p=0;p<k.length;p++){var u=k[p].j,w=k[p].getId();g[w.na()]=u}u=new NC(c);w=new NC(e);p=[];k=[];c={};for(var z in f)if(d&&!u.contains(z))p.push(f[z]),delete f[z];else{var T=BC(f[z],this.v);c[z]=T;var T=T.o,W;for(W in T)if(T=DC(W),!w.contains(T)){k.push(z);break}}d=new S;VC(this.j,q(d.K,d),q(d.P,d),p);for(z in g)T=c[z],f=g[z],T&&T.Ab(f)||k.push(z);f=this.B.fetch(k,!0);d=qn([f,d]);f={};for(z in g)f[z]=g[z];for(z in c)f[z]=c[z];U(d,q(this.S,
this,a,b,f,e),b)};aD.prototype.S=function(a,b,c,d){var e=this.j;if(d){var f=[],g;for(g in c){var k=c[g].o,p;for(p in k)f.push(k[p])}c=new NC(d);TC(c,f);e.g(a,b,c.ga())}else b(Error("No filesystem font files provided."))};Na(aa().prototype,aa().prototype);function bD(a){this.j=!!a}bD.prototype.g=function(a,b,c,d){a=c.url;var e=zd(m.location.href);zd(a)!=e&&(a=Jd(a,"cb",e));e=c.entityType;b="drawing"==e&&this.j&&n(c.drawingRevision)?b+"_"+c.drawingRevision:b;d[b]=new rC(b,a,e,"image"==e)};function cD(a,b){var c=null,d=null;if(a.match("^data:")){c=a.split(",",2);d=c[0].split(";");if(!d||2>d.length||"base64"!=d[d.length-1])return Bh(Error("data URIs must be base64-encoded: "+a));d=d[0].split(":");d=2==d.length?d[1]:null;if(!d)return Bh(Error("data URIs must have mime type: "+a));c=c[1]}if(c&&d){a=m.atob(c);b=d;d=new Uint8Array(a.length);for(c=0;c<a.length;c++)d[c]=a.charCodeAt(c);return Ah(new Blob([d],{type:b}))}d=new S;b=b?b():new Bj;ye(b,"complete",Ma(dD,d));Gj(b,2E4);b.B="blob";
b.send(a,"GET");return d}function dD(a,b){b=b.target;var c=null,d=null;if(b.Eb()){if(c=Nj(b),null==c||0==c.size)d=Error("Invalid Blob response for URL "+String(b.I))}else d=Error(Da(b.A)?b.A:String(b.A));d?a.P(d):a.K(c);b.V()};function eD(a,b,c,d){E.call(this);this.j=b||null;this.v=c||"docs";this.o=n(d)?d:m.PERSISTENT;this.g=a}t(eD,XC);l=eD.prototype;l.qb=null;function fD(a,b,c){var d=new $s(q(a.lk,a,"initialize"),3E4,document);d.start();U(th(gD(a),function(){d.V()}),q(a.Fj,a,b,c),q(a.Ae,a,c,"initialize"))}function gD(a){switch(a.o){case m.PERSISTENT:return yl(1);case m.TEMPORARY:return yl(0);default:throw Error("Cannot handle Filesystem type: "+a.o);}}l.Ae=function(a,b,c){b=hD(b,c);Ln(this.g,b);a(b)};
l.Ya=function(a,b,c,d){a=hD(a,d);c&&ub(c,d.name)||Ln(this.g,a);this.j&&this.j(a);b(a)};l.dg=function(a,b,c,d){(b=b.getError())?this.Ya(a,c,null,b):d()};l.lk=function(a,b){var c={requestTimeout:3E4};c.timeoutDelays=b.g.concat().toString();Ln(this.g,Error("Filesystem slowness, took 30000ms during "+a),c)};function hD(a,b){return new $C("Filesystem error ("+b.name+") during "+a,"QuotaExceededError"==b.name?"QuotaExceeded":"Other")}
l.Fj=function(a,b,c){U(tl(new pl(c,c.g.root),this.v,2),Ma(this.yj,a,b),Ma(this.Ae,b,"handleFileSystemAvailable_"),this)};l.yj=function(a,b,c){this.qb=c;U(ql(c,"__initcheck",2),a,q(this.Ae,this,b,"handleDirectoryEntryAvailable_"))};function WC(a,b){(a=a.join("/"))&&(a+="/");b&&(a+=b);return a}l.df=function(a,b,c,d,e,f){if(0==b.length)U(cD(c),q(this.Ti,this,a,d,e),e);else{var g=b.shift();a=q(this.df,this,a,b,c,d,e);U(tl(f||this.qb,g,2),a,q(this.Ya,this,"addFileToDirectory_",e,null))}};
l.Ti=function(a,b,c,d){b=q(this.Cl,this,d,b,c);U(ql(this.qb,a,2),b,q(this.Ya,this,"handleBlobReady_",c,null))};l.Cl=function(a,b,c,d){U(wl(d),q(this.Ei,this,a,b,c,d.g.toURL(void 0)),q(this.Ya,this,"writeDataToFile_",c,null))};l.Ei=function(a,b,c,d,e){a=q(this.Dl,this,a,b,c,d,e);c=q(this.dg,this,"clearAndWriteDataToWriter_",e,c,a);re(e.v,"writeend",c,!0,void 0,void 0);try{e.o.truncate(0)}catch(f){throw new gl(f,"truncating file");}};
l.Dl=function(a,b,c,d,e){b=q(this.dg,this,"writeDataToWriter_",e,c,Ma(b,d));re(e.v,"writeend",b,!0,void 0,void 0);e.write(a)};l.tk=function(a,b,c){"NotFoundError"==c.name?b():this.Ya(a,b,null,c)};l.yi=function(a,b){U(nl(b),q(function(c){0<c.size?a(b.g.toURL(void 0)):(Ln(this.g,Error("Found a zero byte file:"+b.g.name)),a(null))},this),q(this.Ya,this,"callWithUrlFromFileEntry_",Ma(a,!1),null))};
function lC(a,b,c,d){var e="getDirectoryContents of directory ["+b+"]";U(tl(a.qb,WC(b)),q(a.hj,a,c,d),q(a.Ya,a,e,function(){d(null)},["NotFoundError"]))}l.hj=function(a,b,c){U(ul(c),q(this.zj,this,a,b),q(this.Ya,this,"getDirectoryContents_",function(){b(null)},null))};l.zj=function(a,b,c){for(var d=[],e=0;e<c.length;e++){var f=c[e];("all"==a||"file"==a&&f.g.isFile||"directory"==a&&f.g.isDirectory)&&d.push(f.g.name)}b(d)};
l.Be=function(a,b,c){"NotFoundError"==c.name?a():this.Ya("handleRemoveFileFailed_",b,null,c)};l.Bg=function(a,b,c){U(ol(c),a,q(this.Ya,this,"removeFileEntry_",b,null))};l.jl=function(a,b,c){U(vl(c),a,q(this.Ya,this,"removeDirectory_",b,null))};l.G=function(){eD.J.G.call(this);delete this.qb};function iD(a,b,c,d,e){E.call(this);this.g=a;this.j=b;this.B=d;this.C=e;this.v={};this.o=c;this.A=Hb(this.j)}t(iD,E);l=iD.prototype;l.Pg=0;l.ad=0;l.be=0;l.zf=0;l.Gc=0;l.start=function(){this.B?YC(this.g,this.o,q(this.ll,this)):jD(this)};l.ll=function(a){if(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];this.j[d.id]||b.push(d)}if(b.length)for(this.be+=b.length,a=0;a<b.length;a++){var c=b[a],d=this.g,e=q(this.ej,this),f=q(this.dj,this);U(ql(d.qb,WC(c.g,c.id)),q(d.Bg,d,e,f),q(d.Be,d,e,f))}}jD(this)};
function jD(a){if(0==a.A)kD(a);else{var b=Hf(J(),"docs-localstore-sefr"),c;for(c in a.j){var d=a.j[c];if(d.j)if(b&&d.v){var e=a.g,f=q(a.Ej,a,c,d);U(ql(e.qb,WC(a.o.concat(d.g),c)),q(e.yi,e,f),q(e.tk,e,"getFileUrl",Ma(f,null)))}else lD(a,c,d);else a.oe(c,null)}}}l.Ej=function(a,b,c){c?this.oe(a,c):lD(this,a,b)};function lD(a,b,c){var d=a.o.concat(c.g),e=q(a.oe,a,b),f=q(a.fj,a);a.g.df(WC(d,b),d.concat(),c.j,e,f)}l.oe=function(a,b){this.v[a]=b;this.Pg++;kD(this)};l.fj=function(){this.ad++;kD(this)};
l.ej=function(){this.zf++;kD(this)};l.dj=function(){this.Gc++;kD(this)};function kD(a){var b=a.zf+a.Gc;a.A==a.Pg+a.ad&&a.be==b&&a.C(a)}l.G=function(){iD.J.G.call(this);delete this.g;delete this.j};function mD(a){this.j=a}mD.prototype.g=function(a,b,c,d){(new iD(this.j,a,b,c,d)).start()};function nD(a){this.g=a}function oD(a,b,c,d){function e(a){d("Could not remove metadata files for "+b+": "+a)}U(a.g,function(a){U(tl(a.qb,WC(["documents",b])),q(a.jl,a,c,e),q(a.Be,a,c,e))},e)}function rx(a,b,c,d){U(a.g,q(function(a){lC(a,["documents"],"directory",q(function(a){a&&0!=a.length?pD(this,b,q(function(b){var e=new NC(a);TC(e,b);b=e.ga();0==b.length?c():this.j(b,c,d)},this),d):c()},this))},a),d)}
function pD(a,b,c,d){qD(b,q(function(a){du(b.g.g,a,function(a){for(var b=[],d=0;d<a.length;d++)b.push(a[d].getId());c(b)},function(){d("Could not read documents for user: "+a)})},a),d)}function qD(a,b,c){Mv(a.jc(),function(a){1==a.length?b(a[0].getId()):c("There should be exactly 1 user.")},function(){c("Could not read users from storage.")})}nD.prototype.j=function(a,b,c){if(0==a.length)b();else{var d=a.pop(),e=q(this.j,this,a,b,c);oD(this,d,e,function(){e()})}};function rD(a){this.g=a};function sD(){this.o=[];this.j=null}za(sD);sD.prototype.g=function(a,b,c,d){this.j?this.j.g(a,b,c,d):this.o.push(q(this.g,this,a,b,c,d))};function tD(a){this.g=a}tD.prototype.j=function(){return["fontFamilies"]};tD.prototype.o=function(a,b){var c=new S;if((b=b.fontFamilies)&&b.length){b=qc(b);Gq(a,"startupHints","fontFamilies",b);b=this.g;var d=q(c.K,c),e=q(c.P,c)||ya,f;a=(yq(a,"startupHints")||{}).fontFamilies;try{f=a?oc(a):[]}catch(g){f=[]}f.length?U(b.fetch(f),d,e):d()}else c.K();return c};function uD(a){this.g=a}uD.prototype.j=h("g");uD.prototype.o=function(a,b){for(var c=0;c<this.g.length;c++){var d=this.g[c];null!=b[d]&&Gq(a,"startupHints",d,b[d])}return Ah()};function vD(a){this.g={};for(var b=0;b<a.length;b++)for(var c=a[b],d=c.j(),e=0;e<d.length;e++){var f=d[e];if(this.g[f])throw Error("Key "+f+" registered in multiple StartupHintProcessors");this.g[f]=c}}function wD(a,b,c){var d=[],e;for(e in c)if(a.g[e]){var f={};f[e]=c[e];f=a.g[e].o(b,f);d.push(f)}return qn(d)};function Sz(a){this.g=a.concat()}Sz.prototype.fetch=function(a){a=a.concat();var b=new S,c=[];U(this.g[0].fetch(a),q(this.o,this,a,c,b,0),q(this.j,this,a,c,b,0));return b};Sz.prototype.o=function(a,b,c,d,e){var f=e.g;e={};for(var g=0;g<f.length;g++)e[oC(f[g].getId())]=f[g];b=b.concat(f);for(f=0;f<a.length;f++)oC(a[f].getId())in e&&(Array.prototype.splice.call(a,f,1),f--);0==a.length?c.K(new FC(b,[])):this.j(a,b,c,d)};
Sz.prototype.j=function(a,b,c,d){if(d==this.g.length-1){d=[];for(var e=0;e<a.length;e++)d.push(a[e].getId());c.K(new FC(b,d))}else U(this.g[d+1].fetch(a),q(this.o,this,a,b,c,d+1),q(this.j,this,a,b,c,d+1))};function xD(a){this.o=a;this.g=null;this.j=[];this.o.T(this.v,this)}xD.prototype.v=function(a){this.g=a;for(a=0;a<this.j.length;a++){var b=this.j[a];vh(this.fetch(b.j),b.g)}};xD.prototype.fetch=function(a){if(!this.o.g){var b=new S;this.j.push(new yD(b,a));return b}return this.g?this.g.fetch(a):(b=new S,b.P(),b)};function yD(a,b){this.g=a;this.j=b};function zD(a){this.g=a}zD.prototype.fetch=function(a){for(var b=[],c=0;c<a.length;c++)b.push(this.g.fetch(a[c]));var d=new S;(new pn(b)).T(function(b){for(var c=[],e=[],k=0;k<b.length;k++){var p=a[k].getId();b[k][0]?c.push(b[k][1]):e.push(p)}d.K(new FC(c,e))});return d};function Tz(a){var b=new S;a.T(function(a){null==a?b.K(null):b.K(new zD(a))});return new xD(b)};function AD(a){I.call(this);this.value=a}t(AD,I);function BD(a){H.call(this,"T",a)}t(BD,H);function CD(a){AD.call(this,a)}t(CD,AD);function Rz(a,b,c,d){this.B=a;this.o=null;this.A=b;this.g={};this.j=[];this.C=new CD(!0);this.v=!!d;this.A.T(this.Tj,this)}l=Rz.prototype;l.Tj=function(a){this.o=a;a=this.j;this.j=[];DD(this,a)};l.zk=function(a,b){return new qC(a,b.j,b.g)};l.Cj=function(a){var b=a.g;a=a.j;a.length&&this.le(0,a);a=[];for(var c=0;c<b.length;c++){var d=b[c];switch(d.g){case "sync-needed":a.push(d);break;case "sync-needed-non-blocking":a.push(d);this.Ad(d);break;case "sync-not-needed":this.Ad(d)}}DD(this,a)};
function DD(a,b){if(a.A.g)if(a.o)for(f=0;f<b.length;f++){var c=b[f],d=a.o.Ia(c),e;"sync-needed"==c.g?(e=q(a.Ad,a),c=q(a.le,a,"Local syncing of remote resource failed",[c.getId()])):(e=ya,c=q(a.vk,a,"Local non-blocking syncing of remote resource failed",[c.getId()]));U(d,e,c)}else for(var f=0;f<b.length;f++){var c=b[f];"sync-needed"==c.g&&a.Ad(b[f])}else a.j=a.j.concat(b)}l.Ad=function(a){var b=oC(a.getId()),c=this.g[b];delete this.g[b];c.K(a);pC(this)};
l.Yk=function(a,b){for(var c={},d=[],e={},f=0;f<b.length;f++){var g=b[f];g[0]?(g=g[1],this.v?d.push(g):c[oC(g.getId())]=g):(g=g[1],e[oC(g)]=g)}this.v||(d=Ib(c));a.K(new FC(d,Ib(e)))};l.vk=aa();l.le=function(a,b){for(a=0;a<b.length;a++){var c=oC(b[a]),d=this.g[c];delete this.g[c];d.P(b[a])}pC(this)};function pC(a){var b=a.C;a=!Jb(a.g).length;b.value!=a&&(b.value=a,b.dispatchEvent(new BD(b)))};function Wz(){}Wz.prototype.g=ya;function ED(a){this.j=void 0;this.g={};if(a){var b=Bg(a);a=Ag(a);for(var c=0;c<b.length;c++)this.set(b[c],a[c])}}l=ED.prototype;l.set=function(a,b){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);c.g[e]||(c.g[e]=new ED);c=c.g[e]}c.j=b};l.get=function(a){a:{for(var b=this,c=0;c<a.length;c++)if(b=b.g[a.charAt(c)],!b){a=void 0;break a}a=b}return a?a.j:void 0};l.ga=function(){var a=[];FD(this,a);return a};function FD(a,b){void 0!==a.j&&b.push(a.j);for(var c in a.g)FD(a.g[c],b)}
l.va=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var e=a.charAt(d);if(!c.g[e])return[];c=c.g[e]}GD(c,a,b)}else GD(this,"",b);return b};function GD(a,b,c){void 0!==a.j&&c.push(b);for(var d in a.g)GD(a.g[d],b+d,c)}l.zb=function(a){if(this.j===a)return!0;for(var b in this.g)if(this.g[b].zb(a))return!0;return!1};l.clone=function(){return new ED(this)};l.aa=function(){return zg(this.ga())};l.ba=function(){return void 0===this.j&&Ob(this.g)};function HD(a,b,c){this.g=a;this.o=b;this.j=c}HD.prototype.write=function(a,b,c){if(this.g.j){for(var d=[],e=0;e<a.length;e++){var f=a[e],g=new It(!0,f.g,f.o),k=g;a:switch(f.L()){case "syncMap":f=f.j;break a;default:throw Error("Unsupported sync object type: "+f.L());}Y(k,"data",f);d.push(g)}this.g.write(d,b,c)}};
HD.prototype.v=function(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=Qb(e.g.keyPath)[0];switch(f){case "syncMap":c.push(new AC(Qb(e.g.keyPath),Jt(e),e.g.data));break;default:this.j.log(Error("Unsupported sync object type in database: "+f))}}a(c)};function ID(a,b,c){this.B=a;this.o=null;this.j=new ED;this.g=new S;this.g.T(q(this.F,this));this.v=c||null;this.A=!b;if(b){a=[];for(c=0;c<b.length;c++){var d=b[c],e=d.keyPath,f=d.state,d=d.data;if(!e||!f||!d)throw Error("Serialized SyncUpdate missing required key.");if(!e.length)throw Error("SyncUpdate key may not be empty.");a.push(JD(this,new wC(e,f,d)))}this.g.K()}}ID.prototype.F=function(){this.v&&this.v.j("soa")};
ID.prototype.get=function(a){var b=[];a=this.j.va(KD(a));for(var c=0;c<a.length;c++)b.push(this.j.get(a[c]));return b};function JD(a,b){var c=b.g[0];switch(c){case "syncMap":return c=b.g,b=new AC(c,b.j,b.o),a.j.set(KD(c),b),b;default:throw Error("Unknown sync object type: "+c);}}function KD(a){return 0<a.length?a.join("|")+"|":""}ID.prototype.C=function(a){for(var b=0;b<a.length;b++){var c=a[b];this.j.set(KD(c.g),c)}this.g.K()};function LD(){}LD.prototype.Ia=function(a,b,c,d,e,f){var g=new E,k={},p=new Iq(b,c,a);F(g,p);k.storage=p;k.so=!0;k.kd=d;return bh(pq(k).then(e,f),function(){p.V()})};function MD(a,b,c,d){this.v=a;this.B=b;this.A=c;this.o=d;this.j={};this.g={}}MD.prototype.C=function(a){for(var b={},c=0;c<a.length;c++)if(a[c][0]&&a[c][1]){var d=a[c][1];b[d]=this.j[d]}return b};MD.prototype.S=function(a){a=a.Ka();for(var b in a){this.j[b]=a[b];for(var c=this.g[b],d=0;d<c.length;d++)c[d].K(b);delete this.g[b]}};MD.prototype.F=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],d=this.g[c],e=0;e<d.length;e++)d[e].P();delete this.g[c]}};function ND(a,b,c,d,e,f){dl(cl(Yk(mo(d,"/createphoto").o("id",a),b),function(a){var b=a.Ka();if(a=b.imageError){a:switch(a){case 2:case 3:b="The selected image is too large.";break a;case 4:case 5:case 6:case 7:case 8:b="The selected image is in an unsupported format.";break a;default:b="There was a problem retrieving the specified image."}f(c,a,b)}else e(c,b.imageId,b.width,b.height,void 0)}))};function OD(a,b,c){if(!!b==!!c)throw Error("Must have cosmo id xor error.");this.g=b;this.j=c}OD.prototype.qe=h("g");OD.prototype.getError=h("j");function PD(a){H.call(this,"U");this.g=a}t(PD,H);function QD(a,b,c,d,e,f){this.v=a;this.g={};this.j=new V(this);this.j.listen(a,"U",this.Vj);this.A=b;this.md=c;this.C=d;this.B=e;this.o=f}t(QD,E);l=QD.prototype;l.G=function(){G(this.j);QD.J.G.call(this)};
l.Bl=function(a){for(var b,c=[],d=0;d<a.length;d++){var e=a[d],f=e.g.p;b=this.g[f];if(b.active)throw Error("Tried to transport blob that is currently being transported: "+f);b.active=!0;if(e=Cq(e,"oc"))c.push(e);else throw Error("Tried to transport via original image id on blob with no id.");}d=this.A;e=[];f=[];for(b=0;b<c.length;b++){var g=c[b];if(d.j[g])f.push(Ah(g));else if(1==d.A.g.g.g)if(0==g.indexOf("PLACEHOLDER_"))f.push(Bh(null));else{var k=new S;f.push(k);d.g[g]?d.g[g].push(k):(e.push(g),
d.g[g]=[k])}else f.push(Bh(null))}0<e.length&&(c=d.v,b=d.B,g={},g.photo=e,g=Gd(g),c=Xk(mo(b,"/copyimages").o("id",c),g),n(d.o)&&bl(c,d.o),dl(Zk(cl(c,q(d.S,d)),q(d.F,d,e))));c=(new pn(f)).T(d.C,d);c.T(q(this.rj,this,a))};
l.Al=function(a){var b=a.g.p,c=this.g[b];if(c.active)throw Error("Tried to transport blob that is currently being transported: "+b);c.active=!0;var d=Cq(a,"ou");a.getUrl()||d?!d||0!=d.indexOf("http://")&&0!=d.indexOf("https://")?(c=a.getUrl()||Cq(a,"ou"),d=a.g.f,c=U(cD(c,this.F).Wb(),q(this.D,this,d),q(this.I,this)),U(c,q(this.oj,this,b),q(this.nj,this,b))):(a=q(this.ek,this,b,c.g),b=q(this.dk,this,b,c.g),ND(this.md,{url:d},d||"",this.C,a,b)):(b=new OD(0,null,Error("nonexistentImageUrl")),c.g.P(b))};
l.Zi=function(a){var b=this.g[a];if(!b)throw Error("Attempted to cleanup an unknown blob: "+a);b.j.V();delete this.g[a]};l.ek=function(a,b,c,d){a=new OD(0,d,null);b.K(a)};l.dk=function(a,b,c,d){Ln(this.B,Error("Create photo failed with error: "+d));a=new OD(0,null,Error("createPhoto"));b.P(a)};l.oj=function(a,b){a=this.g[a];b=new OD(0,b,null);a.g.K(b)};l.nj=function(a,b){a=this.g[a];"connectionError"==b.message?(a.active=!1,yk(a.j,!1,!0)):(b=new OD(0,null,b),a.g.P(b))};
l.rj=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=this.g[d.g.p];(d=Cq(d,"oc"))&&b[d]?(d=new OD(0,b[d],null),e.g.K(d)):(d=new OD(0,null,Error("unknown")),e.g.P(d))}};l.Vj=function(a){for(var b in this.g){var c=this.g[b];a.g?c.active||yk(c.j,!0,!1):c.j.stop()}};function RD(a,b){this.g=a;this.j=b;this.active=!1};function SD(a){if(m.JSON)try{return m.JSON.stringify(a)}catch(b){}return qc(a)};function TD(a,b,c){a={protocolVersion:"0.8",createSessionRequest:{fields:[{external:{name:"file",filename:a}}]}};var d=a.createSessionRequest.fields,e=d[0].external;null!=b&&(e.size=b);Fb(c,function(a,b){d.push({inlined:{name:b,content:a,contentType:"text/plain"}})});return SD(a)}
function UD(a){var b=a;if("string"==typeof a)a:{if(m.JSON)try{var c=m.JSON.parse(a),b=c;break a}catch(d){}b=c=oc(a)}try{return b.sessionStatus?b=b.sessionStatus:b.errorMessage&&(b=b.errorMessage),b.additionalInfo["uploader_service.GoogleRupioAdditionalInfo"].completionInfo}catch(d){}};function VD(a,b,c){E.call(this);this.D=a;this.A=b;this.F=c;this.j={};this.g=[];this.o=null;this.v=new V(this);this.B=new qm(new rm(2E3))}t(VD,E);VD.prototype.upload=function(a,b){var c=new S;a=new WD(a,b,c);this.o?this.g.push(a):XD(this,a);return c};
function XD(a,b){a.o=b;var c=a.B,d=new Jl(b.j,b.fileName);d.o=!0;d=jm(c.g.g,d);d=new km(0,0,d);c.dispatchEvent(new pm(0,null));hi(hi(a.v,d,"u",a.C),d,"v",a.H);c=lk.ua().g.g;c=Ua(jb(c))?a.A:Id(a.A,{authuser:c});d.C=c;d.B="POST";var c=b.j,e=b.fileName,f={};f.containingCosmoId=a.D;a.F&&(f.parentCosmoId=a.F);c=TD(e,c.size,f);d.A=c;d.D=!0;a.j[d.I]=b;d.start()}
VD.prototype.C=function(a,b){var c=a.item,d=c.I,e=this.j[d];if(!e)throw Error("No internal representation found for uploaded file.");var f=c.sa(),g;g=(g=UD(f))?g.status:"UNKNOWN";f=(f=UD(f))?f.customerSpecificInfo:void 0;if(a instanceof nm&&a.Fe)e.g.P(Error("connectionError"));else if(f)if(b||"SUCCESS"!=g){var k;switch(g){case "FAILURE":k="scottyError";break;case "REJECTED":k=f&&"anonymous_user"==f.type?"invalidAuth":"scottyReject";break;case "UNKNOWN":case "QUEUED":case "CANCELLED":case "SUCCESS":k=
"unknown"}e.g.P(Error(k))}else e.g.K(f);else e.g.P(Error("invalidResponse"));G(c);delete this.j[d];this.o=null;this.g&&0!=this.g.length&&XD(this,this.g.shift())};VD.prototype.H=function(a){this.C(a,!0)};VD.prototype.G=function(){VD.J.G.call(this);ee(this.v,this.B)};function WD(a,b,c){this.j=a;this.fileName=b;this.g=c};function YD(a,b,c,d,e,f,g){QD.call(this,b,c,d,e,f);this.M=a;this.F=g}t(YD,QD);YD.prototype.D=function(a,b){return this.M.upload(b,a).Wb().T(this.H,this)};YD.prototype.I=function(){return Error("fileNotFound")};YD.prototype.H=function(a){return a.id};function ZD(a){I.call(this);this.j=new V(this);this.g=a;this.j.listen(a,"H",this.o)}t(ZD,I);ZD.prototype.o=function(a){1==a.j.g!=(1==a.g.g)&&this.dispatchEvent(new PD(1==a.g.g))};ZD.prototype.G=function(){G(this.j);ZD.J.G.call(this)};function $D(a,b){this.g=n(a)?a:0;this.j=n(b)?b:""};function aE(){H.call(this,"W")}t(aE,H);function bE(){H.call(this,"Z")}t(bE,H);function cE(){H.call(this,"$")}t(cE,H);function dE(){I.call(this)}t(dE,I);function eE(){H.call(this,"X")}t(eE,H);function fE(a,b){H.call(this,"ca");this.g=a;this.message=b}t(fE,H);function gE(){H.call(this,"aa")}t(gE,H);function hE(a,b,c,d,e,f,g,k,p,u){I.call(this);this.C=a;this.N=b;this.g=c;this.H=d||null;this.D=e||null;this.U=f||{};this.A=0;this.B=this.o=null;this.M=!!g;this.R=!!k;this.j=p||null;this.I=u||null}t(hE,dE);
function iE(a,b){if(!a.j||!a.j.hg())if(b)if(0==a.A&&!a.o||!a.M&&a.A!=a.o.I)a.dispatchEvent(new fE(1,"Missing chunks"));else if(a.g){b=a.g;var c=a.o.F;if(b.g&&b.U){if(b.v)throw Error("Cannot process startup hints twice for the same document.");b.v=wD(b.U,b.g,c);b.C=null}else if(b.U){if(b.C)throw Error("Startup hints were already set.");b.C=c}if((b=a.o.D)&&a.D&&a.H){var c=a.D,d=a.C,e={},f=[],g;for(g in b)c.g(d,g,b[g],e,f);a.g.Qa=f;g=Pb(e);Sb(g,a.U);b=q(a.O,a);a.H.g.g(g,["documents",a.C],!0,b)}else a.dispatchEvent("Y")}else a.dispatchEvent("Y");
else a.dispatchEvent(new fE(3,"Document not accessible"))}hE.prototype.O=function(a){0<a.ad||0<a.Gc?this.dispatchEvent(new fE(2,"File sync failed")):this.dispatchEvent("Y")};function jE(a,b,c,d,e){this.A=a;this.F=b;this.j=c;this.v=d;this.B=e;this.g=0;this.o=null}
function kE(a,b){for(var c=a.A();;){if(0==a.g)if(c&&5<=c.length)if(Sa(c,")]}'\n"))a.g+=5;else{a.j("Safety prefix not present.");break}else break;if(5==a.g)if(c.length>=a.g+2)if("0&"==c.substring(a.g,a.g+2))a.g+=2;else{a.j("Chunked version marker not present.");break}else break;var d=c.indexOf("&",a.g);if(0>d){b&&(a.v(),Qi(a.o));break}var e=+c.substring(a.g,d);if(isNaN(e)){a.j("Invalid chunk size.");break}e=e+d+1;if(c.length<e)break;a.g=e;d=c.substring(d+1,e);try{var f=Qk(d)}catch(g){a.j("Error parsing chunk.");
break}if(f)a.F(f);else{a.j("Received a blank chunk.");break}if(!a.B){Qi(a.o);a.o=Pi(q(a.C,a,b));break}}}jE.prototype.C=function(a){this.o=null;kE(this,a)};function lE(a,b,c){this.g=a;this.j=b;this.o=c};function mE(a,b,c,d,e,f,g,k,p,u,w,z,T,W){this.C=a;this.B=b;this.A=c;this.g=d;this.j=e;this.F=f;this.D=g;this.S=k;this.o=p;this.v=u;this.H=w;this.X=z;this.I=n(W)?W:null;this.M=T}mE.prototype.Za=h("S");function nE(a,b,c,d,e,f,g){this.D=a;this.v=b;this.S=e;this.C=f;this.j=this.A=0;this.B=new jE(this.D,q(this.X,this),q(this.F,this),q(this.H,this),d);this.g=!1;this.o=g||null}
nE.prototype.X=function(a){if(0==this.A){this.o&&Ds(this.o,"mmr",this.j);var b=a.me,c=b.rat,d=this.v,e=new mE(a.r,c?new Ur(c):null,a.mv,b.al,b.dkd,b.sh,a.eo,b.t,!!b.ft,b.js,b.lm,!!b.d,a.slm||null,a.mc);d.o=e;b=e.C;d.B=b;var c=e.B,f=e.A;d.dispatchEvent(new bE);if(!d.j||!d.j.hg()){var g=e.g;a=e.j;d.dispatchEvent(new aE);d.dispatchEvent(new gE);d.dispatchEvent(new eE);if(d.I){var k=e.M;k&&Es(d.I,k)}if(d.g){var p=e.Za(),u=e.o,w=e.v,k=e.H,e=e.X,z=d.g;z.g?(Y(z.g,"title",p),z.Y=null):z.Y=p;p=d.g;p.g?(Eq(p.g,
"isFastTrack",u),p.M=null):p.M=u;u=d.g;(p=u.g)?(Eq(p,"ind",!e),u.Z=null):u.Z=e;w&&(e=d.g,e.g?(Y(e.g,"jobset",w),e.N=null):e.N=w);k&&(w=d.g,null!=k&&(w.g?(ds(w.g,k),w.pa=0):w.pa=k));k=d.g;k.g?(fs(k.g,f),k.O=null):k.O=f;f=d.g;f.F&&oE(f,b,c);f.R=b;f.mg=c;d.R||pE(d.g);b=Number(g);isNaN(b)||(g=d.g,(c=g.g)?(g=g.$b.getId(),Gq(c,"acl",g,b)):g.Pa=b);a&&(d=d.g,d.g?(es(d.g,a),d.A=null):d.A=a)}}}else if(1==this.A&&this.o&&Ds(this.o,"fmpdr",this.j),d=this.v,g=new lE(a.si,a.sci,a.sc),!d.j||!d.j.hg()){if(null==
d.B)throw Error("Revision was not defined");f=d.N;c=d.B;a=d.g||void 0;k=g.g;k=(b=""==k)?f.g:f.j+k;f=g.j;r();g=xs(g.o);r();if(a)if(c=new Xr(c,0,null,g,k,f),b=b&&0==f,a.Oa)!a.o||a.H.log(Error("If the proxy has been discarded, the command queue must be null"));else{if(c.g!=a.R)throw Error("Expected batch revision of "+a.R+", but got "+c.g);a=a.o;b&&(a.g=[],a.j=!0);a.g.push(c)}d.dispatchEvent(new cE);d.A++}this.A++};nE.prototype.F=function(){this.g=!0;this.S()};
nE.prototype.H=function(){this.g||(iE(this.v,!0),this.C())};function qE(a,b){H.call(this,"R");this.g=a;switch(this.g){case 3:this.message="Request returns too much data";break;case 2:this.message="Missing chunks";break;default:this.message="Unknown Server Error"}b&&(this.message+=": "+b)}t(qE,H);function rE(a,b,c,d,e,f,g,k,p,u,w,z,T,W,na){E.call(this);this.O=a;this.I=b;this.A=d;this.o=new V(this);this.v=n(w)?w:null;this.B=k;this.N=p;this.C=z||null;if(null!=this.v&&!this.C)throw Error("Must supply revision HMAC when fetching at revision.");this.F=T||null;this.M=g;this.H=Hm();a=Ea(W)?W:6E4;this.g=u?u():new Bj;this.j="";0<a&&Gj(this.g,a);this.R=e;this.o.listen(this.g,"readystatechange",this.Fl);this.o.listen(this.g,"complete",this.El);e=q(this.gj,this);u=q(this.Ri,this);a=q(this.V,this);this.D=
new nE(e,c,0,f,u,a,na)}t(rE,E);l=rE.prototype;l.fetch=function(){this.isDisposed();var a=m.location.href.match(wd),b={};b.reason=this.M;b.smv=this.N;this.F&&(b.sid=this.F);null!=this.v&&(b.osr=this.v,b.rhmac=this.C);Sb(b,this.H.g);b=Gd(b);this.g.send(vd(a[1],void 0,a[3],a[4],this.O+this.I,b))};
l.Fl=function(){if(!this.isDisposed())if(null!==this.B&&this.g.sa().length>this.B)G(this.g),this.A(new qE(3)),this.V();else if(this.R&&3==gj(this.g)&&this.g.Eb()&&200==this.g.$()){this.j=this.g.sa();var a=this.D;a.j=r();a.g||kE(a.B,!1)}};l.El=function(){if(!this.isDisposed()){this.j=this.g.sa();var a=this.D,b=this.g.$();a.g||(404==b||410==b||403==b?(iE(a.v,!1),a.C()):200!=b?a.F():(a.j=r(),a.g||kE(a.B,!0)))}};
l.Ri=function(){var a=this.g.$(),b=new qE(1);if(6==this.g.o&&a)switch(a){case 413:b=new qE(3);break;default:b=new qE(1,a.toString())}this.A(b);this.V()};l.gj=h("j");l.G=function(){delete this.j;G(this.o);G(this.g);rE.J.G.call(this)};function sE(a,b,c,d,e,f){E.call(this);this.Oc=new S;this.I=null;this.ml=b;this.N=Jf(J(),"jobset");this.M=Hf(J(),"fatra");this.ka=null;this.la=void 0;this.$b=this.O=this.Zb=this.ob=this.Xb=null;this.Rc=c||null;this.U=d||null;this.Y=this.wg=this.Qa=this.C=this.v=null;this.pa=0;this.A=null;this.lg=!1;this.j=this.B=this.g=this.lb=this.Pc=this.ca=null;this.F=this.Oa=!1;this.ha=new S;b=(e||[]).concat();b.push(this.Oc);for(c=0;c<b.length;c++)wh(this.ha,b[c]);this.ha.T(q(this.tl,this));this.H=a;this.o=new Yr;
this.kg=f||null;this.D=this.nb=this.ac=this.Qc=this.Z=this.mg=this.R=this.Pa=null;this.ug=!1}t(sE,E);
function tE(a,b){var c=new S;if(!a.g)return c.K(!0),c;if(a.Oa)return a.Ze(c,!!b,!0),c;a.Y&&(Y(a.g,"title",a.Y),a.Y=null);0<a.pa&&(ds(a.g,a.pa),a.pa=0);a.N&&(Y(a.g,"jobset",a.N),a.N=null);null!=a.M&&(Eq(a.g,"isFastTrack",a.M),a.M=null);var d=a.g;if(d.hb()){var e=r();Y(d,"lastSyncedTimestamp",e)}a.A&&(es(a.g,a.A),a.A=null);null!=a.ca&&(Eq(a.g,"inc",!a.ca),a.ca=null);null!=a.Pc&&(Eq(a.g,"pendingCreation",a.Pc),a.Pc=null);null!=a.ka&&(Eq(a.g,"ips",a.ka),a.ka=null);n(a.la)&&(Lq(a.g,a.la),a.la=void 0);
null!==a.O&&(fs(a.g,a.O),a.O=null);(d=a.g)&&Dq(d,"inc")&&a.I?(Y(d,"ic",a.I),a.I=null):d&&(a.I=null);null!==a.Z&&(Eq(a.g,"ind",!a.Z),a.Z=null);null!==a.Xb&&(Y(a.g,"lsst",a.Xb),a.Xb=null);null!==a.ob&&(a.g.xc(a.ob),a.ob=null);null!==a.Zb&&(a.g.yc(a.Zb),a.Zb=null);null!=a.lb&&(Eq(a.g,"hpmdo",a.lb),a.lb=null);null!=a.D&&uE(a)&&(js(a.g,a.D),a.D=null);a.F&&(null!==a.Qc&&(Eq(a.g,"modelNeedsResync",a.Qc),a.Qc=null),null!=a.ac&&(is(a.g,a.ac),a.ac=null),null!=a.nb&&(hs(a.g,a.nb),a.nb=null));d=a.v&&a.v.g;a.Ze(c,
!!b);a.U&&a.C&&!a.v&&(a.v=wD(a.U,a.g,a.C),a.C=null);a.v&&!d&&(d=new S,wh(c,d),th(a.v,ud(q(a.Ze,a,d,!!b))));a.lg&&((b=a.B.g.jd())&&Iv(b.g,a.ml),a.lg=!1);return c}l=sE.prototype;
l.Ze=function(a,b,c){var d=[];c||d.push(this.g);this.j&&uE(this)&&(iv(this.j),d.push(this.j));var e=null,f=null,g=!1;this.j&&(e=this.j.ba(),f=av(this.j),g=!!this.j.A.revision);if(!e){var e=null,k=!1;this.g&&(e=Bq(this.g,"rev"),k=!!this.g.A.rev);var p={};p.writePendingQueueOnly=!!c;p.hasSwitchedToLocalStorage=this.F;this.j?(p.pendingQueue_isAvailable=!0,p.pendingQueue_revisionModified=g):p.pendingQueue_isAvailable=!1;this.g?(p.localDocument_isAvailable=!0,p.localDocument_revision=e,p.localDocument_revisionModified=
k,p.localDocument_commandQueueModified=!this.g.o.ba()):p.localDocument_isAvailable=!1;var u=Hf(J(),"docs-offline-edrr2");Hf(J(),"docs-localstore-epla")&&u&&g&&uE(this)&&f!=e&&Ln(this.H,Error("Pending queue revision write is out of sync with the local document revision."),p);!c&&u&&k&&e!=f&&Ln(this.H,Error("Local document revision write is out of sync with the pending queue revision."),p)}b=b?q(a.P,a):this.wg||void 0;a=c?q(a.K,a):q(this.xk,this,a,b);this.B.write(d,a,b)};
l.xk=function(a,b){if(this.Qa){var c=this.Qa;this.Qa=null;this.B.write(c,q(a.K,a,!0),b)}else a.K(!0)};function vE(a,b){a.j=b;Hf(J(),"icso")||a.F||!Hf(J(),"docs-localstore-epla")||(a.Rc.rl(!1),nv(a.j,!0))}
l.tl=function(){this.g?Eq(this.g,"hpmdo",!1):this.lb=!1;var a=this.g;Zr(this.o,a.o);G(this.o);this.o=a.o;if(null!==this.Pa){var b=this.$b.getId();Gq(a,"acl",b,this.Pa);this.Pa=null}null===this.R||oE(this,this.R,this.mg);this.kg&&(b=this.kg,b.B=this.B,b.g=a,b.$b=void 0);this.Rc&&this.Rc.rl(!0);this.j&&nv(this.j,!1);this.F=!0;return tE(this)};function uE(a){return Hf(J(),"docs-localstore-epla")?a.ug?!0:a.F:!0}function pE(a){a.g?(Eq(a.g,"inc",!1),a.ca=null):a.ca=!0}
function oE(a,b,c){a=a.g;Hf(J(),"docs-offline-edrr2")?cs(a,b,c):cs(a,null,null)}function wE(a,b){a.g?(Eq(a.g,"ips",b),a.ka=null):a.ka=b}function xE(a){var b=r();a.g?Y(a.g,"lsst",b):a.Xb=b}l.yc=function(a){this.g?this.g.yc(a):this.Zb=a};l.xc=function(a){this.g?this.g.xc(a):this.ob=a};function yE(a){a.g?(a=a.g,is(a,1),hs(a,r())):(a.nb=r(),a.ac=1)}
function zE(a,b,c){a.g&&uE(a)?(js(a.g,b),a.D=null):c?a.g?(js(a.g,b),a.D=null):Jn(a.H,Error("Force persisting pending queue state without a document record.")):a.D=b}l.G=function(){this.g||G(this.o);sE.J.G.call(this)};function AE(a){this.j=a;this.g=new fl};function BE(a,b,c){H.call(this,a,c);this.g=b}t(BE,H);function CE(a,b,c){BE.call(this,"fa",a,c)}t(CE,BE);function DE(){I.call(this)}t(DE,I);function EE(a,b,c){H.call(this,"ga",c);this.g=a}t(EE,H);function HE(a,b,c,d,e,f,g,k,p){I.call(this);this.H=a;this.B=b;this.C=c;this.A=f;this.D=n(g)?g:3;this.o=p;this.N=k||jo}t(HE,DE);HE.prototype.j=!1;HE.prototype.g=!0;HE.prototype.I=function(a){this.g=this.j=!1;this.dispatchEvent(new CE(a))};
HE.prototype.M=function(a){a=a.Ka();this.j=!1;if(a&&!Ob(a)){this.g=!1;a=a.revisionRanges;if(!a||!Ba(a)||0>=a.length)throw Error("processCommandBatchesRequestSuccessResponse_: response did not include a non-empty array of revision ranges "+a);for(var b=[],c=-1,d=0;d<a.length;d++){var e=a[d];if(!e||2!=e.length)throw Error("processCommandBatchesRequestSuccessResponse_: invalid  revision range "+e);var f=e[0],e=e[1];if(null==f)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include a start");
if(null==e)throw Error("processCommandBatchesRequestSuccessResponse_: range did not include an end");if(e<f)throw Error("processCommandBatchesRequestSuccessResponse_: expected range end ("+e+") < expected range start ("+f+")");if(f<=c||e<=c)throw Error("processCommandBatchesRequestSuccessResponse_: out of order ranges or overlapping "+a);c=e;b.push(new Ol(f,e))}this.dispatchEvent(new EE(b))}else{if(this.g)throw Error("handleCommandBatchesRequestSuccess_: Got unexpected empty response after sending command batches.");
this.dispatchEvent("ga")}};function IE(a){this.bb=a}IE.prototype.ia=function(a){for(var b={},c=this.bb,d=a.za(),e=[],f=0;f<d.length;f++)e.push(c.ia(d[f]));b.commands=e;b.sid=a.ea;b.reqId=a.eb();return b};Na(aa().prototype,ke.prototype);function JE(a,b,c,d){I.call(this);this.o=a;this.A=b;this.B=c;this.j=d||null;this.g=0}t(JE,I);JE.prototype.C=function(){this.g--;0==this.g&&this.dispatchEvent("writesComplete")};function KE(a){H.call(this,a)}t(KE,H);Na(aa().prototype,ke.prototype);function LE(a,b){I.call(this);this.C=b;this.j={};this.o={};this.A={};this.g={};this.B={};for(b=0;b<a.length;b++){var c=a[b],d=c.g.p,e=c.qe(),f=Cq(c,"oc");if(this.g[d]||e&&this.g[e]||f&&this.g[f])throw Error("Adding existing blob metadata.");this.g[d]=c;e&&(this.g[e]=c);f&&(this.g[f]=c);switch(c.$()){case "pending":this.j[d]=c;break;case "saved":this.A[d]=c;this.B[d]=e;break;case "failed":this.A[d]=c;this.B[d]="FAILED_IMAGE_UPLOAD";break;default:throw Error("Adding unknown blob type "+c.$());}}a=new V(this);
F(this,a);a.listen(this.C,"writesComplete",this.D)}t(LE,I);function ME(a){return!Ob(a.j)||!Ob(a.o)||0<a.C.g}function NE(a,b,c){var d=b.g.p;a.A[d]=b;a.B[d]=c;delete a.o[d];c=a.C;b=[b];c.g++;c.A.write(b,q(c.C,c),c.j||void 0);ME(a)||a.dispatchEvent("ha")}LE.prototype.D=function(){ME(this)||this.dispatchEvent("ha")};function OE(a){if(ME(a))throw Error("getResolvedBlobIdMap called when there are pending writes.");return Pb(a.B)}
function PE(a){var b=[];zb(b,Ib(a.j));zb(b,Ib(a.o));zb(b,Ib(a.A));return b};function QE(a,b,c){a.K(new LE(c,b))};function RE(a,b,c){this.g=a;this.j=b;this.o=c}RE.prototype.v=function(a,b){b?a(b):a(new Uu(this.g,this.j,!0,-1,[],[]))};function SE(a,b,c){this.j=a;this.g=b;this.o=c}SE.prototype.getSelection=h("o");function TE(a,b){I.call(this);this.N=a;this.j=b;this.A=null;this.H=-1}t(TE,I);l=TE.prototype;l.Mf=!1;l.Nd=!1;function UE(a){var b=[];a=jv(a.g);for(var c=0;c<a.length;c++)b.push(a[c].za().length)}function VE(a){a.A=null;bv(a.g,null)}l.za=function(){for(var a=jv(this.g),b=[],c=0;c<a.length;c++)zb(b,a[c].za());zb(b,kv(this.g));return b};
l.replace=function(a,b,c,d){var e=jv(this.g),f=WE(this);if(a.length!=e.length+f.length)Jn(this.j,Error("ReplaceCommands(): invalid replacement count "+a.length+" (expected "+(e.length+f.length)+")"));else{for(var g=XE(this),k=[],p=0;p<e.length;p++)k.push(new Tu(a[p].concat(),e[p].eb(),e[p].ea));for(var u=[],p=0;p<f.length;p++)u.push(new Tu(a[p+e.length].concat(),f[p].eb(),f[p].ea));this.g.replace(k,u);$u(this.g,b,c);bv(this.g,null);UE(this);a=[];b=WE(this);for(c=0;c<b.length;c++)a.push(b[c].za().length);
this.A=d;g&&YE(this);this.ba()&&this.dispatchEvent("pa")}};l.ba=function(){return!ZE(this)&&!(mv(this.g)&&this.B)};function $E(a){return ZE(a)&&!aF(a)}function bF(a){cF(a);return av(a.g)}l.Gi=function(a){for(var b=a.j,c=a.g,d=[],e=0;e<c.length;e++){var f=c[e],g=this.N.Et(f.za());d[e]=g?new Tu(g,f.eb(),f.ea):f}return new SE(b,d,a.getSelection())};function dF(a){a.Nd||(a.Nd=!0,a.dispatchEvent("va"))}l.Lg=function(){this.dispatchEvent("na")};function YE(a){XE(a)||a.dispatchEvent("la")}
function cF(a){if(!a.Mf)throw Error("Attempting to use an uninitialized queue.");}l.Td=h("Nd");function eF(a){var b=new S;aF(a)?b.K(void 0):(Xu(a.g,!0),zE(a.o,0,!0),vh(fF(a),b));a.dispatchEvent("oa");return b}l.Ak=function(){this.dispatchEvent("ua")};function gF(a,b,c,d,e,f,g,k,p,u,w,z){TE.call(this,g,e);this.o=a;this.U=c;this.O=f;this.D=new S;this.g=b;this.C=k;this.B=!1;this.M={};this.R=z;this.I=!1;this.g?(vE(this.o,this.g),this.D.K(this)):(a=new RE(p,u,d),b=q(this.Z,this),c=q(this.Y,this),Cv(a.o.g.B,a.g,q(a.v,a,b),c));this.o.ha.T(q(this.Lg,this))}t(gF,TE);gF.prototype.Z=function(a){this.g=a;vE(this.o,a);this.D.K(this)};gF.prototype.Y=function(a){this.D.P(a);this.O(a)};function fF(a){return sh(tE(a.o,!0),a.O)}
function hF(a,b,c){if(lv(a.g)){if(mv(a.g)&&a.B&&null===Zu(a.g))throw Error("Dequeue should not be called before the previous sent bundles are marked as saved on the server");if(0<b){var d=kv(a.g);if(b==d.length)fv(a.g);else{if(1!=b)throw Error("Num unsent can only be 1");throw Error("When requesting to send a single command it has to be null");}}}a.B=!0;b=jv(a.g).concat();lv(a.g)&&(UE(a),b[b.length-1].za());dF(a);d=null;lv(a.g)||(d=a.A,VE(a));var e=new SE(bF(a),b,d);U(fF(a),function(){c.K(e)},q(c.P,
c))}gF.prototype.Td=function(){return gF.J.Td.call(this)||!this.g.ba()};function ZE(a){return lv(a.g)||!a.B&&mv(a.g)}function XE(a){var b=a.C,c;!(c=a.H>av(a.g))&&(c=null!==b)&&(a=Bq(a.g,"accessLevel"),a=null===a?3:a,b=Gw(b),a=Gw(a),c=b!=a);return c}function aF(a){var b=a.o.g,b=b?ks(b):null;return null!==b&&Hf(J(),"docs-localstore-epqs")?0==b:Wu(a.g)}gF.prototype.G=function(){G(this.g);gF.J.G.call(this)};function WE(a){a=a.g;return a.v?[]:a.o}
function iF(a){var b=a.j;b.g.pendingQueue_startedEmpty=a.I.toString();In(b,"pendingQueue_startedAnachronistic",XE(a).toString());b.g.pendingQueue_initialRevision=av(a.g).toString();b.g.pendingQueue_initialModelRevision=a.H.toString();In(b,"pendingQueue_initialBundleInfo",jF(a));var c=a.o.g,c=c?ks(c):null,d=Zu(a.g);b.g.pendingQueue_initialState=null===c?"null":c.toString();In(b,"docs-localstore-epqs",Hf(J(),"docs-localstore-epqs").toString());b.g.pendingQueue_initialSavedRevision=null===d?"null":d.toString();
Hn(b,"pendingQueue_isEmpty",function(){return this.g.ba().toString()}.bind(a));Hn(b,"pendingQueue_revision",function(){return av(this.g).toString()}.bind(a));Hn(b,"pendingQueue_hasDequeued",function(){return this.B.toString()}.bind(a));Hn(b,"pendingQueue_hasEnqueued",function(){return(!1).toString()}.bind(a));Hn(b,"pendingQueue_bundleInfo",function(){return jF(this)}.bind(a));Hn(b,"pendingQueue_isPersistent",function(){return uE(this.o).toString()}.bind(a));Hn(b,"pendingQueue_isAnachronistic",function(){return XE(this).toString()}.bind(a))}
function jF(a){var b="",c=jv(a.g);a=c.concat(WE(a));for(var d=0;d<a.length;d++)var e=d<c.length?"sent":"unsent",e={sid:a[d].ea,rid:a[d].eb(),type:e},b=b+(JSON.stringify(e)+"\n");return b};function kF(a,b,c,d,e,f,g){return c.g.B?(new gF(a,null,b,c,d,e,null,null,f,g,0,null)).D:null};function lF(a){H.call(this,"P");this.wf=a}t(lF,H);function mF(a){I.call(this);this.B=a;this.la=!1}t(mF,I);mF.prototype.Ia=function(){if(this.la)throw Error("The sync() method can be called only once");Mv(this.o.jc(),q(this.ul,this));this.la=!0};mF.prototype.R=function(){this.dispatchEvent(new lF(this.B))};function nF(a,b,c){E.call(this);this.g=a;this.o=b;this.v=c;this.j=new V(this);F(this,this.j)}t(nF,E);
nF.prototype.send=function(){var a;if(ME(this.g)){a=this.g;var b=Ib(a.j);Sb(a.o,a.j);a.j={};a=this.o;for(var c=[],d=0;d<b.length;d++){var e=b[d];Cq(e,"oc")&&c.push(e)}for(var f=new xk(q(a.Bl,a,c),1E3,9E5,a.o),d=[],g=0;g<b.length;g++){var e=b[g],k=e.g.p;if(a.g[k])throw Error("Attempted to re-transport blob");var p=new S;if(Cq(e,"oc"))e=new RD(p,f);else{var u=new xk(q(a.Al,a,e),1E3,9E5,a.o),e=new RD(p,u);1==a.v.g.g.g&&u.start()}a.g[k]=e;th(p,ud(q(a.Zi,a,k)));d.push(p)}0<c.length&&1==a.v.g.g.g&&f.start();
a=new S;(new pn(d)).T(q(this.A,this,b,a))}else a=Ah();return a};
nF.prototype.A=function(a,b,c){for(var d=0;d<c.length;d++){var e=a[d].g.p,f=c[d][1];if(c[d][0]){var g=this.g,f=f.qe(),e=g.o[e];if(!e)throw Error("markAsSaved for blob that was not sending.");Y(e,"c",f);hw(e,"saved");g.g[f]=e;NE(g,e,f);g.dispatchEvent(new KE("ka"))}else{g=this.g;e=g.o[e];if(!e)throw Error("markAsFailed for blob that was not sending.");hw(e,"failed");NE(g,e,"FAILED_IMAGE_UPLOAD");g.dispatchEvent(new KE("ja"));e=f.getError().message;f={};a:switch(e){case "createPhoto":g="image_upload_other_error";
break a;case "badScottyUrl":case "connectionError":case "fileNotFound":case "invalidFileData":case "jsonError":case "nonexistentImageUrl":case "offlineSync":case "iosClipboardOtherSession":g="image_upload_pre_upload_error";break a;default:g="image_upload_scotty_error"}f[g]=e;this.v.log(Error("Failed to sync blob with error"),f)}}ME(this.g)?hi(this.j,this.g,"ha",q(b.K,b)):b.K()};function oF(a,b,c,d){E.call(this);this.j=a;this.A=b;this.o=c;this.B=d;this.g=new S;this.v=new V(this)}t(oF,E);l=oF.prototype;l.Sc=-1;l.send=function(){this.Sc=-1;if($E(this.j)){var a=this.j;cF(a);var b=kv(a.g).length,c=n(void 0)?void 0:b;if(0>c||c>b)throw Error("Invalid number of unsent commands requested for dequeue");b=new S;ZE(a)?(a.N&&b.T(q(a.Gi,a)),hF(a,c,b)):(b.K(new SE(bF(a),[],a.A)),a.A=null);U(b,this.xj,this.wj,this)}else this.g.K(this);return this.g};
function pF(a){if(!aF(a.j)&&0<=a.Sc){var b=a.j,c=a.Sc;cF(b);if(!b.Td())throw Error("removeSent called when not waiting for ack");a=XE(b);var d=b.g;if(null!=Bq(d,"snapshotBundleIndex")){var e=Bq(d,"snapshotBundleIndex")-d.B.length;ev(d,0>e?null:e)}d.B=[];hv(d,3);$u(b.g,c,null);b.g.ba()&&(cv(b.g,!1),c=b.o,c.g?(Lq(c.g,null),c.la=void 0):c.la=null,null!==b.C&&Y(b.g,"accessLevel",b.C),zE(b.o,1));b.Lg();mv(b.g)&&b.B||(b.Nd=!1,b.dispatchEvent("ta"));a&&YE(b);b.ba()&&b.dispatchEvent("pa")}}
l.xj=function(a){var b=a.j,c;c=this.o;a=a.g;var d=this.A?OE(this.A):{},e=this.B;if(c.j)c=!1;else{c.j=!0;c.g=0<a.length;var f=c.A;if(0==a.length)throw Error("Cannot send an empty message to the server.");if(!Ea(b)||0>b)throw Error("Cannot send an invalid revision number to the server: "+b);b=["rev",b];if(0<a.length){for(var g=[],k=0;k<a.length;k++)g.push(f.j.ia(a[k]));b.push("bundles");b.push(f.g.stringify(g))}Ob(d)||(b.push("blobIdMap"),b.push(f.g.stringify(d)));e&&(b.push("syncReason"),b.push(e));
a=c.g?sd(c.N):td;d=Zk(cl(Xk(mo(c.C,"/save").o("id",c.B),b),c.M,c),c.I,c);d.B=q(a,void 0);d.Y=!0;a=bl(d,c.D);a.v=!0;c.H&&Wk(a);n(c.o)&&a.setTimeout(c.o);dl(a);c=!0}c?this.v.listen(this.o,"ga",this.hk).listen(this.o,"fa",this.gk):this.g.P(new qF(!1,void 0))};l.wj=function(a){this.g.P(new qF(!1,a))};l.hk=function(a){a=a.g;this.Sc=a[a.length-1].g;a=this.j;var b;b=this.Sc;mv(a.g)?(Yu(a.g,b),lv(a.g)||zE(a.o,3,!a.I),b=fF(a)):b=Ah();b.Wb().T(q(a.Ak,a));this.g.K(this)};
l.gk=function(a){a=a.g;"e"!=a.type||a.j&&"e"!=a.j?this.g.P(new qF(!1,void 0)):th(eF(this.j),function(){this.g.P(new qF(!0,void 0))}.bind(this))};l.G=function(){G(this.v);oF.J.G.call(this)};function qF(a,b){this.j=a;this.g=b};function rF(a,b,c,d,e,f,g,k,p,u,w,z,T,W,na,ra,Z,Ya,FE,GE,IF,iz,JF,KF){mF.call(this,k.getId());this.Pc=a;this.ac=b;if(c&&null==d)throw Error("Must specify a session ID in order to save changes.");if(!c&&w)throw Error("Must supply net service when delivering local changes.");this.Z=c;this.ea=d;this.lb=new ss;this.Qa=new AE(new IE(this.lb));this.D=e;this.$b=f;this.o=g;this.j=k;this.ha=new S;this.g=new sE(e,k.getId(),void 0,KF,[this.ha]);this.g.ug=!0;a=q(this.Rb,this);this.g.wg=a;this.Qc=ra;this.ob=Z||
null;this.U=Ya||null;this.Oa=Hf(J(),"docos-eos");this.nb=FE||null;this.O=!!GE;this.Y=new V(this);this.H=this.C=null;if(w&&!iz)throw Error("We can't deliver local changes without a blob transporter");this.Pa=iz||null;this.A=null;this.M=p;this.ka=u;if(null!=this.M&&!this.ka)throw Error("Must supply revision HMAC when syncing at revision.");this.I=w;this.pa=z;this.ca=T;this.Rc=IF;this.Zb=JF||null;this.N=!1;this.Oc=na}t(rF,mF);l=rF.prototype;
l.ul=function(a){if(0>=a.length)this.Ea(8,"Could not read local store: No opted in user.");else{var b=this.g,c=this.j;a=a[0];b.B=this.o;b.g=c;b.$b=a;b=this.g;b.Oa||b.ha.K(!0);b=this.g;if(!b.Oc.g){if(c=b.j)a=b.H,c.v&&(c.v=!1,Ln(a,Error("Clearing already saved pending queue."),{sentBundlesSavedRevision:Zu(c),queueRevision:av(c)}),Xu(c,!1),cv(c,!1),Yu(c,null),bv(c,null),ev(c,null),c.B=[],c.o=[],hv(c,2)),c.ba()&&zE(b,1);b.Oc.K(!0)}tE(this.g);b=this.B;null!=this.M?this.Tc():this.o.g.A.Sd(b,q(this.Mj,this),
q(this.Rb,this))}};
l.Mj=function(a){if(1!=a)this.Ea(3,"Unable to acquire the storage lock");else if(this.I){var b=this.j,c=this.Z,d=this.D;a=new S;if(Dq(b,"inc"))if(null===b.Za())b.getId(),c={},c.docId=b.getId(),Ln(d,Error("Not creating document without title"),c),a.P(void 0);else{b.getId();var d={newDocId:b.getId(),title:b.Za()},e=Fq(b,"ic");e&&(d.initialCommands=qc(e));(e=Cq(b,"fact"))&&(d.folder=e);(b=Cq(b,"odocid"))&&(d.sourceDocId=b);b=mo(c,"/create");b.R=!0;b=Zk(cl(Yk(b,d),a.K,a),a.P,a);n(2)&&bl(b,2);dl(b)}else b.getId(),
a.K(void 0);U(a,q(this.sj,this),q(this.Aj,this))}else Dq(this.j,"inc")?this.Ea(11,"Skipping document because it is not known to exist on the server"):this.Tc()};l.Aj=function(){this.Ea(7,"Could not create document.")};l.sj=function(){var a=q(this.gl,this);Dq(this.j,"inc")?(pE(this.g),tE(this.g).T(a)):a()};
l.gl=function(){var a=this.B,b=this.o,c=q(this.Rb,this),d=new S,e;(e=(e=b.g.ge())?new JE(a,b,e,c):null)?(b=b.g.ge(),e=Ma(QE,d,e),c=xt(b.g,["BlobMetadata"],"Reading all blob metadata",c),ln(c,"BlobMetadata",q(b.o,b),e,[a],[a,[]],void 0,void 0,void 0,!0)):d.K(null);d.T(this.Xj,this)};l.Xj=function(a){var b=q(this.xg,this,q(this.Ki,this),q(this.Tc,this));a?(this.A=a,(new nF(this.A,this.Pa,this.D)).send().T(b)):b()};
l.xg=function(a,b){var c=kF(this.g,this.ea,this.o,this.D,q(this.Yj,this),this.j.getId(),this.j.L());c?U(c,function(b){this.C=b;a()},this.Zj,this):b&&b()};l.Yj=aa();l.Tc=function(){var a=this.B,b=new hE(a,this.$b,this.g,this.ob||void 0,this.nb||void 0,sF(this));this.Y.listen(b,"Y",this.Sj).listen(b,"ca",this.ik);var c=new rE(this.Pc+"/d/"+a,this.ac,b,q(this.cg,this),!1,!0,this.ca,this.Zb,this.Oc,this.Qc,null==this.M?void 0:this.M,this.ka||void 0,void 0,this.Rc);this.N=!0;xE(this.g);tE(this.g).T(function(){c.fetch()})};
function sF(a){if(!a.A)return{};var b=OE(a.A),c={},d;for(d in b)b=a.A,(b.j[d]||b.o[d]||b.A[d]||null).getUrl()&&(c[d]=new rC(d,null,"image"));return c}
l.Ki=function(){var a=this.C;if(aF(a))this.Ea(5,"pending command queue is undeliverable.");else if($E(a)){a.g||Jn(a.j,Error("Cannot initialize queue without a record"));var b=av(a.g);0>b&&Jn(a.j,Error("Cannot initialize queue without a real pending queue revison."));var c=yq(a.g,"revisionAccessInfo"),d=Wr(c);a.Mf=!0;a.H=b;a.g||Jn(a.j,Error("Cannot initialize queue without a record"));c=av(a.g);a.I=a.g.ba();iF(a);var e=a.o.g,e=e?ks(e):null;if(null!==e){var f=Zu(a.g);a.g.ba()&&1!=e?Ln(a.j,Error("pendingQueueState "+
e+" does not match the pending queue record state: empty")):null===f||!mv(a.g)||lv(a.g)||3==e?Wu(a.g)&&0!=e&&Ln(a.j,Error("pendingQueueState "+e+" does not match the pending queue record state: undeliverable")):Ln(a.j,Error("pendingQueueState "+e+" does not match the pending queue record state: saved to server"))}if(c==b){if((e=yq(a.g,"selection"))&&a.R){e=a.R.g(new rs(e));if(a.A)throw Error("Selection is already set in #initializeSelection");a.A=e}}else bv(a.g,null);b<c&&!a.g.ba()&&Jn(a.j,Error("Can't apply pending changes because local pending queue revision is ahead of model revision with a non-empty queue"));
e=!1;var g=Zu(a.g),f=Hf(J(),"icso");Hf(J(),"docs-localstore-epqs")?(g=ks(a.o.g),g=null!==g&&3==g,f=!f&&!a.g.ba()&&g):null!==g&&mv(a.g)&&!lv(a.g)&&b>=g?(f&&Ln(a.j,Error("Model revision ahead of sentBundlesSavedRevision while cold starting",{pendingQueue_sentBundlesSavedRevision:g})),f=!0):f=!1;f&&(b>c?e=a.g.v=!0:b==c&&Ln(a.j,Error("Model revision is equal to queue revision while warm starting with a non-empty saved queue")));a.j.g.pendingQueue_forcedEmptyInMemory=e.toString();a.g.ba()&&($u(a.g,b,d),
null!==a.C&&Y(a.g,"accessLevel",a.C));d=Hf(J(),"icso");b>c&&d&&!a.g.ba()&&Jn(a.j,Error("Model revision is ahead of queue revision while cold starting with a non-empty queue"));c=!1;e=Zu(a.g);d=Hf(J(),"icso");Hf(J(),"docs-localstore-epqs")?(b=ks(a.o.g),b=null!==b&&3==b,b=d&&!a.g.ba()&&b):null!==e&&mv(a.g)&&!lv(a.g)&&b<e?(d||Ln(a.j,Error("Model revision less than sentBundlesSavedRevision while warm starting",{pendingQueue_sentBundlesSavedRevision:e})),b=!0):b=!1;b&&(c=!0,dF(a));a.j.g.pendingQueue_setWaitingForAck=
c.toString();a.M[a.U]=!0;b=jv(a.g).concat(WE(a));for(c=0;c<b.length;c++)a.M[b[c].ea]=!0;a.dispatchEvent("qa");YE(a);a=new HE(!1,this.j.getId(),this.Z,0,0,this.Qa,2,ko);this.H=new oF(this.C,this.A,a,this.ca);U(this.H.send(),q(this.Tc,this),q(this.$j,this))}else this.Tc()};l.Zj=function(a){a?this.Rb(a):this.Ea(9,"Could not retrieve pending command queue.")};l.$j=function(a){this.O&&!aF(this.C)?th(eF(this.C),function(){tF(this,a)}.bind(this)):tF(this,a)};
function tF(a,b){b.j?a.Ea(5,"Permanent failure while delivering the pending command queue"):b.g?a.Rb(b.g):a.Ea(6,"Temporary failure while delivering the pending command queue")}l.Sj=function(){var a=[];this.H&&pF(this.H);wE(this.g,!0);yE(this.g);this.ha.K();a.push(this.g.ha);a.push(uF(this));(new pn(a)).T(q(this.Kj,this));(a=this.o.g.If())&&Yt(a,[this.B],q(aa(),this),q(function(a){this.D.log(a)},this))};
function uF(a){if(!a.I||!a.A||!PE(a.A).length)return Ah();var b=new S,c=PE(a.A),d=a.A;a=q(a.kl,a,b,c);d.j={};d.o={};d.A={};d.B={};d.g={};c=d.C;d=c.o;c=xt(c.B.g,["BlobMetadata"],"Clearing all blob metadata",c.j||void 0,!0);qt(c,a);hn(X(c,"BlobMetadata"),[d],[d,[]]);return b}l.kl=function(a,b){for(var c=[],d=0;d<b.length;d++)Cq(b[d],"ou")&&c.push(Ah());vh(new pn(c),a)};
l.ik=function(a){switch(a.g){case 1:this.cg(new qE(2));break;case 2:this.Ea(2,"Entity sync failed");break;case 3:this.pa?vF(this,!1):this.Ea(7,"Server model fetch failed");break;default:this.Ea(7,"Unknown server document loader error")}};l.cg=function(a){if(this.O)vF(this,!0);else switch(a.g){case 3:this.Ea(12,a.message);break;default:this.Ea(7,a.message)}};function vF(a,b){var c=a.g;c.Oa=!0;c.A=null;c.g||G(c.o);c.I=null;c.o=null;a.I?wF(a,b):a.xg(q(a.wk,a,b))}
l.wk=function(a){if($E(this.C)){var b=eF(this.C);b.T(xF(this,a));sh(b,q(this.Rb,this))}else aF(this.C)||wF(this,a)};function wF(a,b){b=xF(a,b);a.j.D?b():(xq(a.j),a.o.write([a.j],b,q(a.Rb,a)))}function xF(a,b){return b?q(a.Ea,a,7,"Server model fetch failed"):q(a.bd,a)}
l.Kj=function(){var a=this.o.g.jd();if(a)if(yF(this)){var b;b=this.Oa&&this.U&&this.I?(b=Fq(this.j,"docosKeyData"))&&0!=b.length&&yF(this)?!!this.ea:!1:!1;if(b){b=new jz(35E3);b.T(q(this.Ni,this));var c=q(this.Mi,this);sh(b.g,c,void 0);this.U.Ia(this.B,a,this.o,Fq(this.j,"docosKeyData"),q(b.K,b),q(b.v,b))}else this.bd()}else bh(zF(this),this.bd.bind(this));else this.bd()};
function zF(a){return new R(function(a,c){St(this.o.g.jd(),[this.B],function(){a()}.bind(this),function(a){this.D.log(a);c()}.bind(this))}.bind(a))}function yF(a){var b;a=zq(a.j,"acl");var c=0,d=0;if(a)for(b in a)c=a[b],d++;b=1==d?c:0;return bs.indexOf(b)>=bs.indexOf(2)||bs.indexOf(b)>=bs.indexOf(4)}l.Ni=function(){bh(zF(this),this.bd.bind(this))};l.Mi=function(){bh(zF(this),function(){this.Ea(1,"Docos sync failed")}.bind(this))};
l.Rb=function(a){bh(AF(this),function(){if(2==a.type)this.dispatchEvent(new Hx(this.B,3,"Write failed due to lock steal: "+a.message));else{var b=bn(a);(b=!!b&&"QuotaExceededError"==b.name)||(b=bn(a),b=1==a.type&&!!b&&"UnknownError"==b.name);this.dispatchEvent(new Hx(this.B,b?8:9,"Could not write document to local store: "+a.message))}}.bind(this))};l.Ea=function(a,b){bh(AF(this),function(){this.dispatchEvent(new Hx(this.B,a,b))}.bind(this))};
function AF(a){return a.N?new R(q(function(a,c){fu(this.o.g.g,this.j.getId(),q(function(b){b?(b.yc(!1),b.xc(r()),this.o.write([b],a,c)):a()},this),c)},a)):Tg()}l.bd=function(){this.g.g.kb?this.R():(wE(this.g,!1),this.N&&(this.g.yc(!0),this.g.xc(r())),tE(this.g).T(q(this.R,this)))};l.G=function(){G(this.Y);G(this.H);rF.J.G.call(this)};function BF(a,b,c,d){this.j=a;this.o=b;this.v=c;this.g=d};function CF(a){this.g=a};function DF(a){if(1>=a.length)return a;for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d],f=d<a.length-1?a[d+1]:null,g;if(g=null!=f){g=e;var k=f;g=Jc(C(g,YA,2),C(k,YA,2))&&A(C(g,iA,3),6)==A(C(k,iA,3),6)}g&&5E3>=c.length+Bc(e,SA,1).length+Bc(f,SA,1).length?zb(c,Bc(e,SA,1)):0==c.length?b.push(e):(zb(c,Bc(e,SA,1)),e=new ZA(Cc(e).slice()),Dc(e,1,c),b.push(e),c=[])}return b};function Mz(a,b,c){this.j=a;this.v=b;this.o=c;this.g=!1}function Yx(a,b,c){a.g?c("Impression delivery already in progress."):(a.g=!0,Bu(a.j,q(a.A,a,b),q(function(a){this.g=!1;c(an(a))},a)))}Mz.prototype.A=function(a,b){var c=[];b=EF(b);for(var d in b){var e=b[d],f;for(f in e){for(var g=e[f],k=g[g.length-1].g.ibt,p=[],u=0;u<g.length;u++)p.push(new ZA(Qb(g[u].g.iba)));g=DF(p);c.push(FF(this,f,d||null,g,k))}}Yg(c).then(function(){this.g=!1;a()},void 0,this)};
function EF(a){for(var b={},c=0;c<a.length;c++){var d=a[c],e=Cq(d,"di")||"",f=d.g.dt,g=b[e];g||(g={},b[e]=g);e=g[f];e||(e=[],g[f]=e);e.push(d)}return b}
function FF(a,b,c,d,e){var f=[],g=a.v[b];if(!g)return d="Could not find an impression sender for target "+b,wn(a.o,Error(d)),Ug(d);for(b=0;b<d.length;b++)f.push(g.g(d[b],c));return Yg(f).then(function(a){if(!a.every(function(a){return a.pd})&&!a.some(function(a){return!a.pd&&a.reason instanceof wA&&a.reason.g}))throw Error("Impression batch sending failed from non-permanent errors.");}).then(function(){return new R(function(a,b){b=X(xt(this.j.g,["Impressions"],"Error deleting impressions.",b,!0),
"Impressions");hn(b,[c||"",0],[c||"",e],a)},this)},void 0,a)};function GF(){this.j=!1}t(GF,bD);GF.prototype.g=function(a,b,c,d,e){"labelpath"==c.entityType?(c=pc(c.path),a=new vu(b,a,"labelPath",c,!0),e.push(a)):GF.J.g.call(this,a,b,c,d,e)};function HF(a,b,c,d,e,f,g,k,p){this.o=a;this.A=b;this.g=c;this.B=f;this.j=g;this.v=k;this.C=p}HF.prototype.Sa=h("o");function LF(a,b,c,d,e){E.call(this);this.Ra=a;this.o=b;this.g=c;this.v=e;this.j=new V(this);F(this,this.j)}t(LF,E);LF.prototype.A=function(a,b){Ln(this.g,Error(an(b)));a()};
LF.prototype.B=function(a,b,c,d){var e;try{e=d.Ka()}catch(p){Ln(this.g,Error("Could not interpret result of /getappmetadata "+(d.g||"")));c();return}var f=e;if(f&&f.newModelCommands&&f.jobset){d=xs(f.newModelCommands);e=f.jobset;var g=f.docosKeyData,f=f.version,k=new Bt(this.Ra,!0);Y(k,"jobset",e);k.v=d.concat();k.o=!0;g&&Y(k,"docosKeyData",g);n(f)&&Y(k,"version",f);d=k}else d=null;d?a.write([d],b,q(this.A,this,c)):b()};LF.prototype.G=function(){LF.J.G.call(this);delete this.j;delete this.g};function MF(a,b,c){E.call(this);this.Ra=a;this.o=b;this.g=c}t(MF,E);MF.prototype.j=function(a,b){Ln(this.g,Error(an(b)));a()};MF.prototype.v=function(a,b,c,d){var e=If(J(),"docs-offline-nnodi");d<.9*e?(d=e-d,a=dl(bl(Zk(cl(mo(this.o,"/getids").o("num",d),q(this.A,this,a,b,c)),c),2)),F(this,a)):b(0)};
MF.prototype.A=function(a,b,c,d){var e;try{e=d.Ka()}catch(f){Ln(this.g,Error("Could not interpret result of /getids: "+(d.g||"")));c();return}e&&0!=e.length?(a=a.g.Yb())?tu(a,this.Ra,e,Ma(b,e.length),q(this.j,this,c)):b(e.length):b(0)};function NF(a,b,c,d,e){E.call(this);this.Ra=a;this.ne=new MF(a,b,c);this.g=new LF(a,b,c,0,e)}t(NF,E);NF.prototype.Nf=function(a,b,c,d){var e=Ma(b,d);b=this.g;d=Ma(e,!0);e=Ma(e,!1);a=bl(Zk(cl(mo(b.o,"/getappmetadata").o("smv",b.v),q(b.B,b,a,d,e)),e),2);c&&a.o("forcehl","1","hl",c);c=dl(a);F(b,c)};NF.prototype.toString=function(){return"EditorMetadataFetcher for "+this.Ra};NF.prototype.G=function(){G(this.ne);delete this.ne;G(this.g);delete this.g;NF.J.G.call(this)};function OF(a,b,c,d,e,f){this.g=a;this.B=b;this.v=c;this.A=d;this.o=e;this.j=f?f:null}function PF(a,b,c,d,e,f,g,k){var p=a.g.A?Iz(a):null,u=a.B,w=a.v,z=a.A,T=a.o;f=f&&!!p;var W=a.g.j,na=a.g.C;a=u.g?u.g():new LD;var ra=new ZD(new Vn),Z=c.getId(),na=new YD(new VD(Z,na),ra,new MD(Z,p,ra),Z,p,T);return new rF(W,"/model",p,fi(),T,new $D(u.o,u.v),b,c,d,e,f,g,k,0,-1,void 0,w,a,z,!1,void 0,na,If(J(),"docs-offline-desktop-mms")||void 0,u.j)}
function QF(a){return a.g.g?new NF(a.g.Sa(),Iz(a),a.o,0,-1):null}function Iz(a){a.j||(a.j=RF(a.g));return a.j}function RF(a){var b=new lo(new Fm(a.v));b.j.o=a.j;b.B=io;return b};function SF(a,b,c){this.g=a;this.v=null;this.M=b;this.o=new Bw(this.g,this.M);F(this,this.o);this.B=this.H=this.D=this.C=this.A=this.F=null;TF(this,c)}t(SF,E);
function TF(a,b){var c=Gf.ua(),d=new HF("drawing",!0,!0,0,0,!0,Jf(c,"ddsup"),Jf(c,"ddscu"),Jf(c,"ddsci")),e=new HF("kix",!0,!0,0,0,!0,Jf(c,"dksup"),Jf(c,"dkscu"),Jf(c,"dksci")),f=new HF("punch",!0,!0,0,0,!0,Jf(c,"dpsup"),Jf(c,"dpscu"),Jf(c,"dpsci")),c=new HF("ritz",!0,!0,0,0,!0,Jf(c,"drsup"),Jf(c,"drscu"),Jf(c,"drsci")),g=RF(e),k=[];k.push(UF(a,g));var p=new BF(new vD(k)),k=new BF(new vD(k),void 0,void 0,function(){return b(g)}),u=new BF(new vD([new uD(["docLocale","ritzChunkSize"])]),"top","chunk"),
w=VF(a);Qz(a);var z=new GF;a.j={drawing:new OF(d,p,w,z,a.g),kix:new OF(e,k,w,new bD,a.g,g),punch:new OF(f,p,w,z,a.g,void 0),ritz:new OF(c,u,w,new bD(!0),a.g,void 0)}}function UF(a,b){b=new Oz(b,a.g,{});var c=new S;b=new Rz(new Sz([Tz(c),b]),c,0,!0);b=new Uz(new Vz(Nz(),0,null,!1),b,new Wz);WF(a,q(function(a){var b=a.Lb();a=b?new Pz(b,a,Qz(this),this.g):null;c.K(a)},a),q(c.P,c,null));return new tD(b)}
function Wx(a,b,c,d,e,f,g,k,p,u){var w=c.L();a=a.j[w];if(!a)return null;var z=PF(a,b,c,f,g,k,p,u);if(!z)return null;b=new V;b.listen(z,"P",function(a){z.V();d(a.wf)}).listen(z,"R",function(a){z.V();e(a)});F(z,b);return z}function Xz(a){if(!a.A){var b=new S;a.A=b;var c=new eD(a.g);fD(c,q(b.K,b,c),q(b.P,b))}return a.A.Wb()}function Qz(a){if(!a.F){var b=new sD;a.F=b;U(Xz(a),function(a){for(b.j=new mD(a);0<b.o.length;)b.o.shift()()},function(a){throw a;})}return a.F}
function Yz(a){if(!a.B){var b=Xz(a);a.B=new nD(b)}return a.B}function VF(a){a.C||(a.C=new rD(Qz(a)));return a.C}function WF(a,b,c){Gz(a).then(b,c)}function Gz(a){return a.o.get().then(function(a){return this.v=a}.bind(a))}function Ez(a){var b=[];Fb(a.j,function(a){a.g.g&&b.push(QF(a))});return new CF(b)}
SF.prototype.I=function(a,b,c){var d=this.D,e=this.H,f=new UC(a,c),g;g=Gf.ua();g=Ib(Kf(g,"dffd"));m.console.log("Default font families: "+g);var k=new ID(this.g),p=a?a.g.Jf():null;if(a&&p)if(k.o=new HD(a,p,k.B),k.A){var u=k.o,w=q(k.C,k),z=q(k.g.P,k.g),p=u.o,u=Ma(u.v,w),z=xt(p.o,["SyncObjects"],"Error reading SyncObjects.",z);ln(z,"SyncObjects",q(p.g,p),u,void 0,void 0,void 0,void 0,void 0,!0)}else(p=k.j.ga())&&k.o&&k.o.write(p,Ma(ya,p));else k.A&&k.g.K();return new gC(new aD(b,f,e,d,g,c,this.g,k),
f,a,this.g)};SF.prototype.G=function(){ee(Ib(this.j));SF.J.G.call(this)};(function(){var a=self,b=eA();Mn(b,function(){function c(a){return new Mq(a)}var d=new Rq(a,3E4),e=new Zz(d),f=new qr(e),g=new nr(e);Tr(new Sr(e)).then(function(a){var d=new SF(b,a,c),k=d.o,w=Kz(),k=new zA(new Lz(w),null,jc?new yA(k,"offline"):new BA),z=new vA(w),T=fi(),w=new kB;w.o=k;w.v=z;w.j=!0;k=w.g;A(k.g,1);B(k.g,1,T);k=w.g;A(k.g,6);B(k.g,6,84);fB(w.g);k=new hB;k.j=w.g;null==k.g&&(k.g=new JA);T=k.g;z=new gB;dB.getId();T.g[dB.getId()]=z;T=k.g;z=k.j;if(null==A(jB(z),1)){var W=jB(z),na=new VA;D(W,
1,na)}z=C(jB(z),VA,1);T.ff=z;z=Ib(T.wi);for(W=0;W<z.length;W++)z[W].Ct(T.ff);k=new eB(k.j,k.g);w=new DA(k,w.o,0,w.j);w=new IA(k,w);k=w.j.A;T=1E3*r();A(k.g,2);B(k.g,2,T);T=(new lA).get();k.o=T;k=w.j;T=sz(k,716);HA(k,T);T=uz(T);k.g.g.push(T);k=w.g;CA(6E4,k.j.Mb,k.j);CA(36E5,k.A,k);w.g.j.Mb();k=new dA(b,w,e);F(k,d);a=new Bz(b,a,d,e,f,g,w);k.start(a)})},{},!0)()})();}).call(this);
