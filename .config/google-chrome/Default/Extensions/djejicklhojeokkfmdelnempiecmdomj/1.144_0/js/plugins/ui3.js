pluginFn['/js/plugins/v2/ui3.js'] = function(lucid, window) {
	(function(){function X(b,f,a){return 1<(lucid.plugin.getProperty(null,"Version")||0)?a(b):f(b)}function w(b,f,a){return{Action:"line",x:b.x+b.w*f,y:b.y+b.h*a}}function R(b,f,a){return{Action:"move",x:b.x+b.w*f,y:b.y+b.h*a}}function S(){return{Action:"close"}}function la(b,f,a,c,d,e){lucid.plugin.addBlockTextArea(b,{id:f,value:lucid.text.restyle(a,d),getBoundingBox:function(a){if(e&&e())return null;var b=c&&c(a);return void 0!==b?b:a}})}function Y(b,f,a,c,d,e,g){var h=a.split("/"),h=h[h.length-1],
h=h.split(".")[0].replace(/-/g,"_");b="UI3Image_"+b.split(" ")[0].toLowerCase()+"_"+h;h=["ui","interface"].concat(lucid.string.trim(f.replace(/as|with|iphone/gi,"").replace(/\W/g," ").replace(/\s+/g," ")).split(" "));lucid.plugin.initBlockClass({className:b,name:f,searchKeywords:h,defaultSize:{w:d,h:e},minHeight:20,maxHeight:20,snapSpacing:4,onInit:function(a){},getRenderData:function(b,f){var h=b.BoundingBox,m=d/e,t=h.w/h.h;m>t?(m=h.w/m,m={x:h.x,y:h.y+(h.h-m)/2,w:h.w,h:m}):m<t?(m*=h.h,m={x:h.x+(h.w-
m)/2,y:h.y,w:m,h:h.h}):m=lucid.object.copy(h);return"sample"==f?[{Image:c,BoundingBox:{x:2,y:2,w:23,h:23}}]:g?g(b,a,m,d,e,h):[{Image:a,BoundingBox:m}]}})}function D(b,f,a){var c=0,d=[],e=lucid.plugin.getProperty(b,f),g={x:0,y:0,w:1E6,h:1E4};for(f=1;f<=e;f++){var h=lucid.text.getSize(b,a+f,g),c=c+h.w;d.push(h.w)}lucid.plugin.refreshBlockView(b);lucid.plugin.setProperty(b,"totalSectionWidth",c,!0);lucid.plugin.setProperty(b,"sectionWidths",d,!0)}function U(b,f){function a(a,c,d){lucid.plugin.addBlockTextArea(b,
{id:d,getBoundingBox:function(d){var e=lucid.plugin.getProperty(b,"LayoutData",!0);if(!(e&&e.visibleText[a]&&e.visibleText[a][c]&&e.fixedWidths[c]&&e.fixedHeights[a])||e.icons[a]&&e.icons[a][c])return null;var f=d.w-e.totalFixedWidth;return e.fixedYs[a]+e.fixedHeights[a]>d.h?null:{x:d.x+e.fixedXs[c]+e.dynamicXs[c]*f+6,y:d.y+e.fixedYs[a],w:(e.dynamicWidths[c]?e.dynamicWidths[c]*f:e.fixedWidths[c])-12,h:e.fixedHeights[a]}},readOnly:!0,align:"C"==h[c]?"center":"R"==h[c]?"right":"L"==h[c]?"left":null})}
if(Z){var c=lucid.plugin.getAllProperties(b);if(c){var d=[],e=[],g=[],h=[],k=[],l=[],n=[],m=0,t=[],r=[],p=[],q=c.Data;if(q){var q=q.replace(/^\s+|\s+$/g,""),q=q.replace(/\\,/g,"___COMMA___").replace(/,/g,"\t").replace(/___COMMA___/g,","),q=q.replace(/\n/g,"___NEWLINE___").replace(/\\n/g,"\n"),q=q.split("___NEWLINE___"),V=[],y=[];lucid.array.forEach(q,function(a,b){a=a.replace(/^\s+|\s+$/g,"");b==q.length-1&&(y=a.match(/^\{([^\}]+?)\}$/))?(y=y[1].split("\t"),lucid.array.forEach(y,function(a,b){y[b]=
a.replace(/^\s+|\s+$/g,"")}),p=y):(a=a.split("\t"),lucid.array.forEach(a,function(b,c){a[c]=b.replace(/^\s+|\s+$/g,"")}),V.push(a),p=[])});for(var ma=c.Font,N=null,aa=lucid.plugin.getBlockTextAreas(b),z="",u="",H=0,E={x:0,y:0,w:1E4,h:1E4},v=0,ba=0,ca=0,w=0,d=[],e=[],g=[],h=[],k=[],l=[],n=[],m=0,t=[],r=[],da={},W=0;W<aa.length;W++)da[aa[W]]=!0;lucid.array.forEach(V,function(k,l){lucid.array.forEach(k,function(k,m){z="Cell_"+l+"_"+m;N||(N=lucid.text.getStyleFromContent(c[z]));u="<span>"+lucid.string.htmlEscape(k)+
"</span>";N&&(delete N.align,u=lucid.text.restyle(u,N));if(null==g[m]&&p[m]&&parseInt(p[m],10)){var n=parseInt(p[m],10);g[m]=n;H+=n}null==h[m]&&p[m]&&(h[m]=p[m].replace(/[0-9]/g,"").toUpperCase());d[m]||(d[m]=0);e[l]||(e[l]=36);switch(k){case "[x]":case "[]":case "[ ]":case "(o)":case "()":case "( )":d[m]=Math.max(d[m],36);e[l]=Math.max(e[l],36);t[l]||(t[l]=[]);t[l][m]=k;break;default:n=lucid.text.measure(u,E,ma),d[m]=Math.max(d[m],n.w+12),e[l]=Math.max(e[l],n.h+12),r[l]||(r[l]=[]),r[l][m]=!0}if(da[z])f||
lucid.object.areEqual(c[z],u)||lucid.plugin.setProperty(b,z,u),h[m]?lucid.plugin.updateBlockTextArea(b,z,{align:"C"==h[m]?"center":"R"==h[m]?"right":"left"}):lucid.plugin.updateBlockTextArea(b,z,{align:null});else if(f||null!=c[z])a(l,m,z);else{var y=z,q=lucid.plugin.hookPropertyPostSave(b,z,function(){a(l,m,y);lucid.plugin.unHookPropertyPostSave(b,y,q)});lucid.plugin.setProperty(b,z,u)}})});lucid.array.forEach(d,function(a,b){w+=a;g[b]||(m+=a)});0==g.length?(lucid.array.forEach(d,function(a,b){g[b]=
a/w}),m=0):lucid.array.forEach(g,function(a,b){g[b]=a/H});lucid.array.forEach(V,function(a,b){l[b]=ba;lucid.array.forEach(a,function(a,b){null==k[b]&&null==n[b]&&(k[b]=v,n[b]=ca,g[b]?ca+=g[b]:v+=d[b])});ba+=e[b]})}lucid.plugin.setProperty(b,"LayoutData",{visibleText:r,fixedWidths:d,fixedHeights:e,icons:t,totalFixedWidth:m,fixedXs:k,fixedYs:l,dynamicXs:n,dynamicWidths:g,columnAlignment:h},!0);lucid.plugin.refreshBlockView(b)}}}var J={global:this,provide:function(b){b=b.split(".");J.global[b[0]]=J.global[b[0]]||
{};var f=J.global[b[0]];b.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},f)},require:function(){},inherits:function(b,f){function a(){}a.prototype=f.prototype;b.superClass_=f.prototype;b.prototype=new a;b.prototype.constructor=b;b.base=function(a,b,e){var g=Array.prototype.slice.call(arguments,2);return f.prototype[b].apply(a,g)}},base:function(b,f,a){var c=arguments.callee.caller;if(J.STRICT_MODE_COMPATIBLE||J.DEBUG&&!c)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");
if(c.superClass_)return c.superClass_.constructor.apply(b,Array.prototype.slice.call(arguments,1));for(var d=Array.prototype.slice.call(arguments,2),e=!1,g=b.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[f]===c)e=!0;else if(e)return g.prototype[f].apply(b,d);if(b[f]===c)return b.constructor.prototype[f].apply(b,d);throw Error("goog.base called from a method of one name to a method of a different name");}};J.provide("plugin.ui3");var ea="none",fa={},u=function(b){return[R(b,
0,0),w(b,1,0),w(b,1,1),w(b,0,1),S()]},na=function(b,f){f=f||void 0===f;for(var a=[{Action:"move",x:b[0][0],y:b[0][1]}],c=1;c<b.length;c++)a.push({Action:"line",x:b[c][0],y:b[c][1]});f&&a.push({Action:"close"});return a};lucid.plugin.onDocumentLoaded(function(){function b(a,b,c,d){var e={};lucid.array.forEach(a,function(a){a=lucid.plugin.getProperty(a,b);null!=a&&(e[a]?e[a]++:e[a]=1)});var f=0,g=c;lucid.object.forEach(e,function(a,b){a>f&&(g=b,f=a)});switch(d){case "boolean":g="false"==g?!1:!0;break;
case "number":g=Number(g)}return g}function f(a,b){for(var c=lucid.plugin.getProperty(b[0],a),d=1;d<b.length;d++)if(c!=lucid.plugin.getProperty(b[d],a))return null;return c}function a(a,b){for(var c=lucid.plugin.getProperty(b[0],a),d=1;d<b.length;d++){var e=lucid.plugin.getProperty(b[d],a);e<c&&(c=e)}return c}function c(a,b,c,d){p&&a.spacer();p=!0;d=d||6;var e=6-d;c&&a.addGrid({width:6,content:{classes:"crop ralign",text:c}});a.openGrid({prefix:c?0:6,width:d,suffix:e});b=a.addInput(b);a.close();return b}
function d(a,c,d,e,f){p&&a.spacer();p=!0;a.addGrid({width:6,content:{text:e+":",classes:"crop ralign"}});a.openGrid({width:6});e=a.addInput({type:"checkbox",checked:b(c,d,!1,"boolean"),onChange:function(a){f&&f(a);k(c,d,a)}});a.close();return e}function e(a,b,d,e,f){c(a,{type:"colorwell",value:f,onChange:function(a,c){c||k(b,d,a)}},e)}function g(a,b,d,e,f,g,h){c(a,{type:"select",options:lucid.array.realMap(f,function(a){return{label:a,value:a,selected:a==g}}),onChange:function(a){h?lucid.array.forEach(b,
function(b){h(b,a)}):k(b,d,a);lucid.array.forEach(this.options,function(b){b.selected=b.value==a})}},e)}function h(a,b,d,e,f,g,h,l,m){return c(a,{type:"spinner",min:f,max:g,value:h,defaultVal:l,loop:!1,onChange:function(a){m?lucid.array.forEach(b,function(b){m(b,a)}):k(b,d,a)}},e,3)}function k(a,b,c){lucid.array.forEach(a,function(a){lucid.plugin.setPropertyIfChanged(a,b,c)})}function l(a,b){var c=[];lucid.array.forEach(a,function(a){b(a)&&c.push(a.id)});return c}function n(c,d){function g(a,b){h&&
h.setMax(a);b||lucid.array.forEach(d.ids,function(b){if("Options"==d.prop){var c={UI3CheckBoxBlock:"v",UI3RadioBlock:"v",UI3HorizontalCheckBoxBlock:"h",UI3HorizontalRadioBlock:"h"},e=lucid.plugin.getBlockClassName(b);if(c[e]){var f=lucid.plugin.getProperty(b,d.prop);if(f!=a){var g=lucid.plugin.getProperty(b,"BoundingBox");"v"==c[e]?g.h=g.h/f*a:g.w=g.w/f*a;lucid.plugin.setProperty(b,"BoundingBox",g)}}}lucid.plugin.setPropertyIfChanged(b,d.prop,a)})}var h;d.pairs=d.pairs||[];r&&!d.nospace&&c.spacer();
r=!0;"spinner"==d.type?(c.addGrid({width:6,content:{text:d.name+":",classes:"crop ralign"}}),c.openGrid({width:3,suffix:3}),c.addInput({type:"spinner",min:d.min||1,max:d.max||100,step:1,value:f(d.prop,d.ids),defaultVal:" ",onChange:g}),c.close(),0<d.pairs.length&&(c.spacer(),c.addGrid({width:6,content:{text:"Selected:",classes:"crop ralign"}}),c.openGrid({width:3,suffix:3}),h=c.addInput({type:"spinner",min:0,max:f(d.prop,d.ids)||a(d.prop,d.pairs),step:1,value:f("Selected",d.pairs),defaultVal:" ",
onChange:function(a,b){lucid.array.forEach(d.pairs,function(b){lucid.plugin.setPropertyIfChanged(b,"Selected",a)})},displayFunction:function(a){return 0==a||""==a||"None"==a?"None":a}}),c.close())):"buttonset"==d.type?(c.addGrid({width:6,content:{text:d.name+":",classes:"crop ralign"}}),c.openGrid({width:6}),c.addInput({type:"buttonset",buttons:lucid.array.realMap(d.buttons,function(a){return{icon:a.icon,value:a.prop,selected:function(){return f(a.prop,d.ids)},action:function(){var b=f(a.prop,d.ids)?
0:1;lucid.array.forEach(d.ids,function(c){lucid.plugin.setPropertyIfChanged(c,a.prop,b)})}}})}),c.close()):"button"==d.type?(c.openGrid({width:6,prefix:3,suffix:3}),c.addButton({onClick:function(){d.onClick(d.id)},label:d.text}),c.close()):"colorwell"==d.type&&e(c,d.ids,d.prop,d.name,b(d.ids,d.prop,d.defaultColor))}var m=lucid.template.builder(),t=m.add({classes:"ui3_inputs"}),r=!1,p=!1,q=!1;lucid.plugin.addCustomPanel("Context Panel",null,[{content:m}],null,{isContextPanel:!0,checkShow:function(a){a=
lucid.array.filter(a,function(a){return a.isBlock});if(!lucid.array.every(a,function(a){return 0==a.className.search("UI3")}))return!1;var c=!1;r=!1;var e=lucid.template.builder(),p={Tabs:{ids:[],name:"Tabs",type:"spinner",prop:"Tabs",pairs:[]},Links:{ids:[],name:"Links",prop:"Links",type:"spinner"},Panels:{ids:[],name:"Panels",prop:"Panels",type:"spinner",pairs:[]},Buttons:{ids:[],name:"Buttons",prop:"Buttons",type:"spinner",pairs:[]},Options:{ids:[],name:"Options",prop:"Options",type:"spinner",
pairs:[]},Cols:{ids:[],name:"Columns",prop:"Cols",type:"spinner"},Rows:{ids:[],name:"Rows",prop:"Rows",type:"spinner"},SideLength:{ids:[],name:"Input Size",prop:"SideLength",type:"spinner"},SelectedColor:{ids:[],name:"Selected Color",prop:"SelectedColor",type:"colorwell",defaultColor:"#000"},Scrollbars:{ids:[],name:"Scrollbars",prop:"vScroll",type:"buttonset",buttons:[{prop:"vScroll",icon:"vscrollbar"},{prop:"hScroll",icon:"hscrollbar"}]}},u={UI3TableBlock:{onClick:ga,text:"Edit Markup",type:"button"},
UI3ContextMenuBlock:{onClick:ha,text:"Edit Markup",type:"button"},UI3TreePaneBlock:{onClick:ia,text:"Edit Markup",type:"button"}},v=l(a,function(a){return"UI3SideBarBlock"==a.className});if(v.length){d(e,v,"ViewMode","Toggle View");var w=b(v,"MenuItems",4,"number");h(e,v,"MenuItems","Menu Items",1,100,w,1);c=!0}v=l(a,function(a){return"UI3GridBlock"==a.className});if(v.length){n(e,{type:"spinner",name:"Columns",ids:v,min:2,max:24,prop:"GridColumns"});n(e,{type:"spinner",name:"Gutter",ids:v,min:2,
max:50,prop:"GridGutterSize"});d(e,v,"HideGrid","Hide Grid");var x=function(a,b){var c=parseInt(b);if(!isNaN(c)){var d=lucid.plugin.getProperty(a,"BoundingBox");d.w=c;lucid.plugin.setPropertyIfChanged(a,"BoundingBox",d)}},w=f("GridWidth",v);g(e,v,"GridWidth","Width",ja.concat(["Custom"]),w,function(a,b){x(a,b);lucid.plugin.setPropertyIfChanged(a,"GridWidth",b)});"Custom"==f("GridWidth",v)&&(w=(w=f("BoundingBox",v))&&w.w||null,k(v,"GridWidthText",w),h(e,v,"GridWidthText",null,1,1E4,w,960,function(a,
b){x(a,b);lucid.plugin.setPropertyIfChanged(a,"GridWidthText",b)}));c=!0}lucid.array.forEach(a,function(a){lucid.object.forEach(p,function(b){null!=lucid.plugin.getProperty(a.id,b.prop)&&(b.ids.push(a.id),b.pairs&&"number"==typeof lucid.plugin.getProperty(a.id,"Selected")&&b.pairs.push(a.id))})});lucid.object.forEach(p,function(a){0<a.ids.length&&(n(e,a),c=!0)});1==a.length&&u[a[0].className]&&!lucid.useragent.is_touch()&&(u=u[a[0].className],u.id=a[0].id,n(e,u),c=!0);q=c&&0<a.filter(function(a){return"UI3HorizontalRadioBlock"==
a.className||"UI3HorizontalCheckBoxBlock"==a.className}).length?!0:!1;(function(){setTimeout(function(){m.getElement(t).setContent(e);e.refreshInputs()},10)})();return c},positionFunction:function(a){return q?{x:a.x+a.w/2,y:a.y+a.h}:!1},refreshProperties:["GridWidth"]})});var ja=["480 px","768 px","960 px","980 px","1200 px"],v=function(b,f){for(var a=0;a<f.length;a++)b.push(f[a])},O=function(b,f,a,c){return[{StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.4*b.h},{Action:"line",
x:b.x+.4*b.w,y:b.y+b.h},{Action:"line",x:b.x+b.w,y:b.y}]}]},oa=function(b,f,a,c){return[{StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h},{Action:"move",x:b.x+.5*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+b.h}]}]},pa=function(b,f,a,c){return[{StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h}]}]},F=function(b,f,a,c,d,e){var g=[{FillColor:f,StrokeColor:a,
LineWidth:c,Actions:[{Action:"move",x:b.x+b.w,y:b.y+.5*b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,b.h,0,2*Math.PI)},{Action:"close"}]}];if(d){var h=.5*(1-Math.SQRT1_2)*b.w,k=.5*(1-Math.SQRT1_2)*b.h;b={x:b.x+h,y:b.y+k,w:b.w-2*h,h:b.h-2*k};e&&(b.x+=e.l*b.w,b.y+=e.t*b.h,b.w-=(e.l+e.r)*b.w,b.h-=(e.t+e.b)*b.h);v(g,d(b,f,a,c))}return g},qa=function(b,f,a,c,d,e){return F(b,a,a,c,d,e)},G=function(b,f,a,c,d,e){var g=[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:u(b)}];
d&&(b={x:b.x+0,y:b.y+0,w:b.w-0,h:b.h-0},e&&(b.x+=e.l*b.w,b.y+=e.t*b.h,b.w-=(e.l+e.r)*b.w,b.h-=(e.t+e.b)*b.h),v(g,d(b,f,a,c)));return g},P=function(b,f,a,c,d,e){var g=[];d&&(b={x:b.x+0,y:b.y+0,w:b.w-0,h:b.h-0},e&&(b.x+=e.l*b.w,b.y+=e.t*b.h,b.w-=(e.l+e.r)*b.w,b.h-=(e.t+e.b)*b.h),v(g,d(b,f,a,c)));return g},C=function(b,f,a,c){return[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+.5*b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]},
Q=function(b,f,a,c){return[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x+b.w,y:b.y},{Action:"line",x:b.x,y:b.y+.5*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"close"}]}]},ka=function(b,f,a,c){return[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[R(b,0,0),w(b,1,0),w(b,.5,1),S()]}]},ra=function(b,f,a,c){return[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[R(b,0,1),w(b,1,1),w(b,.5,0),S()]}]},sa=function(b,f,a,c){return[{FillColor:f,
StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+.4*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]},ta=function(b,f,a,c){return[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x+.1*b.w,y:b.y},{Action:"line",x:b.x+.5*b.w,y:b.y},{Action:"line",x:b.x+.6*b.w,y:b.y+.15*b.h},{Action:"line",
x:b.x+b.w,y:b.y+.15*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"close"}]},{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y+.4*b.h},{Action:"line",x:b.x+.8*b.w,y:b.y+.4*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"close"}]}]},ua=function(b,f,a,c){return[{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+.8*b.w,y:b.y},
{Action:"line",x:b.x+b.w,y:b.y+.2*b.h},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{FillColor:f,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x+.8*b.w,y:b.y},{Action:"line",x:b.x+.8*b.w,y:b.y+.2*b.h},{Action:"line",x:b.x+b.w,y:b.y+.2*b.h},{Action:"move",x:b.x+.2*b.w,y:b.y+.4*b.h},{Action:"line",x:b.x+.7*b.w,y:b.y+.4*b.h},{Action:"move",x:b.x+.2*b.w,y:b.y+.7*b.h},{Action:"line",x:b.x+.8*b.w,y:b.y+.7*b.h}]}]},va=function(b,f,a,c){var d=
[];v(d,C({x:b.x,y:b.y,w:.5*b.w,h:b.h},f,a,c));v(d,C({x:b.x+.5*b.w,y:b.y,w:.5*b.w,h:b.h},f,a,c));return d},wa=function(b,f,a,c){var d=[];v(d,Q({x:b.x,y:b.y,w:.5*b.w,h:b.h},f,a,c));v(d,Q({x:b.x+.5*b.w,y:b.y,w:.5*b.w,h:b.h},f,a,c));return d},xa=function(b,f,a,c){var d={x:b.x+.05*b.w,y:b.y+.35*b.h,w:.2*b.w,h:.3*b.h},e={x:b.x+.35*b.w,y:b.y+.75*b.h,w:.3*b.w,h:.2*b.h},g={x:b.x+.75*b.w,y:b.y+.35*b.h,w:.2*b.w,h:.3*b.h},h={x:b.x+.25*b.w,y:b.y+.25*b.h,w:.5*b.w,h:.5*b.h};b=[].concat(ra({x:b.x+.35*b.w,y:b.y+.05*
b.h,w:.3*b.w,h:.2*b.h},f,a,c),Q(d,f,a,c),ka(e,f,a,c),C(g,f,a,c));b.push({FillColor:f,NoRounding:!0,Actions:[R(h,.45,0),w(h,.55,0),w(h,.55,.45),w(h,1,.45),w(h,1,.55),w(h,.55,.55),w(h,.55,1),w(h,.45,1),w(h,.45,.55),w(h,0,.55),w(h,0,.45),w(h,.45,.45),S()]});return b},K=function(b,f,a){var c=(b.h>b.w?b.w:b.h)-4*f,d=(b.h-2*c-4*f)/2;return{x:b.x+2*f,y:b.y+c+4*f+a*(b.h-2*c-8*f-d),w:c,h:d}},B=function(b,f,a,c,d){var e=(b.h>b.w?b.w:b.h)-4*c;d=K(b,c,d||0);return[{FillColor:f,StrokeColor:a,LineWidth:c,Actions:u(b)},
{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",x:b.x+2*c,y:b.y+2*c},{Action:"line",x:b.x+e+2*c,y:b.y+2*c},{Action:"line",x:b.x+e+2*c,y:b.y+e+2*c},{Action:"line",x:b.x+2*c,y:b.y+e+2*c},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x+.2*e+2*c,y:b.y+.7*e+2*c},{Action:"line",x:b.x+.8*e+2*c,y:b.y+.7*e+2*c},{Action:"line",x:b.x+.5*e+2*c,y:b.y+.3*e+2*c},{Action:"close"}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",x:d.x,y:d.y},{Action:"line",
x:d.x+d.w,y:d.y},{Action:"line",x:d.x+d.w,y:d.y+d.h},{Action:"line",x:d.x,y:d.y+d.h},{Action:"close"}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",x:b.x+4*c,y:d.y+d.h/2-2*c},{Action:"line",x:b.x+e,y:d.y+d.h/2-2*c},{Action:"move",x:b.x+4*c,y:d.y+d.h/2},{Action:"line",x:b.x+e,y:d.y+d.h/2},{Action:"move",x:b.x+4*c,y:d.y+d.h/2+2*c},{Action:"line",x:b.x+e,y:d.y+d.h/2+2*c}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",x:b.x+2*c,y:b.y+b.h-2*c},{Action:"line",x:b.x+e+2*c,y:b.y+b.h-2*c},{Action:"line",
x:b.x+e+2*c,y:b.y+b.h-e-2*c},{Action:"line",x:b.x+2*c,y:b.y+b.h-e-2*c},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:b.x+.2*e+2*c,y:b.y+b.h-.7*e-2*c},{Action:"line",x:b.x+.8*e+2*c,y:b.y+b.h-.7*e-2*c},{Action:"line",x:b.x+.5*e+2*c,y:b.y+b.h-.3*e-2*c},{Action:"close"}]}]},L=function(b,f,a){var c=(b.h>b.w?b.w:b.h)-4*f,d=(b.w-2*c-4*f)/2;return{x:b.x+c+4*f+a*(b.w-2*c-8*f-d),y:b.y+2*f,w:d,h:c}},A=function(b,f,a,c,d){var e=(b.w>b.h?b.h:b.w)-4*c;d=L(b,c,
d||0);return[{FillColor:f,StrokeColor:a,LineWidth:c,Actions:[{Action:"move",y:b.y,x:b.x},{Action:"line",y:b.y+b.h,x:b.x},{Action:"line",y:b.y+b.h,x:b.x+b.w},{Action:"line",y:b.y,x:b.x+b.w},{Action:"close"}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",y:b.y+2*c,x:b.x+2*c},{Action:"line",y:b.y+e+2*c,x:b.x+2*c},{Action:"line",y:b.y+e+2*c,x:b.x+e+2*c},{Action:"line",y:b.y+2*c,x:b.x+e+2*c},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",y:b.y+.2*
e+2*c,x:b.x+.7*e+2*c},{Action:"line",y:b.y+.8*e+2*c,x:b.x+.7*e+2*c},{Action:"line",y:b.y+.5*e+2*c,x:b.x+.3*e+2*c},{Action:"close"}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",x:d.x,y:d.y},{Action:"line",x:d.x+d.w,y:d.y},{Action:"line",x:d.x+d.w,y:d.y+d.h},{Action:"line",x:d.x,y:d.y+d.h},{Action:"close"}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",y:b.y+4*c,x:d.x+d.w/2-2*c},{Action:"line",y:b.y+e,x:d.x+d.w/2-2*c},{Action:"move",y:b.y+4*c,x:d.x+d.w/2},{Action:"line",y:b.y+e,x:d.x+
d.w/2},{Action:"move",y:b.y+4*c,x:d.x+d.w/2+2*c},{Action:"line",y:b.y+e,x:d.x+d.w/2+2*c}]},{StrokeColor:a,LineWidth:c,Actions:[{Action:"move",y:b.y+2*c,x:b.x+b.w-2*c},{Action:"line",y:b.y+e+2*c,x:b.x+b.w-2*c},{Action:"line",y:b.y+e+2*c,x:b.x+b.w-e-2*c},{Action:"line",y:b.y+2*c,x:b.x+b.w-e-2*c},{Action:"close"}]},{FillColor:a,StrokeColor:a,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",y:b.y+.2*e+2*c,x:b.x+b.w-.7*e-2*c},{Action:"line",y:b.y+.8*e+2*c,x:b.x+b.w-.7*e-2*c},{Action:"line",y:b.y+.5*e+
2*c,x:b.x+b.w-.3*e-2*c},{Action:"close"}]}]};lucid.plugin.initBlockClass({className:"UI3HotspotBlock",name:"Hot Spot",searchKeywords:["ui","interface","hotspot"],defaultSize:{w:120,h:80},unthemed:!0,hotspot:!0,snapSpacing:4,defaultProperties:function(){return{FillColor:"#00ff9966"}},getRenderData:function(b,f){return[{FillColor:b.FillColor,Actions:u(b.BoundingBox)}]}});lucid.plugin.initBlockClass({className:"UI3AreaBlock",name:"Area",searchKeywords:"ui interface area span div container".split(" "),
defaultSize:{w:480,h:360},container:!0,defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,getRenderData:function(b,f){return[{FillColor:b.Fill?b.FillColor:null,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(b.BoundingBox)}]}});lucid.plugin.initBlockClass({className:"UI3BrowserBlock",name:"Browser Window",searchKeywords:["ui","interface","webview","browser","container"],defaultSize:{w:720,h:540},container:!0,defaultProperties:function(){return{Magnetize:!1}},disabledPropertyControls:["FlipX",
"FlipY"],snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Title",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-40,h:24}}});lucid.plugin.addBlockTextArea(b,{id:"URL",value:"http://lucidchart.com",getBoundingBox:function(b){return{x:b.x+102+96,y:b.y+24,w:b.w-126-96,h:24}},align:"left"})},getRenderData:function(b,f){var a=b.BoundingBox,c=60,d=b.vScroll,e=b.hScroll,g=b.FillColor,
h=b.LineColor,k=b.LineWidth,l=6;"sample"==f&&(l=1,c=.25*a.h);var n=.2*c,m=c-3*n,t=[{FillColor:g,StrokeColor:h,LineWidth:k,Actions:u(a)},{FillColor:lucid.color.darken(g,.25),StrokeColor:h,LineWidth:k,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x,y:a.y+c},{Action:"close"}]},{FillColor:g,StrokeColor:h,LineWidth:k,Actions:[{Action:"move",x:a.x+8*n+4*m,y:a.y+2*n},{Action:"line",x:a.x+a.w-n,y:a.y+2*n},{Action:"line",x:a.x+a.w-
n,y:a.y+c-n},{Action:"line",x:a.x+8*n+4*m,y:a.y+c-n},{Action:"close"}]}],r=a.x+n,p=a.y+2*n;v(t,[{StrokeColor:h,LineWidth:l,NoRounding:!0,Actions:[{Action:"move",x:r+.5*m,y:p},{Action:"line",x:r,y:p+.5*m},{Action:"line",x:r+.5*m,y:p+m},{Action:"move",x:r,y:p+.5*m},{Action:"line",x:r+m,y:p+.5*m}]}]);r=a.x+3*n+m;p=a.y+2*n;v(t,[{StrokeColor:h,LineWidth:l,NoRounding:!0,Actions:[{Action:"move",x:r+.5*m,y:p},{Action:"line",x:r+m,y:p+.5*m},{Action:"line",x:r+.5*m,y:p+m},{Action:"move",x:r,y:p+.5*m},{Action:"line",
x:r+m,y:p+.5*m}]}]);r=a.x+5*n+2*m;p=a.y+2*n;l=[{StrokeColor:h,LineWidth:l,NoRounding:!0,Actions:[{Action:"move",x:r+m,y:p+.5*m},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(r,p,m,m,-.1*Math.PI,-1.8*Math.PI)}]},{FillColor:h,StrokeColor:h,LineWidth:.25*l,NoRounding:!0,Actions:[{Action:"move",x:r+1.13*m,y:p},{Action:"line",x:r+1.13*m,y:p+.5*m},{Action:"line",x:r+.63*m,y:p+.5*m},{Action:"close"}]}];v(t,l);l=a.x+7*n+3*m;n=a.y+2*n;v(t,[{FillColor:h,StrokeColor:h,LineWidth:1,NoRounding:!0,
Actions:[{Action:"move",x:l,y:n+.5*m},{Action:"line",x:l+.5*m,y:n},{Action:"line",x:l+m,y:n+.5*m},{Action:"line",x:l+.9*m,y:n+.5*m},{Action:"line",x:l+.9*m,y:n+m},{Action:"line",x:l+.65*m,y:n+m},{Action:"line",x:l+.65*m,y:n+.5*m},{Action:"line",x:l+.35*m,y:n+.5*m},{Action:"line",x:l+.35*m,y:n+m},{Action:"line",x:l+.1*m,y:n+m},{Action:"line",x:l+.1*m,y:n+.5*m},{Action:"close"}]}]);1==d&&v(t,B({x:a.x+a.w-32,y:a.y+c,w:32,h:a.h-c-(1==e?32:0)},g,h,k));1==e&&v(t,A({x:a.x,y:a.y+a.h-32,w:a.w-(1==d?32:0),
h:32},g,h,k));return t}});lucid.plugin.initBlockClass({className:"UI3WindowBlock",name:"Window",searchKeywords:["ui","interface","window","container"],defaultSize:{w:480,h:360},container:!0,defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Window Title",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-40,h:40}}})},getRenderData:function(b,
f){var a=b.BoundingBox,c=40,d=b.vScroll,e=b.hScroll,g=b.LineWidth;"sample"==f&&(g=1,c=a.h/4);var h=[{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x,y:a.y+c},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-c+2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+
2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+c-2*g},{Action:"line",x:a.x+a.w-c+2*g,y:a.y+c-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*c+2*g,y:a.y+.2*c+2*g},{Action:"line",x:a.x+a.w-.2*c-2*g,y:a.y+.8*c-2*g},{Action:"move",x:a.x+a.w-.2*c-2*g,y:a.y+.2*c+2*g},{Action:"line",x:a.x+a.w-.8*c+2*g,y:a.y+.8*c-2*g}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-2*c+4*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-c,y:a.y+2*g},{Action:"line",
x:a.x+a.w-c,y:a.y+c-2*g},{Action:"line",x:a.x+a.w-2*c+4*g,y:a.y+c-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-1.8*c+4*g,y:a.y+.2*c+2*g},{Action:"line",x:a.x+a.w-1.2*c,y:a.y+.2*c+2*g},{Action:"line",x:a.x+a.w-1.2*c,y:a.y+.8*c-2*g},{Action:"line",x:a.x+a.w-1.8*c+4*g,y:a.y+.8*c-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-3*c+6*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*c+2*g,y:a.y+2*g},{Action:"line",
x:a.x+a.w-2*c+2*g,y:a.y+c-2*g},{Action:"line",x:a.x+a.w-3*c+6*g,y:a.y+c-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-2.2*c+2*g,y:a.y+.8*c-2*g},{Action:"line",x:a.x+a.w-2.8*c+6*g,y:a.y+.8*c-2*g}]}];if(1==d)for(var k=B({x:a.x+a.w-32,y:a.y+c,w:32,h:a.h-c-(1==e?32:0)},b.FillColor,b.LineColor,g),c=0;c<k.length;c++)h.push(k[c]);if(1==e)for(a=A({x:a.x,y:a.y+a.h-32,w:a.w-(1==d?32:0),h:32},b.FillColor,b.LineColor,g),c=0;c<a.length;c++)h.push(a[c]);return h}});
lucid.plugin.initBlockClass({className:"UI3DialogBlock",name:"Dialog Box",searchKeywords:["ui","interface","window","dialog","modal"],defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){b=lucid.plugin.getProperty(b,"BoundingBox");return{x:b.x,y:b.y+40,w:b.w,h:b.h-40}}},defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,
{id:"Title",value:"Dialog Title",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-60,h:40}}});lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h+40,w:b.w-20,h:.8*b.h-40}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=40,d=b.vScroll,e=b.hScroll,g=b.LineWidth;"sample"==f&&(g=1,c=a.h/4);var h=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x,y:a.y+c}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-c+2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+2*g},{Action:"line",x:a.x+a.w-2*g,y:a.y+c-2*g},{Action:"line",x:a.x+a.w-c+2*g,y:a.y+c-2*g},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:g,Actions:[{Action:"move",x:a.x+a.w-.8*c+2*g,y:a.y+.2*c+2*g},{Action:"line",x:a.x+a.w-.2*c-2*g,y:a.y+.8*c-2*g},{Action:"move",x:a.x+a.w-.2*c-2*g,y:a.y+.2*c+2*
g},{Action:"line",x:a.x+a.w-.8*c+2*g,y:a.y+.8*c-2*g}]}];if(1==d)for(var k=B({x:a.x+a.w-32,y:a.y+c,w:32,h:a.h-c-(1==e?32:0)},b.FillColor,b.LineColor,g),c=0;c<k.length;c++)h.push(k[c]);if(1==e)for(a=A({x:a.x,y:a.y+a.h-32,w:a.w-(1==d?32:0),h:32},b.FillColor,b.LineColor,g),c=0;c<a.length;c++)h.push(a[c]);return h}});lucid.plugin.initBlockClass({className:"UI3ElementBlock",name:"Element",searchKeywords:"ui interface element span div block".split(" "),defaultSize:{w:320,h:240},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,
"BoundingBox")}},defaultProperties:function(){return{Magnetize:!1}},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.vScroll,d=b.hScroll,e=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)}];
if(1==c)for(var g=B({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==d?32:0)},b.FillColor,b.LineColor,b.LineWidth),h=0;h<g.length;h++)e.push(g[h]);if(1==d)for(a=A({x:a.x,y:a.y+a.h-32,w:a.w-(1==c?32:0),h:32},b.FillColor,b.LineColor,b.LineWidth),h=0;h<a.length;h++)e.push(a[h]);return e}});lucid.plugin.initBlockClass({className:"UI3ImageBlock",name:"Image",searchKeywords:["ui","interface","image","photo","graphic"],defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,
{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.5*b.h,w:.8*b.w,h:.4*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)},{StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"move",x:a.x+a.w,y:a.y},{Action:"line",x:a.x,y:a.y+a.h}]}]}});lucid.plugin.initBlockClass({className:"UI3VideoBlock",name:"Video",searchKeywords:["ui",
"interface","video","movie","animation"],defaultSize:{w:320,h:240},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.65*b.h,w:.8*b.w,h:.3*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=lucid.color.darken(b.FillColor,.33),d=b.FillColor,e=b.LineColor,g=b.LineWidth,h=.025*a.h,h=[{FillColor:d,StrokeColor:e,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",
x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+.8*a.h},{Action:"line",x:a.x,y:a.y+.8*a.h},{Action:"close"}]},{FillColor:c,StrokeColor:e,LineWidth:g,NoRounding:!0,Actions:[{Action:"move",x:a.x,y:a.y+.8*a.h},{Action:"line",x:a.x+a.w,y:a.y+.8*a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:e,NoRounding:!0,Actions:[{Action:"move",x:a.x+.2*a.h+h,y:a.y+.9*a.h-h},{Action:"line",x:a.x+a.w-.2*a.h-h,y:a.y+.9*a.h-h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+
a.w-.2*a.h-2*h,a.y+.9*a.h-h,2*h,2*h,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+.2*a.h+h,y:a.y+.9*a.h+h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.2*a.h,a.y+.9*a.h-h,2*h,2*h,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}];v(h,C({x:a.x+.5*a.w-.133*a.h,y:a.y+.25*a.h,w:.266*a.h,h:.3*a.h},c,e,g));v(h,C({x:a.x+.05*a.h,y:a.y+.85*a.h,w:.1*a.h,h:.1*a.h},e,null,null));v(h,Q({x:a.x+a.w-.15*a.h,y:a.y+.85*a.h,w:.1*a.h,h:.1*a.h},e,null,null));v(h,G({x:a.x+a.w-.15*a.h,y:a.y+.875*a.h,w:.05*
a.h,h:.05*a.h},e,null,null));v(h,F({x:a.x+.3*a.w,y:a.y+.85*a.h,w:.1*a.h,h:.1*a.h},d,e,g));return h}});lucid.plugin.initBlockClass({className:"UI3AudioBlock",name:"Audio",searchKeywords:["ui","audio"],defaultSize:{w:320,h:48},snapSpacing:4,onCreate:function(){},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.1*b.w,y:b.y+.65*b.h,w:.8*b.w,h:.3*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=lucid.color.darken(b.FillColor,.33),
d=b.FillColor,e=b.LineColor,g=b.LineWidth,h=.125*a.h,c=[{FillColor:c,StrokeColor:e,LineWidth:g,NoRounding:!0,Actions:u(a)},{FillColor:e,NoRounding:!0,Actions:[{Action:"move",x:a.x+.9*a.h+h,y:a.y+.5*a.h-h},{Action:"line",x:a.x+a.w-.9*a.h-h,y:a.y+.5*a.h-h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-.9*a.h-2*h,a.y+.5*a.h-h,2*h,2*h,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+.9*a.h+h,y:a.y+.5*a.h+h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.9*a.h,a.y+.5*
a.h-h,2*h,2*h,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}];v(c,C({x:a.x+.25*a.h,y:a.y+.25*a.h,w:.5*a.h,h:.5*a.h},e,null,null));v(c,Q({x:a.x+a.w-.75*a.h,y:a.y+.25*a.h,w:.5*a.h,h:.5*a.h},e,null,null));v(c,G({x:a.x+a.w-.75*a.h,y:a.y+.375*a.h,w:.25*a.h,h:.25*a.h},e,null,null));v(c,F({x:a.x+.3*a.w,y:a.y+.25*a.h,w:.5*a.h,h:.5*a.h},d,e,g));return c}});lucid.plugin.initBlockClass({className:"UI3MapBlock",name:"Map",searchKeywords:["ui","interface","map","street","road"],defaultSize:{w:320,h:240},snapSpacing:4,
onCreate:function(){},onInit:function(b){lucid.plugin.setProperty("TextAlign","right");lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+.4*b.w,y:b.y+.65*b.h,w:.55*b.w,h:.3*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=8,d=2;"sample"==f&&(c=b.LineWidth,d=1);var e=1.5*(a.h<a.w?a.h:a.w),g=a.x+.3*a.w,h=a.y+.4*a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)},{StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",
x:a.x+.2*a.w,y:a.y+a.h},{Action:"line",x:a.x+.4*a.w,y:a.y},{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+.1*a.h},{Action:"move",x:a.x,y:a.y+.8*a.h},{Action:"line",x:a.x+.2*a.w,y:a.y+.8*a.h},{Action:"curve",Control:[{x1:a.x+.4*a.w,y1:a.y+.8*a.h,x2:a.x+.7*a.w,y2:a.y+.6*a.h,x3:a.x+.8*a.w,y3:a.y+.55*a.h}]},{Action:"line",x:a.x+a.w,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w,y:a.y},{Action:"line",x:a.x+.55*a.w,y:a.y+.1*a.h},{Action:"curve",Control:[{x1:a.x+.6*a.w,y1:a.y+.2*a.h,x2:a.x+
.8*a.w,y2:a.y+.3*a.h,x3:a.x+.8*a.w,y3:a.y+.55*a.h}]}]},{FillColor:"#0088FF",StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:g-.1*e,y:h-.1*e},{Action:"curve",Control:[{x1:g-.05*e,y1:h-.08*e,x2:g-.05*e,y2:h-.08*e,x3:g,y3:h-.1*e},{x1:g+.05*e,y1:h-.08*e,x2:g+.05*e,y2:h-.08*e,x3:g+.1*e,y3:h-.1*e},{x1:g+.15*e,y1:h-.05*e,x2:g+.15*e,y2:h+.1*e,x3:g,y3:h+.15*e},{x1:g-.15*e,y1:h+.1*e,x2:g-.15*e,y2:h-.05*e,x3:g-.1*e,y3:h-.1*e}]},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3ButtonBlock",
name:"Button",searchKeywords:["ui","interface","button"],defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"Button",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox;if("sample"==f)var c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c};c=.3*(a.h>a.w?a.w:a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+c,y:a.y},{Action:"curve",
Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*c,2*c,1.5*Math.PI,Math.PI)},{Action:"line",x:a.x,y:a.y+a.h-c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*c,2*c,2*c,Math.PI,.5*Math.PI)},{Action:"line",x:a.x+a.w-c,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*c,a.y+a.h-2*c,2*c,2*c,.5*Math.PI,0)},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*c,a.y,2*c,2*c,2*Math.PI,1.5*Math.PI)},
{Action:"close"}]}]}});var M={rowHeight:40,resizeBB:function(b,f){for(var a=lucid.plugin.getProperty(b,"Options"),c=0,d=[],e={x:0,y:0,w:1E6,h:1E4},g=1;g<=a;g++){var h=lucid.text.getSize(b,1==g&&f?"Selected":"Option_"+g,e),h=Math.round(Math.max(M.rowHeight,h.h+10));d.push(h);c+=h}lucid.plugin.setProperty(b,"rowHeights",d,!0);lucid.plugin.setProperty(b,"totalHeight",c,!0);lucid.plugin.refreshBlockView(b);e=lucid.plugin.getProperty(b,"BoundingBox");e.h!=c&&(e.h=c,lucid.plugin.setProperty(b,"BoundingBox",
e))},hitTest:function(b,f){var a=lucid.plugin.getProperty(b,"SideLength"),c=lucid.plugin.getProperty(b,"BoundingBox");if(f.x>c.x&&f.x<c.x+a)for(var d=c.y,e=lucid.plugin.getProperty(b,"Options"),c=c.h/e,g=1;g<=e;g++){if(f.y>d+.5*(c-a)&&f.y<d+.5*(c+a))return{cursor:"pointer",onClick:function(a){a=lucid.plugin.getProperty(b,"Selected");lucid.plugin.getProperty(b,"Toggle")?a=a==g?0:g:a.hasOwnProperty(g)?delete a[g]:a[g]=1;lucid.plugin.setProperty(b,"Selected",a);lucid.plugin.refreshBlockView(b)}};d+=
c}}},x={leftIndent:12,leftPad:20,hitTest:function(b,f){var a=lucid.plugin.getProperty(b,"SideLength"),c=lucid.plugin.getProperty(b,"BoundingBox"),d=c.x,e=lucid.plugin.getProperty(b,"Options"),g=lucid.plugin.getProperty(b,"totalHeight",!0);lucid.plugin.getProperty(b,"widths",!0);for(var h=1;h<=e;h++){if(f.x>d&&f.x<d+a&&f.y>c.y+.5*(g-a)&&f.y<c.y+a+.5*(g-a))return{cursor:"pointer",onClick:function(){var a=lucid.plugin.getProperty(b,"Selected");lucid.plugin.getProperty(b,"Toggle")?a=a==h?0:h:a.hasOwnProperty(h)?
delete a[h]:a[h]=1;lucid.plugin.setProperty(b,"Selected",a);lucid.plugin.refreshBlockView(b)}};d+=c.w/e}},resizeBB:function(b){x.calcWidths(b);var f=lucid.plugin.getProperty(b,"totalHeight"),a=lucid.plugin.getProperty(b,"totalWidth"),c=lucid.plugin.getProperty(b,"BoundingBox");if(c.w!=a||c.h!=f)c.w!=a&&(c.w=a),c.h!=f&&(c.h=f),lucid.plugin.setProperty(b,"BoundingBox",c)},calcWidths:function(b){for(var f=0,a=lucid.plugin.getProperty(b,"SideLength")||20,c=a,d=[],e=lucid.plugin.getProperty(b,"Options"),
g={x:0,y:0,w:1E6,h:1E4},h=1;h<=e;h++){var k=lucid.text.getSize(b,"Option_"+h,g),l=Math.round(Math.max(a,k.w+10)),c=Math.round(Math.max(c,1.5*k.h));d.push(l);f+=l+a+x.leftIndent+(1<h?x.leftPad:0)}lucid.plugin.refreshBlockView(b);lucid.plugin.setProperty(b,"totalHeight",c,!0);lucid.plugin.setProperty(b,"totalWidth",f,!0);lucid.plugin.setProperty(b,"widths",d,!0)}};lucid.plugin.initBlockClass({className:"UI3CheckBoxBlock",name:"Check Box",minWidth:80,searchKeywords:["ui","interface","checkbox","vertical"],
disabledPropertyControls:["FlipX","FlipY"],defaultSize:{w:160,h:120},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var f=lucid.plugin.getProperty(b,"SideLength"),h=lucid.plugin.getProperty(b,"Options"),k=(a-1)*c.h/h;return a>h?null:{x:c.x+(f+12),y:c.y+k,w:c.w-(f+12),h:c.h/h}}}(a),align:"left"})}lucid.plugin.registerProperty(b,
"Options",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Option_"+e]||f(e)});lucid.plugin.registerProperty(b,"SideLength",20);lucid.plugin.registerProperty(b,"SelectedColor","#000");lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"MultiSelect",1)},hitTest:function(b,f){return M.hitTest(b,f)},getRenderData:function(b,f){var a=b.BoundingBox,c=3,d=b.Options,e=b.Selected,
g=a.h/d,h=b.SideLength;"sample"==f&&(d=a.w,c=a.x,a={x:c+.25*d,y:c,w:d,h:d},c=2,g=d,d=1,h=.5*g);for(var k="sample"==f?[]:[{Actions:u(a)}],a={x:a.x,y:a.y+.5*(g-h),w:h,h:h},l=1;l<=d;l++)k.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:u(a)}),e[l]&&(k=k.concat(O(lucid.math.Box.pad(a,.2*-h),b.SelectedColor,b.SelectedColor,c))),a.y+=g;return k}});lucid.plugin.initBlockClass({className:"UI3HorizontalCheckBoxBlock",name:"Horizontal Check Box",vLock:!0,minWidth:20,
disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","checkbox","horizontal"],defaultSize:{w:370,h:40},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var f=lucid.plugin.getProperty(b,"Options"),h=lucid.plugin.getProperty(b,"widths",!0),k=lucid.plugin.getProperty(b,"SideLength"),l=(a-1)*c.w/
f;return!h||a>f?null:{x:c.x+l+lucid.plugin.getProperty(b,"SideLength")+x.leftIndent,y:c.y,w:h[a-1],h:k}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,"Option_"+a,function(){x.calcWidths(b)})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Option_"+e]||f(e);x.calcWidths(b)});lucid.plugin.registerProperty(b,"SideLength",20,null,function(a,c){var d=lucid.plugin.getProperty(b,"BoundingBox");d.h=c;lucid.plugin.setProperty(b,
"BoundingBox",d)});lucid.plugin.registerProperty(b,"SelectedColor","#000");lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"MultiSelect",1)},afterEditText:function(b){x.calcWidths(b)},hitTest:function(b,f){return x.hitTest(b,f)},getRenderData:function(b,f){var a=b.BoundingBox,c=3,d=b.Options,e=b.Selected;if("sample"==f)var d=a.w,a=a.x,a={x:a+.25*d,y:a+.25*d,w:d,h:d},c=2,g=d,d=1;for(var g=g?.5*g:
b.SideLength,h="sample"==f?[]:[{Actions:u(a)}],k={x:a.x,y:a.y,w:g,h:g},l=1;l<=d;l++)h.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:u(k)}),e[l]&&(h=h.concat(O(lucid.math.Box.pad(k,.2*-g),b.SelectedColor,b.SelectedColor,c))),k.x+=a.w/d;return h}});lucid.plugin.initBlockClass({className:"UI3RadioBlock",name:"Radio Button",searchKeywords:["ui","interface","radio","button"],defaultSize:{w:160,h:120},minWidth:80,disabledPropertyControls:["FlipX","FlipY"],
snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var f=lucid.plugin.getProperty(b,"SideLength"),h=lucid.plugin.getProperty(b,"Options"),k=(a-1)*c.h/h;return a>h?null:{x:c.x+(f+12),y:c.y+k,w:c.w-(f+12),h:c.h/h}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),
e=1;e<=c;e++)d["Option_"+e]||f(e)});lucid.plugin.registerProperty(b,"Selected",1);lucid.plugin.registerProperty(b,"Toggle",1);lucid.plugin.registerProperty(b,"SideLength",20);lucid.plugin.registerProperty(b,"SelectedColor","#000")},hitTest:function(b,f){return M.hitTest(b,f)},getRenderData:function(b,f){var a=b.BoundingBox,c=b.Options,d=b.Selected,e=a.h/c;"sample"==f&&(c=a.w,a=a.x,a={x:a+.25*c,y:a,w:c,h:c},e=c,c=1);for(var g="sample"==f?.5*e:b.SideLength,h="sample"==f?[]:[{Actions:u(a)}],k=a.y,l=
1;l<=c;l++)h.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+g,y:k+.5*e},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,k+.5*(e-g),g,g,0,2*Math.PI)},{Action:"close"}]}),l==d&&h.push({FillColor:b.SelectedColor,StrokeColor:b.SelectedColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x+.75*g,y:k+.5*e},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.25*g,k+.5*(e-g)+.25*g,.5*g,.5*g,0,2*Math.PI)},{Action:"close"}]}),
k+=e;return h}});lucid.plugin.initBlockClass({className:"UI3HorizontalRadioBlock",name:"Horizontal Radio Button",vLock:!0,minHeight:40,disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","radio","button"],defaultSize:{w:370,h:40},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Option_1");lucid.plugin.addBlockTextArea(b,{id:"Option_"+a,value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){var f=lucid.plugin.getProperty(b,
"Options"),h=lucid.plugin.getProperty(b,"widths",!0),k=lucid.plugin.getProperty(b,"SideLength"),l=(a-1)*c.w/f;return a>f?null:{x:c.x+l+lucid.plugin.getProperty(b,"SideLength")+x.leftIndent,y:c.y,w:h&&h[a-1]||0,h:k}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,"Option_"+a,function(){x.calcWidths(b)})}lucid.plugin.registerProperty(b,"Options",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Option_"+e]||f(e)});lucid.plugin.registerProperty(b,"SideLength",20,
null,function(a,c){var d=lucid.plugin.getProperty(b,"BoundingBox");d.h=c;lucid.plugin.setProperty(b,"BoundingBox",d)});lucid.plugin.registerProperty(b,"SelectedColor","#000");lucid.plugin.registerProperty(b,"Selected",{1:1},function(a){if("object"!=typeof a){var b={};b[a]=1;return b}return a});lucid.plugin.registerProperty(b,"Toggle",1);lucid.plugin.registerProperty(b,"Selected",1)},afterEditText:function(b){x.calcWidths(b)},hitTest:function(b,f){return x.hitTest(b,f)},getRenderData:function(b,f){var a=
b.BoundingBox,c=b.Options,d=b.Selected,e=null;"sample"==f&&(e=a.w,a=a.x,a={x:a+.25*e,y:a+.25*e,w:e,h:e},c=1);for(var e=e?.5*e:b.SideLength,g="sample"==f?[]:[{Actions:u(a)}],h=a.x,k=1;k<=c;k++)g.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:h+e,y:a.y+.5*e},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h,a.y,e,e,0,2*Math.PI)},{Action:"close"}]}),k==d&&g.push({FillColor:b.SelectedColor,StrokeColor:b.SelectedColor,LineWidth:b.LineWidth,
Actions:[{Action:"move",x:h+.75*e,y:a.y+.5*e},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h+.25*e,a.y+.25*e,.5*e,.5*e,0,2*Math.PI)},{Action:"close"}]}),h+=a.w/c;return g}});lucid.plugin.initBlockClass({className:"UI3TextInputBlock",name:"Text Input",searchKeywords:["ui","interface","text","input"],defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.addBlockTextArea(b,{id:"Text",
value:"Text",getBoundingBox:function(b){return{x:b.x+10,y:b.y+.1*b.h,w:b.w-20,h:.8*b.h}},align:"left"})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;if("sample"==f)var d=a.w,a=a.x,a={x:a,y:a+.25*d,w:d,h:.5*d},c=1;var e=b.vScroll,g=b.hScroll,d=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:u(a)}];if(1==e)for(var h=B({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==g?32:0)},b.FillColor,b.LineColor,c),k=0;k<h.length;k++)d.push(h[k]);if(1==g)for(a=A({x:a.x,y:a.y+a.h-32,w:a.w-
(1==e?32:0),h:32},b.FillColor,b.LineColor,c),k=0;k<a.length;k++)d.push(a[k]);return d}});lucid.plugin.initBlockClass({className:"UI3SelectBlock",name:"Select Box",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","select","dropdown"],defaultSize:{w:200,h:40},vLock:!0,minWidth:80,snapSpacing:4,afterEditText:function(b){M.resizeBB(b,!0)},onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Selected");lucid.plugin.addBlockTextArea(b,{id:1==a?"Selected":"Option_"+a,
value:c?lucid.text.restyle("Option "+a,c):"Option "+a,getBoundingBox:function(a){return function(c){for(var f=0,h=lucid.plugin.getProperty(b,"Options"),k=lucid.plugin.getProperty(b,"rowHeights",!0),l=0;l<a-1;l++)f+=k[l];return a>h?null:{x:c.x+12,y:c.y+f,w:c.w-24,h:k[a-1]}}}(a),align:"left"});lucid.plugin.hookPropertyPostSave(b,1==a?"Selected":"Option_"+a,function(){M.resizeBB(b,!0)})}lucid.plugin.registerProperty(b,"Options",1,function(a){"string"==typeof a&&(a=1);return a},function(a,c){var d=lucid.plugin.getBlockTextAreas(b);
M.resizeBB(b,!0);for(var e=1;e<=c;e++)d["Option_"+e]||f(e)})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=b.rowHeights&&b.rowHeights[0]||40;"sample"==f?(c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c},c=1,d=a.h):"preview"==f&&(d=a.h);var e=d-4*c,e=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+d},{Action:"line",x:a.x,y:a.y+d},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:c,
Actions:[{Action:"move",x:a.x+a.w-e-2*c,y:a.y+2*c},{Action:"line",x:a.x+a.w-2*c,y:a.y+2*c},{Action:"line",x:a.x+a.w-2*c,y:a.y+d-2*c},{Action:"line",x:a.x+a.w-e-2*c,y:a.y+d-2*c},{Action:"close"}]},{FillColor:b.LineColor,StrokeColor:b.LineColor,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*e-2*c,y:a.y+.3*e+2*c},{Action:"line",x:a.x+a.w-.2*e-2*c,y:a.y+.3*e+2*c},{Action:"line",x:a.x+a.w-.5*e-2*c,y:a.y+.7*e+2*c},{Action:"close"}]}];a.h>d&&e.unshift({FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:c,Actions:u(a)});return e}});lucid.plugin.initBlockClass({className:"UI3VSliderBlock",name:"Vertical Slider",searchKeywords:["ui","interface","slider","vertical"],defaultSize:{w:40,h:240},snapSpacing:4,noLines:!0,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=b.ScrollVal;"sample"==f&&(c=a.h,a=a.y,a={x:a+.25*c,y:a,w:.5*c,h:c},c=1);var e=a.w>a.h?a.h:a.w;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:a.x+.5*a.w-c,y:a.y},
{Action:"line",x:a.x+.5*a.w-c,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w+c,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w+c,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+a.w,y:a.y+d*(a.h-.6*a.w)},{Action:"line",x:a.x,y:a.y+d*(a.h-.6*a.w)},{Action:"line",x:a.x,y:a.y+d*(a.h-.6*a.w)+.6*e},{Action:"line",x:a.x+a.w,y:a.y+d*(a.h-.6*a.w)+.6*e},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.vslider",
location:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"ScrollVal");return{x:f.x+f.w/2-5,y:f.y+.3*f.w+a*(f.h-.6*f.w)-5,w:10,h:10}},moved:function(f){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=a.y+.3*a.w;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(f.y-c)/(a.y+a.h-.3*a.w-c))))},path:function(){var f=lucid.plugin.getProperty(b,"BoundingBox");return[{x:f.x+f.w/2,y:f.y+.3*f.w},{x:f.x+f.w/2,y:f.y+f.h-.3*f.w}]},snap:2}]}});lucid.plugin.initBlockClass({className:"UI3HSliderBlock",
name:"Horizontal Slider",searchKeywords:["ui","interface","slider","horizontal"],defaultSize:{w:240,h:40},snapSpacing:4,noLines:!0,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=b.ScrollVal;"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c},c=1);var e=a.w>a.h?a.h:a.w;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",y:a.y+.5*a.h-c,x:a.x},{Action:"line",y:a.y+.5*a.h-c,x:a.x+a.w},{Action:"line",y:a.y+.5*a.h+c,x:a.x+a.w},{Action:"line",
y:a.y+.5*a.h+c,x:a.x},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",y:a.y+a.h,x:a.x+d*(a.w-.6*a.h)},{Action:"line",y:a.y+.3*e,x:a.x+d*(a.w-.6*a.h)},{Action:"line",y:a.y,x:a.x+d*(a.w-.6*a.h)+.3*e},{Action:"line",y:a.y+.3*e,x:a.x+d*(a.w-.6*a.h)+.6*e},{Action:"line",y:a.y+a.h,x:a.x+d*(a.w-.6*a.h)+.6*e},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.hslider",
location:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"ScrollVal");return{x:f.x+.3*f.h+a*(f.w-.6*f.h)-5,y:f.y+f.h/2-5,w:10,h:10}},moved:function(f){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=a.x+.3*a.h;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(f.x-c)/(a.x+a.w-.3*a.h-c))))},path:function(){var f=lucid.plugin.getProperty(b,"BoundingBox");return[{x:f.x+.3*f.h,y:f.y+f.h/2},{x:f.x+f.w-.3*f.h,y:f.y+f.h/2}]},snap:2}]}});lucid.plugin.initBlockClass({className:"UI3VScrollBlock",
name:"Vertical Scrollbar",searchKeywords:["ui","interface","scrollbar","vertical"],defaultSize:{w:40,h:240},snapSpacing:4,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=a.h,a=a.y,a={x:a+.375*c,y:a,w:.25*c,h:c},c=1);return B(a,b.FillColor,b.LineColor,c,b.ScrollVal)},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",0)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.vscroll",location:function(){var f=lucid.plugin.getProperty(b,
"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),c=lucid.plugin.getProperty(b,"ScrollVal"),f=K(f,a,c);return{x:f.x+f.w/2-5,y:f.y+f.h/2-5,w:10,h:10}},moved:function(f){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"LineWidth"),d=K(a,c,0),a=K(a,c,1);lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(f.y-d.y-d.h/2)/(a.y-d.y))))},path:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),c=K(f,a,0),f=K(f,
a,1);return[{x:c.x+c.w/2,y:c.y+c.h/2},{x:f.x+f.w/2,y:f.y+f.h/2}]},snap:2}]}});lucid.plugin.initBlockClass({className:"UI3HScrollBlock",name:"Horizontal Scrollbar",searchKeywords:["ui","interface","scrollbar","horizontal"],defaultSize:{w:240,h:40},snapSpacing:4,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.375*c,w:c,h:.25*c},c=1);return A(a,b.FillColor,b.LineColor,c,b.ScrollVal)},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",0)},
spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.hscroll",location:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),c=lucid.plugin.getProperty(b,"ScrollVal"),f=L(f,a,c);return{x:f.x+f.w/2-5,y:f.y+f.h/2-5,w:10,h:10}},moved:function(f){var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.plugin.getProperty(b,"LineWidth"),d=L(a,c,0),a=L(a,c,1);lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,
(f.x-d.x-d.w/2)/(a.x-d.x))))},path:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),c=L(f,a,0),f=L(f,a,1);return[{x:c.x+c.w/2,y:c.y+c.h/2},{x:f.x+f.w/2,y:f.y+f.h/2}]},snap:2}]}});lucid.plugin.initBlockClass({className:"UI3ProgressBarBlock",name:"Progress Bar",searchKeywords:["ui","interface","progress","loading"],defaultSize:{w:240,h:40},snapSpacing:4,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=b.ScrollVal;"sample"==f&&(c=a.w,
a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c},c=1);var e=lucid.color.darken(b.FillColor,.5);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w},{Action:"line",y:a.y,x:a.x+a.w},{Action:"close"}]},{FillColor:e,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+2*c,y:a.y+2*c},{Action:"line",x:a.x+2*c,y:a.y+a.h-2*c},{Action:"line",x:a.x+2*c+d*(a.w-4*c),y:a.y+a.h-2*c},{Action:"line",
x:a.x+2*c+d*(a.w-4*c),y:a.y+2*c},{Action:"close"}]}]},onInit:function(b){lucid.plugin.registerProperty(b,"ScrollVal",.3)},spatialControls:function(b){return[{logAction:"chart.viewport.selection.spatialControls.ui3.progressBar",location:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth"),c=lucid.plugin.getProperty(b,"ScrollVal");return{x:f.x+2*a+c*(f.w-4*a)-5,y:f.y+f.h/2-5,w:10,h:10}},moved:function(f){var a=lucid.plugin.getProperty(b,"BoundingBox"),
c=lucid.plugin.getProperty(b,"LineWidth"),d=a.x+2*c;lucid.plugin.setProperty(b,"ScrollVal",Math.max(0,Math.min(1,(f.x-d)/(a.x+a.w-4*c-d))))},path:function(){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"LineWidth");return[{x:f.x+2*a,y:f.y+f.h/2},{x:f.x+f.w-4*a,y:f.y+f.h/2}]},snap:2}]}});lucid.plugin.initBlockClass({className:"UI3BarChartBlock",name:"Bar Chart",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","bar","chart","graph"],defaultSize:{w:320,
h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Bar Chart",getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=1);var d=lucid.color.darken(b.FillColor,.5);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y+.2*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x,y:a.y+.35*a.h},{Action:"close"},{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x,y:a.y+.75*a.h},{Action:"close"}]},{FillColor:d,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y+.35*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.35*
a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x,y:a.y+.5*a.h},{Action:"close"},{Action:"move",x:a.x,y:a.y+.75*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.9*a.h},{Action:"line",x:a.x,y:a.y+.9*a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});lucid.plugin.initBlockClass({className:"UI3ColumnChartBlock",name:"Column Chart",
disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","column","chart","graph"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Column Chart",getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=1);var d=lucid.color.darken(b.FillColor,.5);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",
x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+.15*a.w,y:a.y+a.h},{Action:"line",x:a.x+.15*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+a.h},{Action:"close"},{Action:"move",x:a.x+.6*a.w,y:a.y+a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+a.h},{Action:"close"}]},
{FillColor:d,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+.3*a.w,y:a.y+a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.65*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+.65*a.h},{Action:"line",x:a.x+.45*a.w,y:a.y+a.h},{Action:"close"},{Action:"move",x:a.x+.75*a.w,y:a.y+a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.35*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",y:a.y,x:a.x},
{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});lucid.plugin.initBlockClass({className:"UI3LineChartBlock",name:"Line Chart",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","line","chart","graph"],defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Label",value:"Line Chart",getBoundingBox:function(b){return{x:b.x+10,y:b.y,w:b.w-20,h:.15*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;
"sample"==f&&(c=1);var d=lucid.color.darken(b.FillColor,.67),e=lucid.color.darken(b.FillColor,.33);return[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{StrokeColor:e,LineWidth:2*c,Actions:[{Action:"move",x:a.x,y:a.y+.6*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.4*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.6*a.h}]},{StrokeColor:d,LineWidth:2*c,Actions:[{Action:"move",
x:a.x,y:a.y+.9*a.h},{Action:"line",x:a.x+.3*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.6*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.2*a.h}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",y:a.y,x:a.x},{Action:"line",y:a.y+a.h,x:a.x},{Action:"line",y:a.y+a.h,x:a.x+a.w}]}]}});lucid.plugin.initBlockClass({className:"UI3PieChartBlock",name:"Pie Chart",searchKeywords:["ui","interface","pie","chart","graph"],defaultSize:{w:240,h:240},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,
{id:"Label",value:"Pie Chart",getBoundingBox:function(b){return{x:b.x+.2*b.w,y:b.y+.2*b.h,w:.6*b.w,h:.2*b.h}}});lucid.plugin.registerProperty(b,"Slices",[0,.6*Math.PI,.9*Math.PI])},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=1);var d=[];b.Slices.sort();for(var e=0;e<b.Slices.length;e++){for(var g=b.Slices[e],h=b.Slices[(e+1)%b.Slices.length],k=lucid.color.darken(b.FillColor,(e+1)/b.Slices.length);h<g;)h+=2*Math.PI,k=b.FillColor;d.push({FillColor:k,StrokeColor:b.LineColor,
LineWidth:c,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+.5*a.w*Math.cos(g),y:a.y+.5*a.h+.5*a.h*Math.sin(g)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,g,h)},{Action:"close"}]})}return d},spatialControls:function(b){function f(a){return{logAction:"chart.viewport.selection.spatialControls.ui3.pieChart",location:function(){var c=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.plugin.getProperty(b,"Slices")[a];return{x:c.x+c.w/2+c.w/
2*Math.cos(d)-5,y:c.y+c.h/2+c.h/2*Math.sin(d)-5,w:10,h:10}},moved:function(c){var d=lucid.plugin.getProperty(b,"BoundingBox");for(c=Math.atan2(c.y-(d.y+d.h/2),c.x-(d.x+d.w/2));0>c;)c+=2*Math.PI;d=lucid.plugin.getProperty(b,"Slices");d[a]=c;lucid.plugin.setProperty(b,"Slices",d)},path:function(){for(var a=lucid.plugin.getProperty(b,"BoundingBox"),c=[],d=0;d<2*Math.PI;d+=Math.PI/12)c.push({x:a.x+a.w/2+a.w/2*Math.cos(d),y:a.y+a.h/2+a.h/2*Math.sin(d)});return c},snap:2}}for(var a=lucid.plugin.getProperty(b,
"Slices"),c=[],d=0;d<a.length;d++)c.push(f(d));return c}});lucid.plugin.initBlockClass({className:"UI3TabBarContainerBlock",name:"Tab Panel",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:"ui interface tabs container panel horizontal".split(" "),container:!0,defaultProperties:function(){return{Magnetize:!1}},defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Tab_1");lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle("Tab "+
a,c):"Tab "+a,getBoundingBox:function(a){return function(c){for(var f=24,h=lucid.plugin.getProperty(b,"Tabs"),k=Math.round(c.w/(h+1))-20,l=0;l<a-1;l++)f+=k+20;return a>h||f+k+20>c.w?null:{x:c.x+f,y:c.y+5,w:k,h:22}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Tab_"+e]||f(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",
1)},getRenderData:function(b,f){for(var a=b.BoundingBox,c="sample"==f?1:b.LineWidth,d=b.Tabs,e=b.vScroll,g=b.hScroll,h="sample"==f?2:24,k="sample"==f?2:20,l="sample"==f?3:32,n=Math.round(a.w/(d+1))-k,m=b.Selected,t=lucid.color.darken(b.FillColor,.25),r=[],p=[],q=0;q<d;q++)p[q]=h,h+=n+k;for(q=d-1;0<=q;q--)q+1!=m&&p[q]+n+k<=a.w&&r.push({FillColor:t,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+p[q]-.5*k,y:a.y+l},{Action:"line",x:a.x+p[q]-.5*k,y:a.y},{Action:"line",x:a.x+p[q]+n,y:a.y},
{Action:"line",x:a.x+p[q]+n+k,y:a.y+l}]});q=[{Action:"move",x:a.x,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}];p[m-1]+n+k<=a.w&&q.splice(1,0,{Action:"line",x:a.x+p[m-1]-.5*k,y:a.y+l},{Action:"line",x:a.x+p[m-1]-.5*k,y:a.y},{Action:"line",x:a.x+p[m-1]+n,y:a.y},{Action:"line",x:a.x+p[m-1]+n+k,y:a.y+l});r.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:q});if(1==e)for(k=B({x:a.x+a.w-32,y:a.y+l,
w:32,h:a.h-l-(1==g?32:0)},b.FillColor,b.LineColor,c),q=0;q<k.length;q++)r.push(k[q]);if(1==g)for(a=A({x:a.x,y:a.y+a.h-32,w:a.w-(1==e?32:0),h:32},b.FillColor,b.LineColor,c),q=0;q<a.length;q++)r.push(a[q]);return r}});lucid.plugin.initBlockClass({className:"UI3TabBar2ContainerBlock",name:"Tab Panel",container:!0,defaultProperties:function(){return{Magnetize:!1}},searchKeywords:"ui interface tabs container panel horizontal".split(" "),defaultSize:{w:320,h:240},snapSpacing:4,onInit:function(b){function f(a){var c=
lucid.text.getStyle(b,"Tab_1");lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle("Tab "+a,c):"Tab "+a,getBoundingBox:function(a){return function(c){for(var f=0,h=lucid.plugin.getProperty(b,"Tabs"),k=Math.floor((c.w-4*(h-1))/h),l=0;l<a-1;l++)f+=k+4;return a>h||f+k>c.w?null:{x:c.x+f+10,y:c.y+5,w:k-20,h:22}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Tab_"+e]||f(e)});lucid.plugin.registerProperty(b,
"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,f){for(var a=b.BoundingBox,c="sample"==f?1:b.LineWidth,d=b.Tabs,e=b.vScroll,g=b.hScroll,h=0,k="sample"==f?1:4,l="sample"==f?3:32,n=Math.floor((a.w-(d-1)*k)/d),m=b.Selected,t=lucid.color.darken(b.FillColor,.25),r=[],p=[],q=0;q<d;q++)p[q]=h,h+=n+k;for(q=d-1;0<=q;q--)q+1!=m&&p[q]+n<=a.w&&r.push({FillColor:t,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+
p[q],y:a.y+1.5*l},{Action:"line",x:a.x+p[q],y:a.y},{Action:"line",x:a.x+p[q]+n,y:a.y},{Action:"line",x:a.x+p[q]+n,y:a.y+1.5*l}]});q=[{Action:"move",x:a.x,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+l},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}];p[m-1]+n<=a.w&&q.splice(1,0,{Action:"line",x:a.x+p[m-1],y:a.y+l},{Action:"line",x:a.x+p[m-1],y:a.y},{Action:"line",x:a.x+p[m-1]+n,y:a.y},{Action:"line",x:a.x+p[m-1]+n,y:a.y+l});r.push({FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:c,Actions:q});if(1==e)for(l=B({x:a.x+a.w-32,y:a.y+l,w:32,h:a.h-l-(1==g?32:0)},b.FillColor,b.LineColor,c),q=0;q<l.length;q++)r.push(l[q]);if(1==g)for(a=A({x:a.x,y:a.y+a.h-32,w:a.w-(1==e?32:0),h:32},b.FillColor,b.LineColor,c),q=0;q<a.length;q++)r.push(a[q]);return r}});lucid.plugin.initBlockClass({className:"UI3VTabBarContainerBlock",name:"Vertical Tab Panel",container:!0,defaultProperties:function(){return{Magnetize:!1}},disabledPropertyControls:["FlipX","FlipY"],searchKeywords:"ui interface tabs container panel vertical".split(" "),
defaultSize:{w:480,h:240},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Tab_1");lucid.plugin.addBlockTextArea(b,{id:"Tab_"+a,value:c?lucid.text.restyle("Tab "+a,c):"Tab "+a,getBoundingBox:function(a){return function(c){for(var f=20,h=lucid.plugin.getProperty(b,"Tabs"),k=0;k<a-1;k++)f+=48;return a>h||f+40+8>c.h?null:{x:c.x+5,y:c.y+f+5,w:110,h:30}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Tabs",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),
e=1;e<=c;e++)d["Tab_"+e]||f(e)});lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0);lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,f){var a=b.BoundingBox;if("sample"==f)var c=a.w,a=a.x,a={x:a,y:a+.125*c,w:c,h:.75*c};for(var d="sample"==f?1:b.LineWidth,e=b.Tabs,g=b.vScroll,h=b.hScroll,k="sample"==f?1:20,l="sample"==f?0:8,n="sample"==f?6:120,m="sample"==f?4:40,t=b.Selected,r=lucid.color.darken(b.FillColor,.25),c=[],p=0,q=0;q<e;q++)q+1==
t?p=k:k+m+l<=a.h&&c.push({FillColor:r,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+n,y:a.y+k},{Action:"line",x:a.x,y:a.y+k},{Action:"line",x:a.x,y:a.y+k+m},{Action:"line",x:a.x+n,y:a.y+k+m}]}),k+=m+l;q=[{Action:"move",x:a.x+n,y:a.y},{Action:"line",x:a.x+n,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}];p+m+l<=a.h&&q.splice(1,0,{Action:"line",x:a.x+n,y:a.y+p},{Action:"line",x:a.x,y:a.y+p},{Action:"line",x:a.x,y:a.y+p+m},{Action:"line",
x:a.x+n,y:a.y+p+m});c.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:q});if(1==g)for(l=B({x:a.x+a.w-32,y:a.y,w:32,h:a.h-(1==h?32:0)},b.FillColor,b.LineColor,d),q=0;q<l.length;q++)c.push(l[q]);if(1==h)for(a=A({x:a.x+n,y:a.y+a.h-32,w:a.w-n-(1==g?32:0),h:32},b.FillColor,b.LineColor,d),q=0;q<a.length;q++)c.push(a[q]);return c}});lucid.plugin.initBlockClass({className:"UI3ColorPickerBlock",name:"Color Picker",searchKeywords:["ui","interface","color","picker","well"],defaultSize:{w:40,
h:40},snapSpacing:4,defaultProperties:function(){return{FillColor:"#aaffff"}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Text",value:"",getBoundingBox:function(b){return{x:b.x+20,y:b.y,w:b.w-60,h:40}}})},getRenderData:function(b,f){var a=b.BoundingBox;"sample"==f&&(a={x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)},{FillColor:b.LineColor,Actions:[{Action:"move",x:a.x+.5*a.w,y:a.y+.6*a.h},{Action:"line",
x:a.x+a.w,y:a.y+.6*a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+.6*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.9*a.w,y:a.y+.7*a.h},{Action:"line",x:a.x+.75*a.w,y:a.y+.9*a.h},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3ButtonBarBlock",name:"Button Bar",searchKeywords:"ui interface buttons bar strip horizontal".split(" "),defaultSize:{w:360,h:40},snapSpacing:4,onInit:function(b){function f(a){var c=
lucid.text.getStyle(b,"Button_1");lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle("Button "+a,c):"Button "+a,getBoundingBox:function(a){return function(c){for(var f=0,h=lucid.plugin.getProperty(b,"Buttons"),k=Math.round(c.w/h),l=0;l<a-1;l++)f+=k;return a>h?null:{x:c.x+f,y:c.y+5,w:k,h:c.h-10}}}(a)})}lucid.plugin.registerProperty(b,"Buttons",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Button_"+e]||f(e)});lucid.plugin.registerProperty(b,
"Selected",1)},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=b.Buttons;"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.35*c,w:c,h:.3*c},c=1);for(var e=0,g=Math.round(a.w/d),h=b.Selected,k=[{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:c,Actions:u(a)}],l=0;l<d;l++)l+1==h?k.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+e,y:a.y},{Action:"line",x:a.x+e+g,y:a.y},{Action:"line",x:a.x+e+g,y:a.y+a.h},{Action:"line",
x:a.x+e,y:a.y+a.h},{Action:"close"}]}):0<l&&l!=h&&k.push({StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+e,y:a.y},{Action:"line",x:a.x+e,y:a.y+a.h}]}),e+=g;return k}});lucid.plugin.initBlockClass({className:"UI3VerticalButtonBarBlock",name:"Vertical Button Bar",searchKeywords:"ui interface buttons bar strip vertical".split(" "),defaultSize:{w:120,h:120},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Button_1");lucid.plugin.addBlockTextArea(b,{id:"Button_"+
a,value:c?lucid.text.restyle("Button "+a,c):"Button "+a,getBoundingBox:function(a){return function(c){for(var f=0,h=lucid.plugin.getProperty(b,"Buttons"),k=c.h/h,l=0;l<a-1;l++)f+=k;return a>h?null:{x:c.x,y:c.y+f,w:c.w,h:k}}}(a)})}lucid.plugin.registerProperty(b,"Buttons",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Button_"+e]||f(e)});lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=b.Buttons,e=a.h/d;
"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.35*c,w:c,h:.24*c},e=.24*c,d=3,c=1);for(var g=0,h=b.Selected,k=lucid.color.darken(b.FillColor,.25),l=[],n,m=0;m<d;m++)n=m+1==h?b.FillColor:k,l.push({FillColor:n,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y+g},{Action:"line",x:a.x+a.w,y:a.y+g},{Action:"line",x:a.x+a.w,y:a.y+g+e},{Action:"line",x:a.x,y:a.y+g+e},{Action:"close"}]}),g+=e;return l}});lucid.plugin.initBlockClass({className:"UI3LinkBarBlock",name:"Link Bar",searchKeywords:["ui",
"interface","links","bar","strip"],defaultSize:{w:360,h:40},minHeight:20,unthemed:!0,afterEditText:function(b){D(b,"Links","Link_")},snapSpacing:4,onInit:function(b){function f(a){var c="Link_"+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var d=lucid.text.getStyle(b,"Link_1");d&&(c=lucid.text.restyle(c,d))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){for(var d=0,f=lucid.plugin.getProperty(b,
"Links"),l=lucid.plugin.getProperty(b,"totalSectionWidth",!0),n=lucid.plugin.getProperty(b,"sectionWidths",!0),l=(c.w-l)/f,m=0;m<a-1;m++)d+=n[m]+l;return a>f?null:{x:c.x+d,y:c.y+5,w:n[a-1]+l,h:c.h-10}}}(a)});lucid.plugin.hookPropertyPostSave(b,"Link_"+a,function(){D(b,"Links","Link_")})}lucid.plugin.registerProperty(b,"Links",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Link_"+e]||f(e);D(b,"Links","Link_")})},getRenderData:function(b,f,a){var c=b.BoundingBox,d=
b.LineWidth;a=b.Links;var e=(c.w-b.totalSectionWidth)/a;if("sample"==f)var g=c.w,c=c.x,c={x:c,y:c+.35*g,w:g,h:.3*g},d=1,g=Math.round(c.w/a);f=0;var h=[{Actions:u(c)}];f+=g||b.sectionWidths[0]+e;for(var k=1;k<a;k++)h.push({StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:c.x+f,y:c.y},{Action:"line",x:c.x+f,y:c.y+c.h}]}),f+=g||b.sectionWidths[k]+e;return h}});lucid.plugin.initBlockClass({className:"UI3BreadCrumbsBlock",name:"Bread Crumbs",searchKeywords:["ui","interface","links","breadcrumbs"],
defaultSize:{w:360,h:40},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function f(a){var c="Link_"+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var d=lucid.text.getStyle(b,"Link_1");d&&(c=lucid.text.restyle(c,d))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){for(var d=0,f=lucid.plugin.getProperty(b,"Links"),l=Math.round(c.w/f),n=0;n<a-1;n++)d+=l;return a>f?null:{x:c.x+d,
y:c.y+5,w:l,h:c.h-10}}}(a)})}lucid.plugin.registerProperty(b,"Links",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Link_"+e]||f(e)})},getRenderData:function(b,f,a){var c=b.BoundingBox,d=b.LineWidth;a=b.Links;var e=.3*c.h;"sample"==f&&(d=c.w,c=c.x,c={x:c,y:c+.3*d,w:d,h:.4*d},e=.2*c.h,d=1);f=.25*(c.h-2*e);for(var g=0,h=Math.round(c.w/a),k=[{Actions:u(c)}],l=1;l<a;l++)g+=h,k.push({StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:c.x+g-f,y:c.y+
e},{Action:"line",x:c.x+g+f,y:c.y+.5*c.h},{Action:"line",x:c.x+g-f,y:c.y+c.h-e}]});return k}});lucid.plugin.initBlockClass({className:"UI3MenuBarBlock",name:"Menu Bar",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:"ui interface menu bar file edit view".split(" "),defaultSize:{w:360,h:32},minHeight:20,unthemed:!0,afterEditText:function(b){D(b,"Buttons","MenuItem_")},snapSpacing:4,onInit:function(b){function f(c){lucid.plugin.addBlockTextArea(b,{id:"MenuItem_"+c,value:a[c-1]||"Item "+c,
getBoundingBox:function(a){return function(c){for(var f=0,h=lucid.plugin.getProperty(b,"Buttons"),k=lucid.plugin.getProperty(b,"sectionWidths",!0),l=0;l<a-1;l++)f+=k[l]+30;return a>h?null:{x:c.x+f,y:c.y+5,w:k[a-1]+30,h:c.h-10}}}(c)});lucid.plugin.hookPropertyPostSave(b,"MenuItem_"+c,function(){D(b,"Buttons","MenuItem_")})}var a=["File","Edit","View","Help"];lucid.plugin.registerProperty(b,"Buttons",4,null,function(a,d){for(var e=lucid.plugin.getBlockTextAreas(b),g=1;g<=d;g++)e["MenuItem_"+g]||f(g);
D(b,"Buttons","MenuItem_")});lucid.plugin.registerProperty(b,"Selected",1)},getRenderData:function(b,f,a){var c=b.BoundingBox;a=b.Buttons;if("sample"==f)var d=c.w,c=c.x,c={x:c,y:c+.35*d,w:d,h:.3*d},d=Math.round(c.w/a);f=0;for(var e=b.Selected,g=lucid.color.darken(b.FillColor,.25),h=[{FillColor:b.FillColor,Actions:u(c)}],k=0;k<a;k++)k+1==e&&h.push({FillColor:g,NoRounding:!0,Actions:[{Action:"move",x:c.x+f,y:c.y},{Action:"line",x:c.x+f+(d||b.sectionWidths[k]+30),y:c.y},{Action:"line",x:c.x+f+(d||b.sectionWidths[k]+
30),y:c.y+c.h},{Action:"line",x:c.x+f,y:c.y+c.h},{Action:"close"}]}),f+=d||b.sectionWidths[k]+30;return h}});lucid.plugin.initBlockClass({className:"UI3AtoZBlock",name:"A-Z",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","links","alphabet"],defaultSize:{w:600,h:20},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function f(a,d){lucid.plugin.addBlockTextArea(b,{id:"Text_"+d,value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+a+
"</span>",getBoundingBox:function(a){return function(b){var d=Math.floor(b.w/(c+1))*(0==a?2:1);return{x:b.x+(0==a?0:a+1)*d-10,y:b.y,w:d+20,h:b.h}}}(d),readOnly:!0})}for(var a="0-9 A B C D E F G H I J K L M N O P Q R S T U V W X Y Z".split(" "),c=a.length,d=0;d<c;d++)f(a[d],d)},getRenderData:function(b,f){var a=b.BoundingBox;if("sample"==f)var c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c};c=[{Actions:u(a)}];if("sample"==f){for(var d=[[.1,.8],[.25,.2],[.4,.8],null,[.16,.56],[.34,.56],null,[.425,.56],[.575,
.56],null,[.6,.2],[.9,.2],[.6,.8],[.9,.8]],e=[],g=!0,h=0;h<d.length;h++)d[h]?(e.push({Action:g?"move":"line",x:a.x+d[h][0]*a.w,y:a.y+d[h][1]*a.h}),g=!1):g=!0;c.push({StrokeColor:"#000000",LineWidth:1,NoRounding:!0,Actions:e})}return c}});lucid.plugin.initBlockClass({className:"UI3PaginationBlock",name:"Pagination",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","links","page","pagination"],defaultSize:{w:480,h:20},minHeight:20,unthemed:!0,snapSpacing:4,onInit:function(b){function f(a){var c=
""+a;if(1==a)c='<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">'+c+"</span>";else{var d=lucid.text.getStyle(b,"Link_1");d&&(c=lucid.text.restyle(c,d))}lucid.plugin.addBlockTextArea(b,{id:"Link_"+a,value:c,getBoundingBox:function(a){return function(c){var d=lucid.plugin.getProperty(b,"Links"),f=c.w/(d+8),l=(4+a-1)*f;return a>d?null:{x:c.x+l,y:c.y,w:f,h:c.h}}}(a),readOnly:!0})}lucid.plugin.addBlockTextArea(b,{id:"Text_prev",value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">&lt;&lt; Prev</span>',
getBoundingBox:function(a){var c=lucid.plugin.getProperty(b,"Links")+8;return{x:a.x,y:a.y,w:4*a.w/c,h:a.h}},readOnly:!0,align:"left"});lucid.plugin.registerProperty(b,"Links",10,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Link_"+e]||f(e)});lucid.plugin.addBlockTextArea(b,{id:"Text_next",value:'<span style="color: #316CCC; font-weight:bold; text-decoration: underline;">Next &gt;&gt;</span>',getBoundingBox:function(a){var c=lucid.plugin.getProperty(b,"Links")+8,c=
4*a.w/c;return{x:a.x+a.w-c,y:a.y,w:c,h:a.h}},readOnly:!0,align:"right"})},getRenderData:function(b,f){var a=b.BoundingBox;if("sample"==f)var c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c};c=[{Actions:u(a)}];if("sample"==f){for(var d=[[.15,.3],[0,.5],[.15,.7],null,[.3,.3],[.15,.5],[.3,.7],null,[.45,.3],[.5,.2],[.5,.8],null,[.45,.8],[.55,.8],null,[.65,.4],[.7,.2],[.8,.2],[.85,.4],[.65,.8],[.85,.8]],e=[],g=!0,h=0;h<d.length;h++)d[h]?(e.push({Action:g?"move":"line",x:a.x+d[h][0]*a.w,y:a.y+d[h][1]*a.h}),g=!1):
g=!0;c.push({StrokeColor:"#000000",LineWidth:1,NoRounding:!0,Actions:e})}return c}});lucid.plugin.initBlockClass({className:"UI3DatePickerBlock",name:"Date Picker",searchKeywords:["ui","interface","date","calendar","picker"],minWidth:120,defaultSize:{w:160,h:40},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Date",value:"1/1/10",getBoundingBox:function(b){var a=Math.min(b.w,b.h);return{x:b.x+.1*(b.w-1.25*a),y:b.y+.1*b.h,w:.8*(b.w-1.25*a),h:.8*b.h}}})},getRenderData:function(b,
f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.35*c,w:c,h:.3*c},c=1);var d=Math.min(a.w,a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w-1.25*d,y:a.y},{Action:"line",x:a.x+a.w-1.25*d,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-d,y:a.y+.25*d},{Action:"line",x:a.x+a.w,
y:a.y+.25*d},{Action:"move",x:a.x+a.w-d,y:a.y+.5*d},{Action:"line",x:a.x+a.w,y:a.y+.5*d},{Action:"move",x:a.x+a.w-d,y:a.y+.75*d},{Action:"line",x:a.x+a.w,y:a.y+.75*d},{Action:"move",x:a.x+a.w-.25*d,y:a.y+.25*d},{Action:"line",x:a.x+a.w-.25*d,y:a.y+d},{Action:"move",x:a.x+a.w-.5*d,y:a.y+.25*d},{Action:"line",x:a.x+a.w-.5*d,y:a.y+d},{Action:"move",x:a.x+a.w-.75*d,y:a.y+.25*d},{Action:"line",x:a.x+a.w-.75*d,y:a.y+d},{Action:"move",x:a.x+a.w-d,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+
a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w-d,y:a.y+a.h},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3CalendarBlock",name:"Calendar",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","calendar"],defaultSize:{w:280,h:200},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Month",value:"March 2010",getBoundingBox:function(b){return{x:b.x+40,y:b.y+8,w:b.w-80,h:24}}});lucid.plugin.addBlockTextArea(b,{id:"Sundays",value:"S<br /><br />7<br />14<br/ >21<br />28",
getBoundingBox:function(b){return{x:b.x,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Monday",value:"M<br />1<br />8<br />15<br/ >22<br />29",getBoundingBox:function(b){return{x:b.x+b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Tuedays",value:"T<br />2<br />9<br />16<br/ >23<br />30",getBoundingBox:function(b){return{x:b.x+2*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,
{id:"Wednesdays",value:"W<br />3<br />10<br />17<br/ >24<br />31",getBoundingBox:function(b){return{x:b.x+3*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Thursdays",value:"Th<br />4<br />11<br />18<br/ >25<br /><br />",getBoundingBox:function(b){return{x:b.x+4*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Fridays",value:"F<br />5<br />12<br />19<br/ >26<br /><br />",getBoundingBox:function(b){return{x:b.x+
5*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"});lucid.plugin.addBlockTextArea(b,{id:"Saturdays",value:"S<br />6<br />13<br />20<br/ >27<br /><br />",getBoundingBox:function(b){return{x:b.x+6*b.w/7,y:b.y+40,w:b.w/7,h:b.h-40}},readOnly:!0,align:"center"})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=40,e=lucid.color.darken(b.FillColor,.1);"sample"==f&&(c=1,d=5,e=lucid.color.darken(b.FillColor,.5));var g=a.w/7;return[{FillColor:b.FillColor,Actions:u(a)},{StrokeColor:e,
LineWidth:c,NoRounding:!0,Actions:[{Action:"move",x:a.x+g,y:a.y+d},{Action:"line",x:a.x+g,y:a.y+a.h},{Action:"move",x:a.x+2*g,y:a.y+d},{Action:"line",x:a.x+2*g,y:a.y+a.h},{Action:"move",x:a.x+3*g,y:a.y+d},{Action:"line",x:a.x+3*g,y:a.y+a.h},{Action:"move",x:a.x+4*g,y:a.y+d},{Action:"line",x:a.x+4*g,y:a.y+a.h},{Action:"move",x:a.x+5*g,y:a.y+d},{Action:"line",x:a.x+5*g,y:a.y+a.h},{Action:"move",x:a.x+6*g,y:a.y+d},{Action:"line",x:a.x+6*g,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:c,Actions:u(a)},
{StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y+d},{Action:"line",x:a.x+a.w,y:a.y+d}]},{FillColor:b.LineColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+.3*d,y:a.y+.5*d},{Action:"line",x:a.x+.6*d,y:a.y+.3*d},{Action:"line",x:a.x+.6*d,y:a.y+.7*d},{Action:"close"},{Action:"move",x:a.x+a.w-.3*d,y:a.y+.5*d},{Action:"line",x:a.x+a.w-.6*d,y:a.y+.3*d},{Action:"line",x:a.x+a.w-.6*d,y:a.y+.7*d},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3WebcamBlock",name:"Webcam",
searchKeywords:["ui","interface","webcam","camera"],defaultSize:{w:280,h:200},snapSpacing:4,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=Math.round(Math.min(a.w/3,a.h/2.5)),e=Math.round(d/2);"sample"==f&&(c=1);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:u(a)},{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+.5*a.w-d,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+
.5*a.w-d,a.y+a.h-d,2*d,2*d,Math.PI,2*Math.PI)},{Action:"close"},{Action:"move",x:a.x+.5*a.w+e,y:a.y+a.h-d-1.2*e},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.5*a.w-e,a.y+a.h-d-2.2*e,2*e,2*e,0,2*Math.PI)},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3CaptchaBlock",name:"CAPTCHA",unthemed:!0,searchKeywords:["ui","interface","captcha","recaptcha"],defaultSize:{w:225,h:125},defaultProperties:function(){return{FillColor:"#cccccc"}},snapSpacing:4,onInit:function(b){function f(c,
d,e,f){lucid.plugin.addBlockTextArea(b,{id:c+a+"_Text",value:'<span style="font-size: '+d+'px; font-weight: bold;">'+c+"</span>",getBoundingBox:function(a){return{x:a.x+e*a.w-30,y:a.y+f*a.h-40,w:60,h:80}},readOnly:!0,align:"center"});a++}var a=0;f.call(this,"C",28,.2,.35);f.call(this,"A",40,.3,.4);f.call(this,"P",38,.4,.45);f.call(this,"T",36,.5,.3);f.call(this,"C",38,.6,.4);f.call(this,"H",28,.65,.35);f.call(this,"A",26,.75,.45)},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth,d=16;
"sample"==f&&(c=1,d=3);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:u(a)},{FillColor:"#ffffff",StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+d,y:a.y+.8*a.h-d},{Action:"line",x:a.x+a.w-d,y:a.y+.8*a.h-d},{Action:"line",x:a.x+a.w-d,y:a.y+a.h-d},{Action:"line",x:a.x+d,y:a.y+a.h-d},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3HelpIconBlock",name:"Help Icon",searchKeywords:["ui","interface","help","icon"],defaultSize:{w:40,h:40},snapSpacing:4,
getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(a={x:Math.round(a.x+.25*a.w),y:Math.round(a.y+.25*a.h),w:Math.round(.5*a.w),h:Math.round(.5*a.h)},c=1);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+a.w,y:a.y+.5*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",x:a.x+.35*a.w,y:a.y+.35*a.h},{Action:"curve",
Control:lucid.math.ellipseArcControlPoints(a.x+.35*a.w,a.y+.2*a.h,.3*a.w,.3*a.h,Math.PI,2.25*Math.PI)},{Action:"curve",Control:[{x1:a.x+.5*a.w,y1:a.y+.35*a.h+1.414*.15*a.h,x2:a.x+.5*a.w,y2:a.y+.35*a.h+1.414*.15*a.h,x3:a.x+.5*a.w,y3:a.y+.65*a.h}]},{Action:"move",x:a.x+.5*a.w,y:a.y+.75*a.h},{Action:"line",x:a.x+.5*a.w,y:a.y+.75*a.h+2*c}]}]}});lucid.plugin.initBlockClass({className:"UI3NumericStepperBlock",name:"Numeric Stepper",searchKeywords:"ui interface numeric number stepper spinner".split(" "),
defaultSize:{w:80,h:40},minWidth:60,snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Number",value:"4",getBoundingBox:function(b){return{x:b.x,y:b.y+.2*b.h,w:b.w-.75*Math.min(b.w,b.h),h:.6*b.h}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=1);var d=.75*Math.min(a.w,a.h);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:u(a)},{StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x+a.w-d,y:a.y},{Action:"line",
x:a.x+a.w-d,y:a.y+a.h},{Action:"move",x:a.x+a.w-d,y:a.y+.5*a.h},{Action:"line",x:a.x+a.w,y:a.y+.5*a.h}]},{FillColor:b.LineColor,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*d,y:a.y+.35*a.h},{Action:"line",x:a.x+a.w-.5*d,y:a.y+.1*a.h},{Action:"line",x:a.x+a.w-.2*d,y:a.y+.35*a.h},{Action:"close"},{Action:"move",x:a.x+a.w-.8*d,y:a.y+.65*a.h},{Action:"line",x:a.x+a.w-.5*d,y:a.y+.9*a.h},{Action:"line",x:a.x+a.w-.2*d,y:a.y+.65*a.h},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3AccordionBlock",
name:"Accordion",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","accordion"],defaultSize:{w:240,h:360},partialContainer:{getContainerArea:function(b){return lucid.plugin.getProperty(b,"BoundingBox")}},snapSpacing:4,onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Panel_"+(a-1));lucid.plugin.addBlockTextArea(b,{id:"Panel_"+a,value:c?lucid.text.restyle("Panel "+a,c):"Panel "+a,getBoundingBox:function(a){return function(c){for(var f=Math.min(lucid.plugin.getProperty(b,
"Panels"),Math.floor(c.h/40)),h=lucid.plugin.getProperty(b,"Selected"),k=c.h-40*f,h=a>h?k:0,k=0;k<a-1;k++)h+=40;return a>f?null:{x:c.x+5,y:c.y+h+5,w:c.w-10,h:30}}}(a),align:"left"});lucid.plugin.addBlockTextArea(b,{id:"Content_"+a,value:1==a?"Content":"",getBoundingBox:function(a){return function(c){for(var f=Math.min(lucid.plugin.getProperty(b,"Panels"),Math.floor(c.h/40)),h=lucid.plugin.getProperty(b,"Selected"),k=c.h-40*f,l=a>h?k:0,n=0;n<a-1;n++)l+=40;return a!=h||a>f||40>k?null:{x:c.x+10,y:c.y+
l+40+10,w:c.w-20,h:k-20}}}(a),align:"left"})}lucid.plugin.registerProperty(b,"Panels",3,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Panel_"+e]||f(e)});lucid.plugin.registerProperty(b,"Selected",1);lucid.plugin.registerProperty(b,"vScroll",0);lucid.plugin.registerProperty(b,"hScroll",0)},getRenderData:function(b,f){var a=b.BoundingBox,c=b.vScroll,d=b.hScroll;if("sample"==f)var e=a.h,a=a.y,a={x:a+.125*e,y:a,w:.75*e,h:e};for(var e="sample"==f?1:b.LineWidth,g="sample"==
f?4:40,h=Math.min(b.Panels,Math.floor(a.h/g)),k=a.h-h*g,l=b.Selected,n=0,m=[{FillColor:lucid.color.darken(b.FillColor,.25),StrokeColor:b.LineColor,LineWidth:e,Actions:u(a)}],t=0;t<h;t++){if(t==l-1){m.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:a.x,y:a.y+n},{Action:"line",x:a.x+a.w,y:a.y+n},{Action:"line",x:a.x+a.w,y:a.y+n+g+k},{Action:"line",x:a.x,y:a.y+n+g+k},{Action:"close"}]});m.push({StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:a.x,
y:a.y+n+g},{Action:"line",x:a.x+a.w,y:a.y+n+g}]});if(1==c)for(var r=B({x:a.x+a.w-32,y:a.y+n+g,w:32,h:k-(1==d?32:0)},b.FillColor,b.LineColor,e),p=0;p<r.length;p++)m.push(r[p]);if(1==d)for(r=A({x:a.x,y:a.y+n+g+k-32,w:a.w-(1==c?32:0),h:32},b.FillColor,b.LineColor,e),p=0;p<r.length;p++)m.push(r[p]);n+=k}else 0!=t&&t!=l&&m.push({StrokeColor:b.LineColor,LineWidth:e,Actions:[{Action:"move",x:a.x,y:a.y+n},{Action:"line",x:a.x+a.w,y:a.y+n}]});n+=g}return m}});lucid.plugin.initBlockClass({className:"UI3VerticalSplitterBlock",
name:"Vertical Splitter",hLock:!0,searchKeywords:["ui","interface","splitter","divider","vertical"],defaultSize:{w:20,h:240},snapSpacing:4,getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=a.h,a=a.y,a={x:a+.35*c,y:a,w:.3*c,h:c},c=1);return[{Actions:u(a)},{StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"move",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",
x:a.x+.5*a.w,y:a.y+.5*a.h-.5*a.w-c},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h-.5*a.w+c},{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h-c},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h+c},{Action:"move",x:a.x+.5*a.w,y:a.y+.5*a.h+.5*a.w-c},{Action:"line",x:a.x+.5*a.w,y:a.y+.5*a.h+.5*a.w+c}]}]}});lucid.plugin.initBlockClass({className:"UI3HorizontalSplitterBlock",name:"Horizontal Splitter",vLock:!0,searchKeywords:["ui","interface","splitter","divider","horizontal"],defaultSize:{w:240,h:20},snapSpacing:4,getRenderData:function(b,
f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.35*c,w:c,h:.3*c},c=1);return[{Actions:u(a)},{StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"move",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",x:a.x+.5*a.w-.5*a.h-c,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w-.5*a.h+c,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w-c,y:a.y+.5*a.h},{Action:"line",
x:a.x+.5*a.w+c,y:a.y+.5*a.h},{Action:"move",x:a.x+.5*a.w+.5*a.h-c,y:a.y+.5*a.h},{Action:"line",x:a.x+.5*a.w+.5*a.h+c,y:a.y+.5*a.h}]}]}});lucid.plugin.initBlockClass({className:"UI3BraceNoteBlock",name:"Curly Brace Note",searchKeywords:"ui interface brace curly bracket note".split(" "),defaultSize:{w:80,h:160},snapSpacing:4,variants:{Right:{defaultProperties:function(){return{BraceDirection:"Right"}}}},onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Note",value:"Note",getBoundingBox:function(f){var a=
.0625*f.h,c="Right"===lucid.plugin.getProperty(b,"BraceDirection");return{x:f.x+(c?0:3)*a,y:f.y+.25*f.h,w:f.w-3*a,h:.5*f.h}}})},onCreate:function(b){var f="Right"===lucid.plugin.getProperty(b,"BraceDirection")?"right":"left";lucid.plugin.updateBlockTextArea(b,"Note",{align:f})},getRenderData:function(b,f){var a=b.BoundingBox,c=.0625*a.h,d=b.LineWidth;"sample"==f&&(c*=2,a={x:a.y,y:a.y,w:a.h,h:a.h});var e="Right"===b.BraceDirection,g=e?-1:1,h=a.w/2,h=a.x+(h-h*g),k=h+c*g,d=[{Actions:[{Action:"move",
x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:h,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-c,a.y+a.h-2*c,2*c,2*c,.5*Math.PI,Math.PI*(.5-.5*g))},{Action:"line",x:k,y:a.y+a.h/2+c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(k-(c-c*g),a.y+a.h/2,2*c,2*c,Math.PI*(1+(.5-.5*g)),1.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(k-
(c-c*g),a.y+a.h/2-2*c,2*c,2*c,.5*Math.PI,Math.PI*(1-(.5-.5*g)))},{Action:"line",x:k,y:a.y+c},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-c,a.y,2*c,2*c,Math.PI*(2-(.5-.5*g)),1.5*Math.PI)}]}],e=e?0:3*c,c=3*c-e;"sample"==f&&d.push({FillColor:lucid.color.darken(b.FillColor,.5),Actions:[{Action:"move",x:a.x+e,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-c,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-c,y:a.y+.4*a.h},{Action:"line",x:a.x+e,y:a.y+.4*a.h},{Action:"close"},{Action:"move",x:a.x+e,
y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-c,y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-c,y:a.y+.55*a.h},{Action:"line",x:a.x+e,y:a.y+.55*a.h},{Action:"close"},{Action:"move",x:a.x+e,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-c,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-c,y:a.y+.7*a.h},{Action:"line",x:a.x+e,y:a.y+.7*a.h},{Action:"close"}]});return d}});(function(){function b(a){return.3*1.5*Math.min(a.h,a.w)}function f(a,c,d,e,f,h){c||(c=lucid.plugin.getProperty(a,"Side"));d||(d=lucid.plugin.getProperty(a,
"Position")/100);e||(e=lucid.plugin.getProperty(a,"BoundingBox"));f||b(e);h||(h=.2*e.w);var k,l;a=h/2;switch(c){case 0:k=(e.w-h)*d+a;l=0;break;case 1:k=e.w;l=(e.h-h)*d+a;break;case 2:k=(e.w-h)*d+a;l=e.h;break;case 3:k=0,l=(e.h-h)*d+a}return{x:e.x+k,y:e.y+l}}lucid.plugin.initBlockClass({className:"UI3TooltipBlock",name:"Callout",searchKeywords:"shape tooltip infotip callout call out tip".split(" "),defaultSize:{w:120,h:40},minWidth:120,minHeight:40,onInit:function(a){lucid.plugin.addBlockTextArea(a,
{id:"Tip",value:"Tooltip",getBoundingBox:function(a){return{x:a.x+.1*a.w,y:a.y+.1*a.h,w:.8*a.w,h:.8*a.h}}});var c=lucid.plugin.getProperty(a,"BoundingBox");lucid.plugin.registerProperty(a,"MinLayerPadding",b(c));lucid.plugin.registerProperty(a,"TailAngle",-40);lucid.plugin.registerProperty(a,"Side",0);lucid.plugin.registerProperty(a,"Position",25)},getOffsetProperties:function(a,c,d){c=lucid.plugin.defaultOffsetProperties(a,c,d);d=b(c[a].BoundingBox);c[a].MinLayerPadding=d;return c},spatialControls:function(a){function c(b,
c,g,h,k){var l=Array.prototype.splice.call(arguments);l.unshift(a);return f.apply(null,l)}if(lucid.plugin.getProperty(a,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",location:function(){var a=c();return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var c=lucid.plugin.getProperty(a,"BoundingBox"),f=.2*c.w,h=f/2,k=0;b.x>=c.x+c.w?k=1:b.y>=c.y+c.h?k=2:b.x<=c.x&&(k=3);var l=0;switch(k){case 0:case 2:l=(b.x-c.x-h)/(c.w-f);break;case 1:case 3:l=(b.y-c.y-h)/
(c.h-f)}l=Math.round(100*Math.min(1,Math.max(0,l)));45<l&&55>l&&(l=50);lucid.plugin.setPropertyIfChanged(a,"Side",k);lucid.plugin.setPropertyIfChanged(a,"Position",l)},path:function(){var b=lucid.plugin.getProperty(a,"BoundingBox");return[{x:b.x,y:b.y},{x:b.x+b.w,y:b.y},{x:b.x+b.w,y:b.y+b.h},{x:b.x,y:b.y+b.h},{x:b.x,y:b.y}]}},{location:function(){var c;c=lucid.plugin.getProperty(a,"Side");var e=lucid.plugin.getProperty(a,"Position")/100,g=lucid.plugin.getProperty(a,"BoundingBox"),h=b(g),k=.2*g.w,
l=lucid.plugin.getProperty(a,"TailAngle"),n,m,t=k/2;switch(c){case 0:n=(g.w-k)*e+t;m=0-h;break;case 1:n=g.w+h;m=(g.h-k)*e+t;break;case 2:n=(g.w-k)*e+t;m=g.h+h;break;case 3:n=0-h,m=(g.h-k)*e+t}c=lucid.math.Point.rotate({x:g.x+n,y:g.y+m},f(a,c,e,g,h,k),Math.PI/180*l);return{x:c.x-5,y:c.y-5,w:10,h:10}},moved:function(b){var e=c();lucid.plugin.getProperty(a,"BoundingBox");var f=0;switch(lucid.plugin.getProperty(a,"Side")){case 0:f=-1*Math.atan2(e.x-b.x,e.y-b.y);break;case 1:f=Math.atan2(b.y-e.y,b.x-e.x);
break;case 2:f=-1*Math.atan2(b.x-e.x,b.y-e.y);break;case 3:f=Math.atan2(e.y-b.y,e.x-b.x)}f=Math.round(180*f/Math.PI);80<f?f=80:-80>f?f=-80:-5<f&&5>f&&(f=0);lucid.plugin.setPropertyIfChanged(a,"TailAngle",f)}}]},getRenderData:function(a,c){function d(b,c,d,g,l){var r=f(a.id,a.Side,n,e,h,k);t.splice(b,c,d,lucid.math.Point.rotate(g,{x:r.x-e.x,y:r.y-e.y},Math.PI/180*m),l)}var e=a.BoundingBox,g=a.LineWidth,h=b(e),k=.2*e.w,l=k/2,n=a.Position/100,m=a.TailAngle||0,t=[{x:0,y:0},{x:e.w,y:0},{x:e.w,y:e.h},{x:0,
y:e.h}];switch(a.Side){case 0:d(1,0,{x:(e.w-k)*n,y:0},{x:(e.w-k)*n+l,y:-h},{x:(e.w-k)*n+k,y:0});break;case 1:d(2,0,{x:e.w,y:(e.h-k)*n},{x:e.w+h,y:(e.h-k)*n+l},{x:e.w,y:(e.h-k)*n+k});break;case 2:d(3,0,{x:(e.w-k)*n+k,y:e.h},{x:(e.w-k)*n+l,y:e.h+h},{x:(e.w-k)*n,y:e.h});break;case 3:d(4,0,{x:0,y:(e.h-k)*n+k},{x:-h,y:(e.h-k)*n+l},{x:0,y:(e.h-k)*n})}var r=[];lucid.array.forEach(t,function(a,b){r.push({Action:0==b?"move":"line",x:e.x+a.x,y:e.y+a.y})});r.push({Action:"close"});return[{FillColor:a.FillColor,
StrokeColor:a.LineColor,LineWidth:g,Actions:r}]}})})();lucid.plugin.initBlockClass({className:"UI3SideBarBlock",name:"Side Bar",searchKeywords:["ui","side","menu bar"],defaultSize:{w:280,h:800},noLines:!0,unthemed:!0,rLock:!0,snapSpacing:4,disabledPropertyControls:[],defaultProperties:function(){return{FillColor:"#333",LineColor:"#999",LineWidth:1,Rounding:0}},onInit:function(b){function f(a){return function(c){var d=lucid.plugin.getProperty(b,"LeftWidth"),e=lucid.plugin.getProperty(b,"MenuHeight"),
f=lucid.plugin.getProperty(b,"MenuItems");return{x:c.x+10+d,y:c.y+10+a*e/f,w:c.w-20-d,h:e/f-20}}}lucid.plugin.registerProperty(b,"LeftWidth",65);lucid.plugin.registerProperty(b,"ViewMode",!0);lucid.plugin.registerProperty(b,"MenuHeight",250);lucid.plugin.registerProperty(b,"MenuItems",4,null,function(a,c){for(var d=0;d<c;d++)for(d=0;d<c;d++)la(b,"MenuLabal_"+d,"Menu Item "+d,f(d),null,function(){return d>lucid.plugin.getProperty(b,"MenuItems")||!lucid.plugin.getProperty(b,"ViewMode")})})},getRenderData:function(b,
f){"sample"==f&&(b.LineWidth=1,b.LeftWidth=15,b.BoundingBox={x:0,y:0,w:58,h:58});var a=b.BoundingBox,c;b.ViewMode||(a.w=b.LeftWidth);c=[{FillColor:b.FillColor,Actions:u(a)}];for(var d=1;d<=b.MenuItems;++d){var e=a.y+d*b.MenuHeight/b.MenuItems;c.push({LineWidth:b.LineWidth,StrokeColor:b.LineColor,Actions:na([[a.x,e],[a.x+(b.ViewMode?a.w:b.LeftWidth),e]],!1)})}return c},getOffsetProperties:function(b,f,a){return lucid.plugin.defaultOffsetProperties(b,f,a)},spatialControls:function(b){var f=lucid.plugin.getProperty(b,
"BoundingBox"),a=lucid.plugin.getProperty(b,"LeftWidth"),c=lucid.plugin.getProperty(b,"MenuHeight"),d=lucid.plugin.getProperty(b,"ViewMode");return[{location:function(){return{x:f.x+a-3,y:f.y,w:6,h:f.h}},moved:function(a){lucid.plugin.setProperty(b,"LeftWidth",a.x-f.x)},path:function(){return[{x:f.x,y:f.y},{x:f.x+f.w,y:f.y}]},cursor:function(){return"ew-resize"},color:"#00f"},{location:function(){return{x:f.x,y:f.y+c-3,w:d?f.w:a,h:6}},moved:function(a){lucid.plugin.setProperty(b,"MenuHeight",a.y-
f.y)},path:function(){return[{x:f.x,y:f.y},{x:f.x,y:f.y+f.h}]},cursor:function(){return"ns-resize"},color:"#00f"}]}});lucid.plugin.initBlockClass({className:"UI3SearchBlock",name:"Search Box",searchKeywords:["ui","interface","search","find"],defaultSize:{w:120,h:40},minWidth:120,snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Search",value:"search",getBoundingBox:function(b){var a=b.h;return{x:b.x+a+.1*(b.w-a),y:b.y+.1*b.h,w:.8*(b.w-a),h:.8*b.h}},align:"left"})},getRenderData:function(b,
f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(c=a.w,a=a.x,a={x:a,y:a+.25*c,w:c,h:.5*c},c=1);var d=a.h;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:c,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:2*c,Actions:[{Action:"move",x:a.x+.4*d,y:a.y+.4*d},{Action:"line",x:a.x+.8*d,y:a.y+.8*d}]},{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:c,Actions:[{Action:"move",x:a.x+.6*d,y:a.y+.4*d},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.2*d,a.y+.2*d,.4*d,.4*d,0,2*Math.PI)},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3CalloutBlock",name:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultSize:{w:44,h:44},defaultProperties:function(){return{FillColor:"#ffff00"}},snapSpacing:4,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"1",getBoundingBox:function(f){return X(f,
function(a){return{x:a.x+.2*a.w,y:a.y+.2*a.h,w:.6*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin")||0,hideOverflow:!0}})}});1<(lucid.plugin.getProperty(null,"Version")||0)&&(lucid.plugin.registerProperty(b,"TextWrap","fit"),lucid.plugin.registerProperty(b,"InsetMargin",5))},getRenderData:function(b,f){var a=b.BoundingBox,c=b.LineWidth;"sample"==f&&(a={x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*a.w,h:.5*a.h});return[{FillColor:b.FillColor,StrokeColor:b.LineColor,
LineWidth:c,Actions:[{Action:"move",x:a.x+a.w,y:a.y+.5*a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]}]}});(function(){function b(b,a,c,d){a||(a=lucid.plugin.getProperty(b,"Side"));c||(c=lucid.plugin.getProperty(b,"Position"));d||(d=lucid.plugin.getProperty(b,"BoundingBox"));var e,g;switch(a){case 0:e=d.w*c;g=0;break;case 1:e=d.w;g=d.h*c;break;case 2:e=d.w*c;g=d.h;break;case 3:e=0,g=d.h*c}return{x:d.x+e,y:d.y+g}}lucid.plugin.initBlockClass({className:"UI3CalloutSquareBlock",
name:"Square Tooltip",searchKeywords:"shape tooltip infotip callout call out tip".split(" "),defaultSize:{w:120,h:40},minWidth:120,minHeight:40,onInit:function(b){lucid.plugin.addBlockTextArea(b,{id:"Tip",value:"",getBoundingBox:function(a){return{x:a.x+5,y:a.y+5,w:a.w-10,h:a.h-10}}});lucid.plugin.getProperty(b,"BoundingBox");lucid.plugin.registerProperty(b,"MinLayerPadding",25);lucid.plugin.registerProperty(b,"TailAngle",30);lucid.plugin.registerProperty(b,"TailRadius",25);lucid.plugin.registerProperty(b,
"TailWidth",15);lucid.plugin.registerProperty(b,"Side",0);lucid.plugin.registerProperty(b,"Position",.6);lucid.plugin.registerProperty(b,"RoundCorners",5)},getOffsetProperties:function(b,a,c){a=lucid.plugin.defaultOffsetProperties(b,a,c);a[b].MinLayerPadding=lucid.plugin.getProperty(b,"TailRadius");return a},spatialControls:function(f){function a(a,d,e,g,h){var k=Array.prototype.splice.call(arguments);k.unshift(f);return b.apply(null,k)}if(lucid.plugin.getProperty(f,"BoundingBox"))return[{logAction:"chart.viewport.selection.spatialControls.shapes.calloutTail",
location:function(){var b=a();return{x:b.x-5,y:b.y-5,w:10,h:10}},moved:function(a){var b=lucid.plugin.getProperty(f,"BoundingBox"),e=lucid.plugin.getProperty(f,"RoundCorners"),g=lucid.plugin.getProperty(f,"TailWidth"),h=Math.abs(g),k=lucid.plugin.getProperty(f,"Side");a.y<=b.y&&2*e<b.w?k=0:a.x>=b.x+b.w&&2*e<b.h?k=1:a.y>=b.y+b.h&&2*e<b.w?k=2:a.x<=b.x&&2*e<b.h&&(k=3);var l=.5,n=Math.abs(g);switch(k){case 0:case 2:h+2*e>b.w?(l=.5,n=(b.w-2*e)/2):l=Math.min(Math.max(a.x-b.x,e+h),b.w-e-h)/b.w;break;case 1:case 3:h+
2*e>b.h?(l=.5,n=(b.h-2*e)/2):l=Math.min(Math.max(a.y-b.y,e+h),b.h-e-h)/b.h}.45<l&&.55>l&&(l=.5);lucid.plugin.setPropertyIfChanged(f,"TailWidth",0>g?-n:n);lucid.plugin.setPropertyIfChanged(f,"Side",k);lucid.plugin.setPropertyIfChanged(f,"Position",l)},path:function(){var a=lucid.plugin.getProperty(f,"BoundingBox");return[{x:a.x,y:a.y},{x:a.x+a.w,y:a.y},{x:a.x+a.w,y:a.y+a.h},{x:a.x,y:a.y+a.h},{x:a.x,y:a.y}]}},{location:function(){var b,d;lucid.plugin.getProperty(f,"BoundingBox");var e=lucid.plugin.getProperty(f,
"TailWidth"),g=lucid.plugin.getProperty(f,"Side"),h=a();switch(g){case 0:case 2:b=h.x-e;d=h.y;break;case 1:case 3:b=h.x,d=h.y-e}return{x:b-5,y:d-5,w:10,h:10}},moved:function(b){var d=lucid.plugin.getProperty(f,"BoundingBox"),e=lucid.plugin.getProperty(f,"Position"),g=lucid.plugin.getProperty(f,"Side"),h=lucid.plugin.getProperty(f,"RoundCorners"),k=a(),l;switch(g){case 0:case 2:l=k.x-b.x;b=(Math.abs(e-.5)-.5)*d.w+h;d=(.5-Math.abs(e-.5))*d.w-h;l=l<b?b:l>d?d:l;lucid.plugin.getProperty(f,"RoundCorners");
break;case 1:case 3:l=k.y-b.y,b=(Math.abs(e-.5)-.5)*d.h+h,d=(.5-Math.abs(e-.5))*d.h-h,l=l<b?b:l>d?d:l}lucid.plugin.setPropertyIfChanged(f,"TailWidth",l)},path:function(){var a=lucid.plugin.getProperty(f,"BoundingBox"),b=lucid.plugin.getProperty(f,"Side");return[{x:a.x,y:a.y},{x:a.x+a.w,y:a.y},{x:a.x+a.w,y:a.y+a.h},{x:a.x,y:a.y+a.h},{x:a.x,y:a.y}].splice(b,2)}},{location:function(){var a;a=lucid.plugin.getProperty(f,"Side");var d=lucid.plugin.getProperty(f,"Position"),e=lucid.plugin.getProperty(f,
"BoundingBox"),g=lucid.plugin.getProperty(f,"TailRadius"),h=lucid.plugin.getProperty(f,"TailAngle"),k,l;switch(a){case 0:k=e.w*d;l=0-g;break;case 1:k=e.w+g;l=e.h*d;break;case 2:k=e.w*d;l=e.h+g;break;case 3:k=0-g,l=e.h*d}a=lucid.math.Point.rotate({x:e.x+k,y:e.y+l},b(f,a,d,e),Math.PI/180*h);return{x:a.x-5,y:a.y-5,w:10,h:10}},moved:function(b){var d=a();lucid.plugin.getProperty(f,"BoundingBox");var e=0;switch(lucid.plugin.getProperty(f,"Side")){case 0:e=-1*Math.atan2(d.x-b.x,d.y-b.y);break;case 1:e=
Math.atan2(b.y-d.y,b.x-d.x);break;case 2:e=-1*Math.atan2(b.x-d.x,b.y-d.y);break;case 3:e=Math.atan2(d.y-b.y,d.x-b.x)}e=180*e/Math.PI;90<e?e=90:-90>e?e=-90:-5<e&&5>e&&(e=0);b=lucid.math.Point.distance(b,d);lucid.plugin.setPropertyIfChanged(f,"MinLayerPadding",b);lucid.plugin.setPropertyIfChanged(f,"TailRadius",b);lucid.plugin.setPropertyIfChanged(f,"TailAngle",e)}},{location:function(){var a=lucid.plugin.getProperty(f,"BoundingBox"),b=lucid.plugin.getProperty(f,"Side"),e=lucid.plugin.getProperty(f,
"Position"),g=lucid.plugin.getProperty(f,"RoundCorners"),h=lucid.plugin.getProperty(f,"TailWidth");switch(b){case 0:case 2:g=Math.min(g,a.w/2,a.h/2,a.w*(.5-Math.abs(e-.5))-Math.abs(h));break;case 1:case 3:g=Math.min(g,a.w/2,a.h/2,a.h*(.5-Math.abs(e-.5))-Math.abs(h))}return{x:a.x+a.w-g-5,y:a.y-5,w:10,h:10}},moved:function(a){var b=lucid.plugin.getProperty(f,"BoundingBox");lucid.plugin.setProperty(f,"RoundCorners",b.x+b.w-a.x)},path:function(){var a=lucid.plugin.getProperty(f,"BoundingBox"),b=lucid.plugin.getProperty(f,
"Side"),e=lucid.plugin.getProperty(f,"Position"),g=lucid.plugin.getProperty(f,"TailWidth"),h;switch(b){case 0:case 2:h=Math.min(a.w*(.5-Math.abs(e-.5))-Math.abs(g),a.h/2);break;case 1:case 3:h=Math.min(a.h*(.5-Math.abs(e-.5))-Math.abs(g),a.w/2)}return[{x:a.x+a.w-h,y:a.y},{x:a.x+a.w,y:a.y}]}}]},getRenderData:function(f,a){function c(a,c,e,l,q){var u=b(f.id,f.Side,h,d);if(0>g){var v=e;e=q;q=v}l=lucid.math.Point.rotate(l,{x:u.x,y:u.y},Math.PI/180*k);e.Action="line";l.Action="line";q.Action="line";n.splice(a,
c,e,l,q)}var d=f.BoundingBox,e=f.TailRadius,g=f.TailWidth,h=f.Position,k=f.TailAngle,l=f.RoundCorners;"sample"==a?(l=3,e=6,g=3):"preview"==a&&(d.y+=4,d.h-=6,e=10,g=8);switch(f.Side){case 0:case 2:l=Math.min(l,d.w/2,d.h/2,d.w*(.5-Math.abs(h-.5)-Math.abs(g/d.w)));break;case 1:case 3:l=Math.min(l,d.w/2,d.h/2,d.h*(.5-Math.abs(h-.5)-Math.abs(g/d.h)))}var n=[{Action:"move",x:d.x,y:d.y+l},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x,d.y,2*l,2*l,Math.PI,3*Math.PI/2)},{Action:"line",x:d.x+
d.w-l,y:d.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*l,d.y,2*l,2*l,-Math.PI/2,0)},{Action:"line",x:d.x+d.w,y:d.y+d.h-l},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x+d.w-2*l,d.y+d.h-2*l,2*l,2*l,0,Math.PI/2)},{Action:"line",x:d.x+l,y:d.y+d.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(d.x,d.y+d.h-2*l,2*l,2*l,Math.PI/2,Math.PI)},{Action:"close"}];switch(f.Side){case 0:c(2,0,{x:d.x+d.w*h-g,y:d.y},{x:d.x+d.w*h,y:d.y-e},{x:d.x+d.w*h+g,y:d.y});
break;case 1:c(4,0,{x:d.x+d.w,y:d.y+d.h*h-g},{x:d.x+d.w+e,y:d.y+d.h*h},{x:d.x+d.w,y:d.y+d.h*h+g});break;case 2:c(6,0,{x:d.x+d.w*h+g,y:d.y+d.h},{x:d.x+d.w*h,y:d.y+d.h+e},{x:d.x+d.w*h-g,y:d.y+d.h});break;case 3:c(8,0,{x:d.x,y:d.y+d.h*h+g},{x:d.x-e,y:d.y+d.h*h},{x:d.x,y:d.y+d.h*h-g})}return[{NoRounding:!0,FillColor:f.FillColor,StrokeColor:f.LineColor,LineWidth:f.LineWidth,Actions:n}]}})})();lucid.plugin.initBlockClass({className:"UI3CalloutRoundBlock",name:"Callout",searchKeywords:["ui","interface",
"callout","badge","dot"],defaultSize:{w:44,h:44},defaultProperties:function(){return{FillColor:"#66b2ff"}},variants:{Tooltip:{tooltip:"Round Tooltip",searchKeywords:["ui","interface","callout","tooltip","speech"],defaultSize:{w:160,h:70},defaultProperties:function(){return{ArmAngle:-.528842478416981,ArmLength:31.63752578595915,ArmPosition:1.5707963267948966,ArmSweep:-.2438305580056035}}},SW:{tooltip:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultProperties:function(){return{FillColor:"#66b2ff",
ArmPosition:.75*Math.PI}}},NW:{tooltip:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultProperties:function(){return{FillColor:"#66b2ff",ArmPosition:1.25*Math.PI}}},NE:{tooltip:"Callout",searchKeywords:["ui","interface","callout","badge","dot"],defaultProperties:function(){return{FillColor:"#66b2ff",ArmPosition:1.75*Math.PI}}}},snapSpacing:4,onInit:function(b){lucid.plugin.registerProperty(b,"TextWrap","fit");lucid.plugin.registerProperty(b,"InsetMargin",5);lucid.plugin.registerProperty(b,
"ArmPosition",.25*Math.PI);lucid.plugin.registerProperty(b,"ArmAngle",0);lucid.plugin.registerProperty(b,"ArmSweep",Math.PI/4);lucid.plugin.registerProperty(b,"ArmLength",9.140091444993603);lucid.plugin.registerProperty(b,"MinLayerPadding",25);lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"",getBoundingBox:function(f){return X(f,function(a){return{x:a.x+.2*a.w,y:a.y+.2*a.h,w:.6*a.w,h:.6*a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(b,"InsetMargin"),hideOverflow:!0}})}})},
spatialControls:function(b){function f(a){return{x:a.x-7,y:a.y-7,w:14,h:14}}var a=lucid.plugin.getProperty(b,"BoundingBox"),c=lucid.math.Box.center(a);return[{location:function(){var d=lucid.plugin.getProperty(b,"ArmPosition")-lucid.plugin.getProperty(b,"ArmSweep");return f({x:c.x+Math.cos(d)*a.w/2,y:c.y+Math.sin(d)*a.h/2})},moved:function(d){d=lucid.plugin.getProperty(b,"ArmPosition")-Math.atan2((d.y-c.y)/a.h,(d.x-c.x)/a.w);var e=Math.abs(d%(Math.PI/4));if(lucid.math.nearlyEquals(e,0,.1)||lucid.math.nearlyEquals(e,
Math.PI/4,.1))d=Math.round(4*d/Math.PI)/(4/Math.PI);lucid.plugin.setPropertyIfChanged(b,"ArmSweep",d)},area:function(){return a}},{location:function(){var d=lucid.plugin.getProperty(b,"ArmLength"),e=lucid.plugin.getProperty(b,"ArmPosition"),e={x:c.x+Math.cos(e)*a.w/2,y:c.y+Math.sin(e)*a.h/2},g=lucid.plugin.getProperty(b,"ArmAngle")+lucid.plugin.getProperty(b,"ArmPosition"),d=lucid.math.Point.rotate({x:e.x+d,y:e.y},e,g);return f(d)},moved:function(d){var e=lucid.plugin.getProperty(b,"ArmPosition"),
f={x:c.x+Math.cos(e)*a.w/2,y:c.y+Math.sin(e)*a.h/2},h=lucid.math.Point.directionAngle(f,d),k=Math.abs(h%(Math.PI/4));if(lucid.math.nearlyEquals(k,0,.1)||lucid.math.nearlyEquals(k,Math.PI/4,.1))h=Math.round(4*h/Math.PI)/(4/Math.PI);d=lucid.math.Point.distance(f,d);lucid.plugin.setProperty(b,"ArmAngle",h-e);lucid.plugin.setProperty(b,"ArmLength",d);lucid.plugin.setProperty(b,"MinLayerPadding",d)}},{location:function(){var d=lucid.plugin.getProperty(b,"ArmPosition");return f({x:c.x+Math.cos(d)*a.w/2,
y:c.y+Math.sin(d)*a.h/2})},moved:function(d){d=Math.atan2((d.y-c.y)/a.h,(d.x-c.x)/a.w);var e=Math.abs(d%(Math.PI/4));if(lucid.math.nearlyEquals(e,0,.1)||lucid.math.nearlyEquals(e,Math.PI/4,.1))d=Math.round(4*d/Math.PI)/(4/Math.PI);lucid.plugin.setProperty(b,"ArmPosition",d)},area:function(){return a}}]},getRenderData:function(b,f){var a=b.BoundingBox;"sample"==f?b.ArmLength=5:"preview"==f&&(b.ArmLength=10);var c=b.ArmPosition-Math.abs(b.ArmSweep),d=b.ArmPosition+Math.abs(b.ArmSweep),e=lucid.math.Box.center(a),
g={x:e.x+Math.cos(b.ArmPosition)*a.w/2,y:e.y+Math.sin(b.ArmPosition)*a.h/2},g=lucid.math.Point.rotate({x:g.x+b.ArmLength,y:g.y},g,b.ArmAngle+b.ArmPosition);return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:e.x+Math.cos(c)*a.w/2,y:e.y+Math.sin(c)*a.h/2},{Action:"line",x:g.x,y:g.y},{Action:"line",x:e.x+Math.cos(d)*a.w/2,y:e.y+Math.sin(d)*a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,d,c+2*Math.PI)},
{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"UI3AlertBlock",name:"Alert",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","alert","window"],defaultSize:{w:360,h:200},onInit:function(b){function f(a){var c=lucid.text.getStyle(b,"Button_1");lucid.plugin.addBlockTextArea(b,{id:"Button_"+a,value:c?lucid.text.restyle("Button "+a,c):"Button "+a,getBoundingBox:function(a){return function(c){var f=lucid.plugin.getProperty(b,"Buttons"),h=lucid.plugin.getProperty(b,
"LineWidth"),k=2*h,l=80+2*k,k=c.w/2-(f*(l+k)-k)/2+(a-1)*(l+k)+(a-1)*k;return a>f?null:{x:c.x+k,y:c.y+.9*c.h-40-2*h,w:80,h:40}}}(a)})}lucid.plugin.addBlockTextArea(b,{id:"Txt",value:"Alert Message",getBoundingBox:function(a){return{x:a.x+.5*a.w-.3*a.w,y:a.y+40+10,w:.6*a.w,h:80}}});lucid.plugin.registerProperty(b,"Buttons",2,null,function(a,c){for(var d=lucid.plugin.getBlockTextAreas(b),e=1;e<=c;e++)d["Button_"+e]||f(e)});lucid.plugin.addBlockTextArea(b,{id:"Title",value:"Alert Title",getBoundingBox:function(a){return{x:a.x+
70,y:a.y,w:a.w-140,h:40}}})},getRenderData:function(b,f){var a=b.BoundingBox,c=40,d=b.LineWidth,e=b.Buttons;"sample"==f&&(d=1,c=a.h/4,e=0);for(var g=[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:u(a)},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+c},{Action:"line",x:a.x,y:a.y+c},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",
x:a.x+a.w-c+2*d,y:a.y+2*d},{Action:"line",x:a.x+a.w-2*d,y:a.y+2*d},{Action:"line",x:a.x+a.w-2*d,y:a.y+c-2*d},{Action:"line",x:a.x+a.w-c+2*d,y:a.y+c-2*d},{Action:"close"}]},{StrokeColor:b.LineColor,LineWidth:d,NoRounding:!0,Actions:[{Action:"move",x:a.x+a.w-.8*c+2*d,y:a.y+.2*c+2*d},{Action:"line",x:a.x+a.w-.2*c-2*d,y:a.y+.8*c-2*d},{Action:"move",x:a.x+a.w-.2*c-2*d,y:a.y+.2*c+2*d},{Action:"line",x:a.x+a.w-.8*c+2*d,y:a.y+.8*c-2*d}]}],h,k,l=2*d,n=80+2*l,m=e*(n+l)-l,t=0;t<e;t++)h=a.w/2-m/2+t*(n+2*l),k=
.9*a.h-(c+d),g.push({FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:d,Actions:[{Action:"move",x:a.x+h,y:a.y+k},{Action:"line",x:a.x+h+80+l,y:a.y+k},{Action:"line",x:a.x+h+80+l,y:a.y+k+c+d-2.5*d},{Action:"line",x:a.x+h,y:a.y+k+c+d-2.5*d},{Action:"close"}]});return g}});lucid.plugin.initBlockClass({className:"UI3GridBlock",name:"Grid",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","alert","window"],defaultSize:{w:960,h:960},noLines:!0,unthemed:!0,rLock:!0,preventCopy:!0,
nwSelectable:{getMoveHandleRenderData:function(b){return[{FillColor:"#fff",LineWidth:1,Rounding:3,StrokeColor:"#000",Actions:u(b)}].concat(xa(b,"#000","#000",0))},resizeHandleColor:"#000"},showResizeHandles:function(){return!1},defaultProperties:function(){return{FillColor:"#66b2ff66"}},onInit:function(b){fa[b]=!0;lucid.plugin.registerProperty(b,"GridColumns",12);lucid.plugin.registerProperty(b,"GridGutterSize",20);lucid.plugin.registerProperty(b,"HideGrid",!1);lucid.plugin.registerProperty(b,"GridWidth",
"960 px")},getGuides:function(b){var f=lucid.plugin.getProperty(b,"BoundingBox"),a=lucid.plugin.getProperty(b,"GridGutterSize");b=lucid.plugin.getProperty(b,"GridColumns");var c=f.x+a,f=(f.w-a*(b+1))/b,d,e=[];for(d=0;d<b;d++)e.push(Math.round(c)),c+=f,e.push(Math.round(c)),c+=a;return{x:e,y:[200]}},getOffsetProperties:function(b,f,a){f=lucid.plugin.defaultOffsetProperties(b,f,a);var c=f[b].BoundingBox;a=(lucid.plugin.getProperty(b,"GridGutterSize")+5)*(lucid.plugin.getProperty(b,"GridColumns")+1);
c.w<a&&(c.w=a);a=lucid.array.find(ja,function(a){return c.w==parseInt(a)});lucid.plugin.setProperty(b,"GridWidth",a||"Custom");return f},getRenderData:function(b,f){if(b.HideGrid&&(lucid.plugin.inReadOnlyMode()||"presentation"==ea))return[];var a=b.BoundingBox,c=b.GridColumns,d=b.GridGutterSize;"sample"==f&&(a.h=a.w,c=3,d=2);var e=[{FillColor:"#00000000",StrokeColor:b.FillColor,LineWidth:2,Actions:u(a)}],g=function(a,c,d){var f,g,t=a.x+c,r=(a.w-c*(d+1))/d;for(g=0;g<d;g++)f={x:t,y:a.y,w:r,h:a.h},e.push({FillColor:b.FillColor,
NoRounding:!0,LineWidth:0,Actions:u(f)}),t+=r+c};b.HideGrid||g(a,d,c);a={x:a.x-15,y:a.y-15,w:30,h:30};"sample"!=f&&(e.push({FillColor:"#fff",Rounding:3,LineWidth:1,StrokeColor:"#000",Actions:u(a)}),g(lucid.math.Box.pad(a,-3),2,3));return e}});lucid.plugin.onContextChanged(function(b){ea=b[0];for(var f in fa)lucid.plugin.refreshBlockView(f)});lucid.plugin.initBlockClass({className:"UI3PlaybackControlsBlock",name:"Playback Controls",defaultSize:{w:180,h:60},searchKeywords:"ui interface playback controls pause forward rewind".split(" "),
snapSpacing:4,getRenderData:function(b,f){var a=b.BoundingBox,c=b.FillColor,d=b.LineColor,e=b.LineWidth;"sample"==f&&(e=1);var g=[];v(g,F({x:a.x,y:a.y+.1*a.h,w:.8*a.w/3,h:.8*a.h},c,d,e,wa,{t:.2,r:.1,b:.2,l:0}));v(g,F({x:a.x+a.w/3,y:a.y,w:a.w/3,h:a.h},c,d,e,C,{t:.1,r:.05,b:.1,l:.25}));v(g,F({x:a.x+2.2*a.w/3,y:a.y+.1*a.h,w:.8*a.w/3,h:.8*a.h},c,d,e,va,{t:.2,r:0,b:.2,l:.1}));return g}});var ha=function(b){var f=lucid.plugin.getProperty(b,"Data");lucid.dialog.textAreaPrompt("Edit the menu.",f,function(a){lucid.plugin.setProperty(b,
"Data",a)},null,{"font-family":"courier, monospace"})};lucid.plugin.initBlockClass({className:"UI3ContextMenuBlock",name:"Context Menu",disabledPropertyControls:["FlipX","FlipY"],vLock:!0,searchKeywords:"ui interface context menu shortcut popup".split(" "),defaultSize:{w:320,h:300},snapSpacing:4,onInit:function(b){function f(a,c,d,e){lucid.plugin.addBlockTextArea(b,{id:c+a,value:d,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"Dividers");lucid.plugin.getProperty(b,"Icons");for(var f=
lucid.plugin.getProperty(b,"Lines"),l=0,n=1;n<a;n++)l=d[n]?l+16:l+32;c={x:c.x+4,y:c.y+4,w:c.w-8,h:c.h-8};return a>f?null:{x:c.x+("left"==e?24:.5*c.w)+4,y:c.y+l,w:("left"==e?c.w-24:.5*c.w)-8,h:32}},readOnly:!0,align:e})}lucid.plugin.registerProperty(b,"Lines",0);lucid.plugin.registerProperty(b,"Dividers",{});lucid.plugin.registerProperty(b,"Icons",{});lucid.plugin.registerProperty(b,"Data","New,CTRL+N\nTools,>\n--\no Option 1, CTRL+1\nOption 2, CTRL+2\nOption 3, CTRL+3\n=\nx Show Hints\n-Disabled-\nClose Window,CTRL+W",
null,function(a,c){for(var d=lucid.plugin.getProperty(b,"BoundingBox"),e=lucid.plugin.getBlockTextAreas(b),g={},h=0;h<e.length;h++)g[e[h]]=!0,lucid.plugin.setProperty(b,e[h],null);for(var e=c.split("\n"),k={},l={},n=8,h=0;h<e.length;h++){var m=e[h];if(-1==m.search(/[^-\s]/)||-1==m.search(/[^=\s]/))k[h+1]=!0,n+=16,g["Item_"+(h+1)]&&lucid.plugin.setProperty(b,"Item_"+(h+1),""),g["Shortcut_"+(h+1)]&&lucid.plugin.setProperty(b,"Shortcut_"+(h+1),"");else{switch(m.substr(0,2)){case "x ":l[h+1]="check";
m=m.substr(2);break;case "o ":l[h+1]="dot",m=m.substr(2)}var t=m.lastIndexOf(","),r=-1<t?m.substr(t+1):null,m=-1<t?m.substr(0,t):m;m.match(/^\s*-.*-\s*$/)&&(m='<span style="color:#999">'+m.substr(1,m.length-2)+"</span>");g["Item_"+(h+1)]?lucid.plugin.setProperty(b,"Item_"+(h+1),m):f(h+1,"Item_",m,"left");null!=r?(r=-1==r.search(/\S/)?">":r,r.match(/^\s*-.*-\s*$/)&&(r='<span style="color:#999">'+r.substr(1,r.length-2)+"</span>"),g["Shortcut_"+(h+1)]?lucid.plugin.setProperty(b,"Shortcut_"+(h+1),r):
f(h+1,"Shortcut_",r,"right")):g["Shortcut_"+(h+1)]&&lucid.plugin.setProperty(b,"Shortcut_"+(h+1),"");n+=32}}lucid.plugin.setProperty(b,"Lines",e.length);lucid.plugin.setProperty(b,"Dividers",k);lucid.plugin.setProperty(b,"Icons",l);lucid.plugin.setProperty(b,"BoundingBox",{x:d.x,y:d.y,w:d.w,h:lucid.plugin.snapToGrid(b,n,1,"ceil")})})},onDblClick:ha,getRenderData:function(b,f){var a=b.BoundingBox,c=b.Lines,d=b.Dividers,e=b.Icons,g=32,h=16,k=4,l=0,n=b.FillColor,m=b.LineColor,t=b.LineWidth,r=t;"sample"==
f&&(a={x:1.5*a.y,y:a.x,w:a.h-a.y,h:a.w},r=1,c=5,d={2:!0,4:!0},g=6,h=2,k=1);t=[{FillColor:n,StrokeColor:m,LineWidth:t,Actions:u(a)}];a.x+=k;a.y+=k;a.w-=2*k;a.h-=2*k;for(var p=1;p<=c;p++)if(d[p])t.push({FillColor:n,StrokeColor:lucid.color.darken(n,.5),LineWidth:1,Actions:[{Action:"move",x:a.x+k,y:a.y+l+.5*h},{Action:"line",x:a.x+a.w-k,y:a.y+l+.5*h}]}),l+=h;else{if(e[p]){var q={x:a.x+6,y:a.y+l+6+.5*k,w:12,h:12};switch(e[p]){case "check":v(t,O(q,m,m,r));break;case "dot":v(t,F(q,m,m,r))}}l+=g}return t}});
var ia=function(b){var f=lucid.plugin.getProperty(b,"Data");lucid.dialog.textAreaPrompt("Edit the pane.",f,function(a){lucid.plugin.setProperty(b,"Data",a)},null,{"font-family":"courier, monospace"})};lucid.plugin.initBlockClass({className:"UI3TreePaneBlock",name:"Tree Pane",vLock:!0,disabledPropertyControls:["FlipX","FlipY"],snapSpacing:4,searchKeywords:"ui interface tree navigation panel file".split(" "),defaultSize:{w:360,h:400},onInit:function(b){function f(a,c,d,e,f,h){lucid.plugin.addBlockTextArea(b,
{id:c+a,value:d,getBoundingBox:function(c){var d=lucid.plugin.getProperty(b,"lines",!0),e=lucid.plugin.getProperty(b,"tabs",!0),f=lucid.plugin.getProperty(b,"icons",!0),g=32*(a-1),e=e[a]?24*e[a]:0,e=e+(f[a]?24:0);return a>d?null:{x:c.x+4+e+4,y:c.y+4+g,w:c.w-8-e-8,h:32}},readOnly:!0,align:"left"})}lucid.plugin.registerProperty(b,"Data","f closed folder: f\nF open folder: F\n[+] plus: [+]\n[-] minus: [-]\n[x] check box: [x]\n[] empty box: []\n> right pointer: >\nv down pointer: v\n_> for indent use a space, period,\n_v or an underscore\n__- file: -\n__- another file",
null,function(a,c){var d;lucid.plugin.getProperty(b,"BoundingBox");var e=lucid.plugin.getBlockTextAreas(b);d={};for(var g=0;g<e.length;g++)d[e[g]]=!0,lucid.plugin.setProperty(b,e[g],null);for(var h=c.split("\n"),k={},l={},e=8,g=0;g<h.length;g++){var n=h[g],m=n.search(/[^_\.\s]/);0<m&&(k[g+1]=m,n=n.substr(m));m=n.substr(0,n.indexOf(" ")+1);switch(m){case "f ":l[g+1]="folder";break;case "F ":l[g+1]="ofolder";break;case "[+] ":l[g+1]="plus";break;case "[-] ":l[g+1]="minus";break;case "[x] ":l[g+1]="check";
break;case "[] ":case "[ ] ":l[g+1]="box";break;case "> ":l[g+1]="right";break;case "v ":l[g+1]="down";break;case "- ":l[g+1]="file";break;default:m=""}n=n.substr(m.length);d["Item_"+(g+1)]?lucid.plugin.setProperty(b,"Item_"+(g+1),n):f(g+1,"Item_",n);e+=32}lucid.plugin.setProperty(b,"lines",h.length,!0);lucid.plugin.setProperty(b,"tabs",k,!0);lucid.plugin.setProperty(b,"icons",l,!0);d=lucid.plugin.getProperty(b,"BoundingBox");d.x=d.x;d.y=d.y;d.w=d.w;d.h=lucid.plugin.snapToGrid(b,e,1,"ceil");lucid.plugin.setProperty(b,
"BoundingBox",d)})},onDblClick:ia,getRenderData:function(b,f){var a=b.BoundingBox,c=b.lines,d=b.tabs,e=b.icons,g=32,h=24,k=4,l=0,n=b.FillColor,m=b.LineColor,t=b.LineWidth,r=t;"sample"==f&&(a.x=1.5*a.y,a.w=a.h-a.y,r=1,c=3,g=6,h=7,k=1);t=[{FillColor:n,StrokeColor:m,LineWidth:t,Actions:u(a)}];a.x+=k;a.y+=k;a.w-=2*k;a.h-=2*k;for(var p=1;p<=c;p++){if(e[p]){var q={x:a.x+3+(d[p]?d[p]*h:0),y:a.y+l+3+k,w:h-6,h:h-6},w=null,y=null,x=null;switch(e[p]){case "folder":w=P;y=sa;x={t:.1,r:0,b:.1,l:.1};break;case "ofolder":w=
P;y=ta;x={t:.1,r:0,b:.1,l:0};break;case "plus":w=G;y=oa;x={t:.2,r:.2,b:.2,l:.2};break;case "minus":w=G;y=pa;x={t:.2,r:.2,b:.2,l:.2};break;case "check":w=G;y=O;x={t:.2,r:.2,b:.2,l:.2};break;case "box":w=G;break;case "right":w=P;y=C;x={t:0,r:.1,b:0,l:.2};break;case "down":w=P;y=ka;x={t:.2,r:0,b:.1,l:0};break;case "file":w=P,y=ua,x={t:0,r:.1,b:0,l:.1}}w&&(y&&x?v(t,w(q,n,m,r,y,x)):v(t,w(q,n,m,r)))}l+=g}return t}});var Z=!1;lucid.plugin.onDocumentLoaded(function(){Z=!0});var ga=function(b){var f=lucid.plugin.getProperty(b,
"Data"),a={color:{prop:"FillColor",args:["color"]},"alt-row":{prop:"AltRow",args:["default","none","color"]},header:{prop:"Header",args:["default","none","color"]},grid:{prop:"GridLines",args:["default","none","row","column","full"]}},c=function(c,d){if(d&&c&&(c=c.replace(/^\s+|\s+$/g,""),d=d.replace(/^\s+|\s+$/g,""),a[c])){var f=function(a,c){lucid.plugin.getProperty(b,a)!=c&&lucid.plugin.setProperty(b,a,c)},k;for(k in a[c].args)if("color"==a[c].args[k]){d.match(/^#([0-9a-fA-F]){3}$|#([0-9a-fA-F]){6}$|#([0-9a-fA-F]){8}$/)&&
f(a[c].prop,d);break}else d==a[c].args[k]&&f(a[c].prop,d)}},d=function(a){var b=null;if(b=a.match(/\{\{([^\}]+?)\}\}/))b=b[1].split(","),lucid.array.forEach(b,function(a,b){var d=a.split(":");c(d[0],d[1])});return a.replace(/\{\{([^\}]+?)\}\}/,"")};lucid.dialog.textAreaPrompt("<div>Edit the table.<br/><br/>Style Options:<br/><b>header:</b> default | none | #[hex color]<br/><b>alt-row:</b> default | none | #[hex color]<br/><b>grid:</b> default | none | row | column | full</div>",function(a){var c=
lucid.plugin.getProperty(b,"Header"),d=lucid.plugin.getProperty(b,"GridLines"),f=lucid.plugin.getProperty(b,"AltRow"),l=lucid.plugin.getProperty(b,"FillColor");a=a.replace(/^\s+|\s+$/g,"");a=a+"\n\n{{"+("\ncolor: "+("string"===typeof l?l:"gradient"))+(",\nheader: "+(c?c:"default"))+(",\nalt-row: "+(f?f:"default"));a+=",\ngrid: "+(d?d:"default");return a+="\n}}"}(f),function(a){var c=d(a);lucid.plugin.getProperty(b,"Data")!=c&&lucid.plugin.setProperty(b,"Data",d(a))},null,{"font-family":"courier, monospace"})},
T={};lucid.plugin.beforeUndoBatchCommitted(function(){for(var b in T)T[b]()});lucid.plugin.initBlockClass({className:"UI3TableBlock",name:"Table/Data Grid",disabledPropertyControls:["FlipX","FlipY"],searchKeywords:["ui","interface","table","grid","data"],defaultSize:{w:420,h:280},snapSpacing:4,onInit:function(b){function f(){a||(a=!0,T[b]=function(){a&&(U(b),a=!1);delete T[b]},setTimeout(function(){a&&(U(b,!0),a=!1)},1))}var a=!1;lucid.plugin.registerProperty(b,"Data","Name, Age, Full Time,Manager\nJames, 57, [x],(o)\nMaria, 27, [],()\nSaul, 25, [x],()\n{3L, 1, 0,0}");
lucid.plugin.hookPropertyPostSave(b,null,function(a,b,e){"BoundingBox"==e?a.w==b.w&&a.h==b.h||f():f()});U(b)},onDblClick:ga,getRenderData:function(b,f){var a=24,c=6,d=a+2*c,e=b.BoundingBox;if(!b.LayoutData)return[{FillColor:"#ffffff",Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,y:e.y+e.h},{Action:"close"}]}];var g=b.FillColor,h=b.LineColor,k=b.LineWidth,l=b.Header||"default",n=b.AltRow||"default",m=b.GridLines||"default",
t=3,r=e.w-b.LayoutData.totalFixedWidth,p=0,q=0,w=k,x="C",B=b.TextVAlign,A="none"!==n,C="none"!==l,z="default"===l?lucid.color.darken(g,.2):l,D="default"===n?lucid.color.darken(g,.06):n,H="row"===m||"full"===m,l="default"===m||"column"===m||"full"===m;"sample"==f&&(w=1,d=6,a=7,c=t=1,b.LayoutData.fixedHeights=[d],b.LayoutData.fixedWidths=[.5*e.w,.5*e.w],b.LayoutData.fixedXs=[0,.5*e.w],b.LayoutData.dynamicXs=[0,0]);var E=[{FillColor:g,Actions:u(e)}];switch(b.TextAlign){case "left":x="L";break;case "center":x=
"C";break;case "right":x="R"}lucid.array.forEach(b.LayoutData.fixedHeights,function(a,c){q=c;var d=g;0==c&&C?d=z:A&&(d=D);a&&0==c%2&&p<e.h&&E.push({FillColor:d,StrokeColor:H?h:null,LineWidth:H?w:null,NoRounding:!0,Actions:[{Action:"move",x:e.x,y:e.y+b.LayoutData.fixedYs[c]},{Action:"line",x:e.x+e.w,y:e.y+b.LayoutData.fixedYs[c]},{Action:"line",x:e.x+e.w,y:e.y+Math.min(e.h,b.LayoutData.fixedYs[c]+a)},{Action:"line",x:e.x,y:e.y+Math.min(e.h,b.LayoutData.fixedYs[c]+a)},{Action:"close"}]});p+=a});for(d=
b.LayoutData.fixedHeights[b.LayoutData.fixedHeights.length-1]||d;p<e.h;)q++,0==q%2&&E.push({FillColor:A?D:null,StrokeColor:H?h:null,LineWidth:H?w:null,NoRounding:!0,Actions:[{Action:"move",x:e.x,y:e.y+p},{Action:"line",x:e.x+e.w,y:e.y+p},{Action:"line",x:e.x+e.w,y:e.y+Math.min(e.h,p+d)},{Action:"line",x:e.x,y:e.y+Math.min(e.h,p+d)},{Action:"close"}]}),p+=d;l&&lucid.array.forEach(b.LayoutData.fixedWidths,function(a,c){if(a&&0<c){var d=e.x+b.LayoutData.fixedXs[c]+b.LayoutData.dynamicXs[c]*r;E.push({StrokeColor:h,
LineWidth:w,NoRounding:!0,Actions:[{Action:"move",x:d,y:e.y},{Action:"line",x:d,y:e.y+e.h}]})}});var I=[];lucid.array.forEach(b.LayoutData.icons||[],function(d,f){d&&lucid.array.forEach(d,function(d,l){if(d&&b.LayoutData.fixedYs[f]+a+2*c<e.h){if(!I[l]){var k=e.x+b.LayoutData.fixedXs[l]+b.LayoutData.dynamicXs[l]*r+c,m=k+(b.LayoutData.dynamicWidths[l]?b.LayoutData.dynamicWidths[l]*r:b.LayoutData.fixedWidths[l])-2*c,n=b.LayoutData.columnAlignment[l]||x;I[l]={x:"C"==n?.5*(k+m-(a-2*t)):"R"==n?m-(a+t):
k+t,y:0,w:a-2*t,h:a-2*t}}k=b.LayoutData.fixedHeights[f];switch(B){case "top":I[l].y=e.y+b.LayoutData.fixedYs[f]+c+t;break;case "bottom":I[l].y=e.y+b.LayoutData.fixedYs[f]+k+t-(a+c);break;default:I[l].y=e.y+b.LayoutData.fixedYs[f]+.5*(k-(a-2*t))}n=m=k=null;switch(d){case "[x]":k=G;m=O;n={t:.2,r:.2,b:.2,l:.2};break;case "[ ]":case "[]":k=G;break;case "(o)":k=F;m=qa;n={t:.2,r:.2,b:.2,l:.2};break;case "()":case "( )":k=F}k&&(m&&n?v(E,k(I[l],g,h,w,m,n)):v(E,k(I[l],g,h,w)))}})});E.push({StrokeColor:h,LineWidth:k,
Actions:u(e)});return E}});Y("UI Menus","Formatting Tool Bar",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar.png",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar_tn.png",341,20,function(b,f,a,c,d,e){a.x=e.x;a.y=e.y+(e.h-d)/2;a.w=c;a.h=d;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,y:e.y+e.h},
{Action:"close"}]},{Image:f,BoundingBox:a}]});Y("UI Widgets","Text Editor",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar2.png",lucid.config.assets_base_url+"/app/webroot/img/lucidui/formatting_toolbar2_tn.png",400,300,function(b,f,a,c,d,e){a.x=e.x;a.y=e.y+5;a.w=341;a.h=20;return[{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"line",x:e.x,
y:e.y+e.h},{Action:"close"}]},{Image:f,BoundingBox:a},{FillColor:b.FillColor,StrokeColor:b.LineColor,LineWidth:b.LineWidth,Actions:[{Action:"move",x:e.x,y:e.y+30},{Action:"line",x:e.x+e.w,y:e.y+30}]}]});lucid.plugin.createToolGroups({"UI Containers":"UI3BrowserBlock UI3WindowBlock UI3DialogBlock UI3AreaBlock UI3ElementBlock UI3AccordionBlock UI3TabBarContainerBlock UI3TabBar2ContainerBlock UI3VTabBarContainerBlock UI3VScrollBlock UI3HScrollBlock UI3VerticalSplitterBlock UI3HorizontalSplitterBlock UI3GridBlock".split(" "),
"UI Widgets":"UI3ImageBlock UI3VideoBlock UI3AudioBlock UI3MapBlock UI3CalendarBlock UI3BarChartBlock UI3ColumnChartBlock UI3LineChartBlock UI3PieChartBlock UI3WebcamBlock UI3CaptchaBlock UI3Image_ui_formatting_toolbar2".split(" "),"UI Input":"UI3ButtonBlock UI3CheckBoxBlock UI3HorizontalCheckBoxBlock UI3RadioBlock UI3HorizontalRadioBlock UI3ColorPickerBlock UI3TextInputBlock UI3SelectBlock UI3VSliderBlock UI3HSliderBlock UI3DatePickerBlock UI3SearchBlock UI3NumericStepperBlock UI3TableBlock".split(" "),
"UI Menus":"UI3ButtonBarBlock UI3VerticalButtonBarBlock UI3LinkBarBlock UI3BreadCrumbsBlock UI3MenuBarBlock UI3AtoZBlock UI3PaginationBlock UI3ContextMenuBlock UI3TreePaneBlock UI3PlaybackControlsBlock UI3Image_ui_formatting_toolbar".split(" "),"UI Callouts":[{className:"UI3CalloutRoundBlock",name:"Round Callout"},{className:"UI3CalloutRoundBlock",name:"sw",variant:"SW"},{className:"UI3CalloutRoundBlock",name:"ne",variant:"NE"},{className:"UI3CalloutRoundBlock",name:"nw",variant:"NW"},"UI3CalloutBlock",
"UI3CalloutSquareBlock",{className:"UI3CalloutRoundBlock",name:"Round Tooltip",variant:"Tooltip"}],"UI Misc":["UI3ProgressBarBlock","UI3HelpIconBlock",{className:"UI3BraceNoteBlock",name:"Curly Brace Note - Left"},{className:"UI3BraceNoteBlock",variant:"Right",name:"Curly Brace Note - Right"},"UI3MenuBarBlock"]})})();
//# sourceMappingURL=/js/plugins/v2/source-maps/ui3.js.map
};
