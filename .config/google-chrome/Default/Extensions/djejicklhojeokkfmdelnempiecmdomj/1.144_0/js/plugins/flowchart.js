pluginFn['/js/plugins/v2/flowchart.js'] = function(lucid, window) {
	(function(){function k(){return lucid.plugin.getProperty(null,"Version")||0}function z(d,c,a){return 1<k()?a(d):c(d)}function A(d){lucid.plugin.registerStepperControl(d?"AdvancedSwimLaneBlockRotated":"AdvancedSwimLaneBlock","LaneCount",function(){return 1},function(){return 1},function(){return 50});lucid.plugin.registerStringSelectControl(d?"AdvancedSwimLaneBlockRotated":"AdvancedSwimLaneBlock","Orientation",plugin.common.Swimlane.getOrientationOptions);lucid.plugin.registerStringSelectControl(d?
"AdvancedSwimLaneBlockRotated":"AdvancedSwimLaneBlock","TextOrientation",plugin.common.Swimlane.getOrientationOptions);return{className:d?"AdvancedSwimLaneBlockRotated":"AdvancedSwimLaneBlock",name:"Swim Lane",defaultSize:{w:320,h:820},container:!0,disabledPropertyControls:["FlipX","FlipY"],isTextRotateDisabled:!0,rLock:!0,showResizeHandles:function(){return!1},searchKeywords:["flowchart","container","swimlane","lane"],beforeCreate:function(c,a){return plugin.common.Swimlane.beforeCreate.bind(this)(c,
a,["AdvancedSwimLaneBlockRotated","AdvancedSwimLaneBlock"])},getLinkPoints:plugin.common.Swimlane.getLinkPoints,spatialControls:function(c){return plugin.common.Swimlane.spatialControls.bind(this)(c,!1)},onInit:function(c){lucid.plugin.registerProperty(c,"Vertical",d?0:1);lucid.plugin.setProperty(c,"Rotation",d?-Math.PI/2:0);var a=40,b=null,g=function(d){var h=lucid.plugin.getProperty(c,"VerticalText"),g=lucid.plugin.getProperty(c,"Vertical"),m=lucid.plugin.getProperty(c,"BoundingBox"),e=lucid.plugin.getProperty(c,
"titleHeight",!0),l=m?m.h/3:a+10;a=40;for(var q=0;q<d.length;q++){var n=lucid.text.getSize(c,"Lane_"+d[q].tid,{x:0,y:0,w:g==h?l:m.w*d[q].p,h:1E4});a=g==h?Math.min(l,Math.round(Math.max(a,n.w+15))):Math.min(l,Math.round(Math.max(a,n.h+15)));lucid.plugin.updateBlockTextArea(c,"Lane_"+d[q].tid,{rotation:h!=!g?Math.PI/2:0})}b=lucid.text.getStyle(c,"Lane_"+d[d.length-1].tid);a!=e&&(lucid.plugin.setProperty(c,"titleHeight",a,!0),lucid.plugin.refreshBlockView(c))},e=function(d){lucid.plugin.addBlockTextArea(c,
{id:"Lane_"+d,value:lucid.text.restyle("Swim Lane",b),getBoundingBox:function(b){return function(d){var m=lucid.plugin.getProperty(c,"Lanes");g(m);var e;for(e=0;e<m.length&&m[e].tid!==b;e++);if(e>=m.length)return null;var l=lucid.plugin.getProperty(c,"Vertical"),f=0;if(l)for(var n=0;n<e;n++)f+=d.w*m[n].p;else for(n=m.length-1;n>e;n--)f+=d.w*m[n].p;d={x:d.x+f,y:d.y,w:d.w*m[e].p,h:a};m=lucid.plugin.getProperty(c,"VerticalText");l==m&&(d=lucid.math.Box.rotate(d,Math.PI/2));return d}}(d)})};lucid.plugin.registerProperty(c,
"Lanes",[{p:1,tid:0}],null,function(a,b){if(a!=b){var d=lucid.plugin.getBlockTextAreas(c),m=d.indexOf("MainText");0<=m&&d.splice(m,1);for(var u=["MainText"],l=0;l<b.length;l++){var q="Lane_"+b[l].tid,m=d.indexOf(q);0>m?e(b[l].tid):d.splice(m,1);u.push(q)}for(l=0;l<d.length;l++)lucid.plugin.deleteBlockTextArea(c,d[l]);lucid.plugin.setBlockTextAreasOrder(c,u);g(b)}});lucid.plugin.registerProperty(c,"VerticalText",d?1:0,null,function(a,b){if(a!=b){for(var d=lucid.plugin.getProperty(c,"Lanes"),e=lucid.plugin.getProperty(c,
"Vertical"),u=0;u<d.length;u++)lucid.plugin.updateBlockTextArea(c,"Lane_"+d[u].tid,{rotation:e&&!b||!e&&b?0:Math.PI/2});g(d)}});lucid.plugin.registerProxyProperty(c,"LaneCount",plugin.common.Swimlane.getLaneCountOfSwimLaneBlock.bind(null,c),plugin.common.Swimlane.setLaneCountOfSwimLaneBlock.bind(null,c,!1));lucid.plugin.registerProxyProperty(c,"Orientation",plugin.common.Swimlane.getOrientationOfSwimLaneBlock.bind(null,c),plugin.common.Swimlane.setOrientationOfSwimLaneBlock.bind(null,c,!0));lucid.plugin.registerProxyProperty(c,
"TextOrientation",function(){return lucid.plugin.getProperty(c,"VerticalText")?plugin.common.Swimlane.ORIENTATIONS.VERTICAL:plugin.common.Swimlane.ORIENTATIONS.HORIZONTAL},function(a){var b=lucid.plugin.getProperty(c,"VerticalText");a=a==plugin.common.Swimlane.ORIENTATIONS.VERTICAL?1:0;b!=a&&lucid.plugin.setProperty(c,"VerticalText",a)});lucid.plugin.hookPropertyPostSave(c,"Lanes",function(){lucid.plugin.proxyPropertyChanged(c,"LaneCount")});lucid.plugin.hookPropertyPostSave(c,"Vertical",function(){lucid.plugin.proxyPropertyChanged(c,
"Orientation");lucid.plugin.proxyPropertyChanged(c,"TextOrientation")});lucid.plugin.hookPropertyPostSave(c,"VerticalText",function(){lucid.plugin.proxyPropertyChanged(c,"TextOrientation")})},getRenderData:function(c,a){var b=c.Lanes,d=c.Vertical||!1,e=c.BoundingBox,f=c.titleHeight||40;"sample"==a&&(f=e.h/5);var h=[{FillColor:c.FillColor,Actions:[{Action:"move",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+f},{Action:"line",x:e.x,y:e.y+f},{Action:"close"}]},{FillColor:c.FillColor,
NoRounding:!0,Actions:[{Action:"move",x:e.x,y:e.y+f/2},{Action:"line",x:e.x+e.w,y:e.y+f/2},{Action:"line",x:e.x+e.w,y:e.y+f},{Action:"line",x:e.x,y:e.y+f},{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:e.x,y:e.y+e.h},{Action:"line",x:e.x,y:e.y},{Action:"line",x:e.x+e.w,y:e.y},{Action:"line",x:e.x+e.w,y:e.y+e.h},{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:e.x,y:e.y+f},{Action:"line",x:e.x+e.w,y:e.y+f}]}],f=
function(a){h[3].Actions.push({Action:"move",x:a.x,y:a.y});h[3].Actions.push({Action:"line",x:a.x,y:a.y+a.h})},p=e.w;if(d)for(d=0;d<b.length;d++)e.w=p*b[d].p,0<d&&f(e),e.x+=p*b[d].p;else for(d=b.length-1;0<=d;d--)e.w=p*b[d].p,d<b.length-1&&f(e),e.x+=p*b[d].p;return h}}}var r={global:this,provide:function(d){d=d.split(".");r.global[d[0]]=r.global[d[0]]||{};var c=r.global[d[0]];d.slice(1).reduce(function(a,b){a[b]||(a[b]={});return a[b]},c)},require:function(){},inherits:function(d,c){function a(){}
a.prototype=c.prototype;d.superClass_=c.prototype;d.prototype=new a;d.prototype.constructor=d;d.base=function(a,d,e){var f=Array.prototype.slice.call(arguments,2);return c.prototype[d].apply(a,f)}},base:function(d,c,a){var b=arguments.callee.caller;if(r.STRICT_MODE_COMPATIBLE||r.DEBUG&&!b)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(b.superClass_)return b.superClass_.constructor.apply(d,
Array.prototype.slice.call(arguments,1));for(var g=Array.prototype.slice.call(arguments,2),e=!1,f=d.constructor;f;f=f.superClass_&&f.superClass_.constructor)if(f.prototype[c]===b)e=!0;else if(e)return f.prototype[c].apply(d,g);if(d[c]===b)return d.constructor.prototype[c].apply(d,g);throw Error("goog.base called from a method of one name to a method of a different name");}};r.provide("plugin.common.Swimlane");plugin.common.Swimlane.ORIENTATIONS={VERTICAL:"vertical",HORIZONTAL:"horizontal"};plugin.common.Swimlane.getOrientationOptions=
function(){return lucid.object.getValues(plugin.common.Swimlane.ORIENTATIONS)};plugin.common.Swimlane.updateLanes=function(d,c,a,b,g){var e=lucid.plugin.getProperty(c,"Lanes"),f=lucid.plugin.getProperty(c,"BoundingBox"),h=lucid.plugin.getProperty(c,"Rotation")||0,p=[];if(e&&f){if("add"===d){void 0===a&&(a=e.length-1);var m=b?a:a+1;g=f.w*e[a].p;a=f.w+g;var u=[],l=0;for(d=0;d<e.length;d++)d>=m&&(l+=e[d].p),b={p:f.w*e[d].p/a,tid:e[d].tid},p.push(b),u.push(b.tid);for(;lucid.array.contains(u,d);)d++;p.splice(m,
0,{p:g/a,tid:parseInt(d,10)});e=lucid.plugin.getProperty(c,"Vertical");b=f.x+(1-l)*f.w;if(!e)var q=lucid.math.Box.rotate(f,lucid.plugin.getProperty(c,"Rotation")).y+(1-l)*f.w;l=lucid.plugin.getContained(c);for(d=0;d<l.length;d++)if(m=lucid.plugin.getProperty(l[d],"BoundingBox"))e?m.x+.01>=b&&(m.x+=g):m.y+.01>=q&&(m.y+=g),lucid.plugin.setProperty(l[d],"BoundingBox",m)}else{q=e.pop();a=f.w*(1-q.p);for(d=0;d<e.length;d++)b={p:f.w*e[d].p/a,tid:e[d].tid},p.push(b);g&&lucid.plugin.setProperty(c,"Lane_"+
q.tid,"Lane")}50>=p.length&&0<p.length&&(lucid.plugin.setProperty(c,"Lanes",p),0!==h&&(f.x+=(f.w-a)/2,f.y-=(f.w-a)/2),f.w=a,lucid.plugin.setProperty(c,"BoundingBox",f))}};plugin.common.Swimlane.setOrientation=function(d,c,a){var b=function(a,b){var c=lucid.plugin.getProperty(d,"Rotation")||0,e=lucid.math.Box.rotate(b,c),c=lucid.plugin.getContained(d),g={x:e.x+e.w/2,y:e.y+e.h/2};lucid.array.forEach(c,function(b){var c=lucid.plugin.getProperty(b,"BoundingBox"),d=lucid.math.Point.rotate({x:c.x,y:c.y},
g,"v"===a?Math.PI/2:-Math.PI/2),c={x:"v"===a?d.x-2*(d.x-(e.x+e.w/2)):d.x,y:"h"===a?d.y-2*(d.y-(e.y+e.h/2)):d.y,w:c.w,h:c.h,data:c.data};c.x-=(e.w-e.h)/2;c.y-=(e.h-e.w)/2;lucid.plugin.setProperty(b,"BoundingBox",c);c=lucid.plugin.getIncomingLines(b);b=lucid.plugin.getOutgoingLines(b);for(d=0;d<c.length;d++){var h=lucid.plugin.getProperty(c[d],"Endpoint2"),p=h.LinkX;h.LinkX=h.LinkY;h.LinkY=p;lucid.plugin.setProperty(c[d],"Endpoint2",h)}for(d=0;d<b.length;d++)h=lucid.plugin.getProperty(b[d],"Endpoint1"),
p=h.LinkX,h.LinkX=h.LinkY,h.LinkY=p,lucid.plugin.setProperty(b[d],"Endpoint1",h)})},g=lucid.plugin.getProperty(d,"VerticalText"),e=lucid.plugin.getProperty(d,"BoundingBox");null!=c&&(b(a?"v":"h",e),(!c&&a||c&&!a)&&lucid.plugin.setProperty(d,"VerticalText",g?0:1));lucid.plugin.setProperty(d,"Rotation",a?0:-Math.PI/2);e.x+=a?(e.w-e.h)/2:-(e.w-e.h)/2;e.y+=a?(e.h-e.w)/2:-(e.h-e.w)/2;lucid.plugin.setProperty(d,"BoundingBox",e)};plugin.common.Swimlane.beforeCreate=function(d,c,a){d=lucid.plugin.getChildren(d,
function(b){return(b=lucid.plugin.getBlockClassName(b))&&0<=a.indexOf(b)});var b=c.BoundingBox;c=c.Rotation||0;for(var g in d){var e=d[g],f=lucid.plugin.getProperty(e,"BoundingBox"),h=lucid.plugin.getProperty(e,"Rotation")||0;if(!(0===h&&0!==c||0!==h&&0===c)){var p=lucid.math.Box.rotate(b,c),m=lucid.math.Box.rotate(f,h);if(lucid.math.Box.overlap(p,m)){var p=lucid.plugin.getProperty(e,"Lanes"),m=f.w*p[p.length-1].p,u=f.w+m,l=[],q=[],n;for(n=0;n<p.length;n++){var x={p:f.w*p[n].p/u,tid:p[n].tid};l.push(x);
q.push(x.tid)}for(;lucid.array.contains(q,n);)n++;l.push({p:m/u,tid:parseInt(n)});if(50>=l.length&&0<l.length)return lucid.plugin.setProperty(e,"Lanes",l),0!==h&&(f.x+=(f.w-u)/2,f.y-=(f.w-u)/2),f.w=u,lucid.plugin.setProperty(e,"BoundingBox",f),!1}}}return!0};plugin.common.Swimlane.getLinkPoints=function(d){var c=lucid.plugin.getProperty(d,"Lanes"),a=0,b=[];if(lucid.plugin.getProperty(d,"Vertical"))for(d=0;d<c.length;d++){var g=a+c[d].p/2;b.push({x:g,y:0});a+=c[d].p}else for(d=c.length-1;0<=d;d--)g=
a+c[d].p/2,b.push({x:g,y:0}),a+=c[d].p;return b};plugin.common.Swimlane.spatialControls=function(d,c){function a(){var a=lucid.plugin.getProperty(d,"Lanes"),b=lucid.plugin.getProperty(d,"Vertical");return a?b?a:a.reverse():null}function b(a,b){var c=lucid.plugin.getProperty(d,"Vertical");b.h&&(c||(a.x-=(a.h-b.h)/2,a.y+=(a.h-b.h)/2),a.h=b.h);b.w&&(c||(a.x+=(a.w-b.w)/2,a.y-=(a.w-b.w)/2),a.w=b.w);lucid.plugin.setProperty(d,"BoundingBox",a)}function g(a){var b=0;lucid.plugin.getProperty(d,"Vertical")||
a--;for(var c=0;c<=a;c++)b+=f[c].p;return b}function e(c){return{logAction:"chart.viewport.selection.spatialControls.flowchart.swimlaneWidth",location:function(){f=a();var b=lucid.plugin.getProperty(d,"BoundingBox"),e=lucid.plugin.getProperty(d,"mainTitleHeight",!0);return{x:b.x+b.w*g(c)-10,y:b.y+(!!e&&e),w:20,h:b.h-(!!e&&e)}},moved:function(e){f=a();var h=lucid.plugin.getProperty(d,"BoundingBox"),p=lucid.plugin.getProperty(d,"Vertical"),n=g(c),x=h.x+n*h.w;e=p?e.x-x:x-e.x;if(!p)var k=lucid.math.Box.rotate(h,
lucid.plugin.getProperty(d,"Rotation")).y+(1-n)*h.w;for(var n=h.w+e,t=0;t<f.length;t++)f[t].p=t===c?(f[t].p*h.w+e)/n:f[t].p*h.w/n;for(var v=lucid.plugin.getContained(d),t=0;t<v.length;t++){var w=lucid.plugin.getProperty(v[t],"BoundingBox");w&&(p?w.x+.01>=x&&(w.x+=e):w.y+.01>=k&&(w.y+=e),lucid.plugin.setProperty(v[t],"BoundingBox",w))}b(h,{w:n});h=f;p=lucid.plugin.getProperty(d,"Vertical");lucid.plugin.setProperty(d,"Lanes",p?h:h.reverse())},path:function(){f=a();var b=lucid.plugin.getProperty(d,"BoundingBox"),
e=lucid.plugin.getProperty(d,"Vertical");return[{x:e?b.x+b.w*g(c-1)+20:b.x+b.w*g(c+1)-20,y:b.y+b.h/2},{x:e?1E8:-1E8,y:b.y+b.h/2}]},cursor:function(){return lucid.plugin.getProperty(d,"Rotation")?"s-resize":"e-resize"},snap:!0,snapToGuides:!0,color:"none"}}var f=a(),h=[];if(f){for(var p=0;p<f.length;p++)h.push(e(p));h.push({logAction:"chart.viewport.selection.spatialControls."+c?"uml":"flowchart.swimlaneHeight",location:function(){var a=lucid.plugin.getProperty(d,"BoundingBox");return{x:a.x,y:a.y+
a.h-10,w:a.w,h:20}},moved:function(a){var c=lucid.plugin.getProperty(d,"BoundingBox");b(c,{h:c.h-(c.y+c.h-a.y)})},path:function(){f=a();var b=lucid.plugin.getProperty(d,"BoundingBox");return[{x:b.x+b.w/2,y:b.y+20+lucid.plugin.getProperty(d,"titleHeight",!0)||40},{x:b.x+b.w/2,y:1E8}]},cursor:function(){return lucid.plugin.getProperty(d,"Vertical")?"s-resize":"e-resize"},snap:!0,snapToGuides:!0,color:"none"})}return h};plugin.common.Swimlane.getLaneCountOfSwimLaneBlock=function(d){return lucid.plugin.getProperty(d,
"Lanes").length};plugin.common.Swimlane.setLaneCountOfSwimLaneBlock=function(d,c,a){for(var b=lucid.plugin.getProperty(d,"Lanes").length,g=Math.abs(a-b),e=0;e<g;e++)plugin.common.Swimlane.updateLanes(b<a?"add":"remove",d,void 0,void 0,c)};plugin.common.Swimlane.getOrientationOfSwimLaneBlock=function(d){return lucid.plugin.getProperty(d,"Vertical")?plugin.common.Swimlane.ORIENTATIONS.VERTICAL:plugin.common.Swimlane.ORIENTATIONS.HORIZONTAL};plugin.common.Swimlane.setOrientationOfSwimLaneBlock=function(d,
c,a){var b=lucid.plugin.getProperty(d,"Vertical");a=a==plugin.common.Swimlane.ORIENTATIONS.VERTICAL?1:0;b!=a&&(lucid.plugin.setProperty(d,"Vertical",a),c&&plugin.common.Swimlane.setOrientation(d,b,a))};r.provide("plugin.common.DocVersionedProps");plugin.common.DocVersionedProps.getValueForDocVersion=function(d,c){var a=lucid.plugin.getProperty(null,"Version")||0,b=lucid.array.findRight(d,function(b){return b.docVersionInstated<=a});return b&&b.value||c};r.provide("plugin.common.TextAreaOverflowUtils");
plugin.common.TextAreaOverflowUtils.getOnOverflowCallback=function(d,c,a){return function(b,g,e,f,h){if("number"!==typeof f||"number"!==typeof h||(f+6)%3!=(h+6)%3)f=lucid.plugin.getProperty(null,"Version")||0,h=Math.abs(lucid.text.getTextAreaRotation(b,g)),g!=(a||"Text")||0!==e||5>f||0!==h||plugin.common.TextAreaOverflowUtils.resizeToFitText(b,g,e,d,c)}};plugin.common.TextAreaOverflowUtils.resizeToFitText=function(d,c,a,b,g){var e=lucid.plugin.getProperty(d,"BoundingBox"),f=b(e,d);b=lucid.text.getTextAreaVAlignment(d,
c);b="middle"==b?{x:.5,y:.5}:"bottom"==b?{x:.5,y:1}:{x:.5,y:0};c=lucid.text.getTextAreaSpaceSize(d,c,a);c=lucid.math.Box.resizeAboutRelativePoint(f,b,c);g=g(c,d);c=g.h>e.h;a=lucid.block.getDefaultSize(d).h;g=lucid.math.Box.resizeAboutRelativePoint(e,b,{w:e.w,h:c?Math.max(g.h,e.h):Math.max(g.h,Math.min(e.h,a))});lucid.plugin.setProperty(d,"BoundingBox",g)};r.provide("plugin.flowchart");r.require("plugin.common.DocVersionedProps");r.require("plugin.common.TextAreaOverflowUtils");r.require("plugin.common.Swimlane");
lucid.plugin.onDocumentLoaded(function(){function d(a,b,c){function d(a,c){for(var e=b.value?b.value(c[0]):lucid.plugin.getProperty(c[0],a),g=1;g<c.length;g++)if(e!=(b.value?b.value(c[g]):lucid.plugin.getProperty(c[g],a)))return null;return e}function e(a,d){d||(b.change?lucid.array.forEach(b.ids,function(c){b.change(a,d,c)}):(lucid.array.forEach(b.ids,function(c){lucid.plugin.setPropertyIfChanged(c,b.prop,a)}),c()))}function l(a,b){a=parseInt(a||0,10);e(a,b)}b.pairs=b.pairs||[];g&&!b.nospace&&a.spacer();
g=!0;if("spinner"==b.type)a.addGrid({width:6,content:{text:b.name+":",classes:"crop ralign"}}),a.openGrid({width:3,suffix:3}),a.addInput({type:"spinner",min:1,max:100,step:1,value:d(b.prop,b.ids),defaultVal:" ",onChange:e}),a.close();else if("select"==b.type){a.addGrid({width:6,content:{text:b.name+":",classes:"crop ralign"}});var q=[];lucid.object.forEach(b.options,function(a,b){q.push({label:a,value:b})});a.openGrid({width:6});a.addInput({type:"select",options:q,onChange:l}).setValue(d(b.prop,b.ids));
a.close()}}function c(f){var h=function(){c(f);e&&e.refresh&&e.refresh()};f=lucid.array.filter(f,function(a){return a.isBlock});if(!lucid.array.every(f,function(a){return-1<a.className.search("Swim")}))return!1;var p=!1,m=lucid.template.builder();g=!1;var u={poolCount:{ids:[],name:lucid.i18n("option.lanes"),type:"spinner",prop:"Lanes",value:function(a){return lucid.plugin.getProperty(a,"Lanes").length},change:function(a,b,c){b=lucid.plugin.getProperty(c,"Lanes").length;if(b<a)for(;b<a;b++)plugin.common.Swimlane.updateLanes("add",
c);else if(b>a)for(;b>a;b--)plugin.common.Swimlane.updateLanes("remove",c)}},poolFlow:{ids:[],name:lucid.i18n("option.orientation"),type:"select",prop:"Vertical",options:{0:"Horizontal",1:"Vertical"},change:function(a,b,c){""!==a&&(b=lucid.plugin.getProperty(c,"Vertical"),a=parseInt(a,10),a!=b&&(lucid.plugin.setProperty(c,"Vertical",a),plugin.common.Swimlane.setOrientation(c,b,a)))}},poolTextFlow:{ids:[],name:"Label",type:"select",prop:"VerticalText",options:{0:"Horizontal",1:"Vertical"}}};lucid.array.forEach(f,
function(a){lucid.object.forEach(u,function(b){null!=lucid.plugin.getProperty(a.id,b.prop)&&(b.condition?b.condition(a.id):1)&&b.ids.push(a.id)})});lucid.object.forEach(u,function(a){0<a.ids.length&&(d(m,a,h),p=!0)});a.getElement(b).setContent(m);return p}var a=lucid.template.builder(),b=a.add({classes:"ios_inputs"}),g=!1,e=lucid.plugin.addCustomPanel("Context Panel",null,[{content:a}],null,{isContextPanel:!0,checkShow:c,refreshProperties:["Vertical","VerticalText","Lanes"]})});(function(){var d=
function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"ProcessBlock",name:i18n.get("plugin-flowchart-process"),searchKeywords:i18n.get("plugin-flowchart-process-keywords"),allowResizeByTextArea:!0,defaultSize:{w:160,h:120},defaultText:i18n.get("plugin-flowchart-process"),onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:i18n.get("plugin-flowchart-process"),getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,
value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,
"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}})})();(function(){var d=
function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"DecisionBlock",name:"Decision",searchKeywords:["flowchart","decision","diamond"],defaultSize:{w:160,h:120},defaultText:"Decision",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Decision",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.5*
a.w,h:.5*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,
b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox,d=b.x+b.w/2,e=b.y+b.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:d,y:b.y},{Action:"line",x:b.x+b.w,y:e},{Action:"line",x:d,y:b.y+b.h},{Action:"line",x:b.x,y:e},{Action:"close"}]}]},lineDrawnProperties:function(c,a){var b="Option";1==a&&
(b="Yes");2==a&&(b="No");return{TextAreas:{Text:{Value:b,Side:0,Location:.5}}}},lineDrawn:function(c,a,b,d){d&&lucid.plugin.editLineTextArea(a,"Text")}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"TerminatorBlock",name:"Terminator",searchKeywords:["flowchart","terminator","oval","pill"],defaultSize:{w:160,h:80},defaultText:"Terminator",onInit:function(c){lucid.plugin.addBlockTextArea(c,
{id:"Text",value:"Terminator",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.8*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){lucid.plugin.getProperty(c,"InsetMargin");return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,
"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c){var a=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",
x:a.x+.8*a.w,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+.6*a.w,a.y,.4*a.w,a.h,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+.2*a.w,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,.4*a.w,a.h,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"Side"),b={x:c.x+c.w*(b+.025),y:c.y,w:c.w*(1-2*(b+.025)),h:c.h},d=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(b,
-d,{w:10,h:10})};lucid.plugin.initBlockClass({className:"PredefinedProcessBlock",name:"Predefined Process",searchKeywords:["flowchart","predefined","process"],defaultSize:{w:160,h:120},defaultText:"Predefined Process",onInit:function(c){lucid.plugin.registerProperty(c,"Side",.1);lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Predefined Process",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){var b=lucid.plugin.getProperty(c,"Side");
return{x:a.x+a.w*(b+.025),y:a.y,w:a.w*(1-2*(b+.025)),h:a.h}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])})},spatialControls:function(c){return[{logAction:"chart.viewport.selection.spatialControls.flowchart.predefinedProcessSideWidth",location:function(){var a=lucid.plugin.getProperty(c,"BoundingBox"),b=lucid.plugin.getProperty(c,"Side");return{x:a.x+a.w*b-5,y:a.y+a.h-5,w:10,h:10}},moved:function(a){var b=lucid.plugin.getProperty(c,"BoundingBox");lucid.plugin.setProperty(c,"Side",(a.x-
b.x)/b.w)},path:function(){var a=lucid.plugin.getProperty(c,"BoundingBox");return[{x:a.x+5,y:a.y},{x:a.x+a.w/3,y:a.y}]},snap:2}]},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;c=lucid.math.Box.safePad(c,b,{w:10,h:10});var b=lucid.plugin.getProperty(a,"Side"),d=c.w/(1-2*(b+.025));return{x:c.x-d*(b+.025),y:c.y,w:d,h:c.h}}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},
getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth","Side"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+b.w*c.Side,y:b.y},{Action:"line",x:b.x+b.w*c.Side,y:b.y+b.h},{Action:"move",
x:b.x+b.w*(1-c.Side),y:b.y},{Action:"line",x:b.x+b.w*(1-c.Side),y:b.y+b.h}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,d=lucid.math.Box.getRelativeBox(c,0,0,1,5/6);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:"DocumentBlock",name:"Document",searchKeywords:["flowchart","document","page"],defaultSize:{w:160,h:120},defaultText:"Document",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Document",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,
value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:.9*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,
"InsetMargin")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,0,1,5/6)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:.915},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"curve",
Control:[{x1:b.x+b.w-b.w/6,y1:b.y+b.h-b.h/6,x2:b.x+b.w-(b.w/3-b.w/16),y2:b.y+b.h-b.h/6,x3:b.x+b.w-b.w/3,y3:b.y+b.h-b.h/6},{x1:b.x+b.w-(b.w/3+b.w/10),y1:b.y+b.h-b.h/6,x2:b.x+b.w-(2*b.w/3-b.w/10),y2:b.y+b.h,x3:b.x+b.w-2*b.w/3,y3:b.y+b.h},{x1:b.x+b.w-(2*b.w/3+b.w/16),y1:b.y+b.h,x2:b.x+b.w-(b.w-b.w/6),y2:b.y+b.h-(b.h/6-b.h/6),x3:b.x+b.w-b.w,y3:b.y+b.h-b.h/6}]},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,d=lucid.math.Box.getRelativeBox(c,
.1,.15,.9,5/6*.85);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:"MultiDocumentBlock",name:"Multiple Documents",searchKeywords:["flowchart","documents","pages","multi","multiple"],defaultSize:{w:160,h:120},defaultText:"Multiple Documents",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Multiple Documents",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w+20,y:a.y+.1*
a.h,w:.9*a.w-40,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,b=lucid.math.Box.safePad(c,
b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,.1,.15,.9,5/6*.85)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:.96},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox,d=function(a,b,d,g){return{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:a,y:b},{Action:"line",x:a+d,y:b},{Action:"line",x:a+d,y:b+g},{Action:"curve",Control:[{x1:a+d-d/6,y1:b+
g-g/6,x2:a+d-(d/3-d/16),y2:b+g-g/6,x3:a+d-d/3,y3:b+g-g/6},{x1:a+d-(d/3+d/10),y1:b+g-g/6,x2:a+d-(2*d/3-d/10),y2:b+g,x3:a+d-2*d/3,y3:b+g},{x1:a+d-(2*d/3+d/16),y1:b+g,x2:a+d-(d-d/6),y2:b+g-(g/6-g/6),x3:a+d-d,y3:b+g-g/6}]},{Action:"close"}]}};return[d(b.x,b.y,.9*b.w,.85*b.h),d(b.x+.05*b.w,b.y+.075*b.h,.9*b.w,.85*b.h),d(b.x+.1*b.w,b.y+.15*b.h,.9*b.w,.85*b.h)]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,d=lucid.math.Box.getRelativeBox(c,0,1/6,1,5/6);return d=
lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:"ManualInputBlock",name:"Manual Input",searchKeywords:["flowchart","manual","input","trapezoid"],defaultSize:{w:160,h:120},defaultText:"Manual Input",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Manual Input",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y+.2*a.h,w:a.w-40,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,
y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,1/6,1,
5/6)}),getLinkPoints:function(){return[{x:.5,y:.1},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y+b.h/6},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,
"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"PreparationBlock",name:"Preparation",searchKeywords:["flowchart","preparation","hexagon"],defaultSize:{w:160,h:120},defaultText:"Preparation",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Preparation",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+a.w/6,y:a.y+a.h/6,w:2*a.w/3,h:2*a.h/3}}},{docVersionInstated:2,
value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,
y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox,d=b.x+1*b.w/5,e=b.x+4*b.w/5,f=b.y+b.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:d,y:b.y},{Action:"line",x:e,y:b.y},{Action:"line",x:b.x+b.w,y:f},{Action:"line",x:e,y:b.y+b.h},{Action:"line",x:d,y:b.y+b.h},{Action:"line",x:b.x,y:f},{Action:"close"}]}]}})})();(function(){var d=function(a,
b){var c=lucid.plugin.getProperty(b,"InsetMargin")||0;return lucid.math.Box.safePad(a,-c)},c=Math.atan(32/120);lucid.plugin.initBlockClass({className:"DataBlockNew",name:"Data (I/O)",searchKeywords:"flowchart data input output i/o rhombus parallelogram".split(" "),defaultSize:{w:160,h:120},defaultText:"Data",getLinkPoints:function(a){a=lucid.plugin.getProperty(a,"BoundingBox");a=a.h/a.w*Math.tan(c)/2;return[{x:.5,y:0},{x:.5,y:1},{x:a,y:.5},{x:1-a,y:.5}]},onInit:function(a){lucid.plugin.addBlockTextArea(a,
{id:"Text",value:"Data",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}}},{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(a,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return d(b,a)}}])});1<k()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,
function(a,b){var c=lucid.plugin.getProperty(b,"InsetMargin")||0;return lucid.math.Box.safePad(a,c)}),getRenderDataKey:function(a){return["FillColor","LineColor","LineWidth"]},getRenderData:function(a,b){var d=a.BoundingBox,e=d.h*Math.tan(c);return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",x:d.x+e,y:d.y},{Action:"line",x:d.x+d.w,y:d.y},{Action:"line",x:d.x+d.w-e,y:d.y+d.h},{Action:"line",x:d.x,y:d.y+d.h},{Action:"close"}]}]},getOffsetProperties:function(a,
b,d){lucid.plugin.getProperty(a,"BoundingBox");b=lucid.plugin.defaultOffsetProperties(a,b,d)[a].BoundingBox;var e=b.h*Math.tan(c)+10;b.w<e&&(e-=b.w,b.w+=e,0<d.x&&(b.x-=e));d={};d[a]={BoundingBox:b};return d}})})();lucid.plugin.initBlockClass({className:"DataBlock",name:"Data (I/O)",searchKeywords:"flowchart data input output i/o rhombus parallelogram".split(" "),defaultSize:{w:160,h:120},defaultText:"Data",onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Data",getBoundingBox:function(c){return z(c,
function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,"InsetMargin")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,"TextWrap","fit"),lucid.plugin.registerProperty(d,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:.1,y:.5},{x:.9,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,
StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+a.w/5,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w-a.w/5,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,d=lucid.math.Box.getRelativeBox(c,0,.2,1,.8);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:"DatabaseBlock",name:"Database",searchKeywords:["flowchart","database","cylinder",
"tube"],defaultSize:{w:120,h:120},defaultText:"Database",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Database",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+10,y:a.y+.2*a.h,w:a.w-20,h:.7*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y+.2*a.h+(lucid.plugin.getProperty(c,"InsetMargin")||0),w:a.w,h:.8*a.h-(lucid.plugin.getProperty(c,"InsetMargin")||0),fitShape:lucid.plugin.getProperty(c,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,.2,1,.8)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,
y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+b.w,y:b.y+.9*b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y+.8*b.h,b.w,.2*b.h,0,Math.PI)},{Action:"line",x:b.x,y:b.y+.1*b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,.2*b.h,Math.PI,2*Math.PI)},
{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+b.w,y:b.y+.1*b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,.2*b.h,0,Math.PI)}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,d=lucid.math.Box.getRelativeBox(c,0,0,.8,1);return d=lucid.math.Box.safePad(d,-b)};lucid.plugin.initBlockClass({className:"DirectAccessStorageBlock",name:"Direct Access Storage (Hard Disk)",searchKeywords:"flowchart direct access storage hard disk cylinder tube".split(" "),
defaultSize:{w:160,h:120},defaultText:"Hard Disk",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Hard Disk",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.6*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:.8*a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,
"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,0,0,.8,1)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=
c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+.9*b.w,y:b.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x+.8*b.w,b.y,.2*b.w,b.h,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,.2*b.w,b.h,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+.9*b.w,y:b.y+b.h},{Action:"curve",
Control:lucid.math.ellipseArcControlPoints(b.x+.8*b.w,b.y,.2*b.w,b.h,.5*Math.PI,1.5*Math.PI)}]}]}})})();(function(){var d=function(c,a){var b={x:c.x+.1*c.w,y:c.y+.1*c.w,w:.9*c.w,h:c.h-.1*c.w},d=lucid.plugin.getProperty(a,"InsetMargin")||0;return b=lucid.math.Box.safePad(b,-d,{w:10,h:10})};lucid.plugin.initBlockClass({className:"InternalStorageBlock",name:"Internal Storage",searchKeywords:["flowchart","internal","storage"],defaultSize:{w:160,h:120},defaultText:"Internal Storage",onInit:function(c){lucid.plugin.addBlockTextArea(c,
{id:"Text",value:"Internal Storage",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w+20,y:a.y+.1*a.w,w:.9*a.w-40,h:a.h-.1*a.w}}},{docVersionInstated:2,value:function(a){return{x:a.x+a.w/10,y:a.y+a.w/10,w:a.w-a.w/10,h:a.h-a.w/10,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,
"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;c=lucid.math.Box.safePad(c,b,{w:10,h:10});b=c.w/.9;return{x:c.x-.1*b,y:c.y-.1*b,w:b,h:c.h+.1*b}}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,
LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+b.w/10,y:b.y},{Action:"line",x:b.x+b.w/10,y:b.y+b.h},{Action:"move",x:b.x,y:b.y+b.w/10},{Action:"line",x:b.x+b.w,y:b.y+b.w/10}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,
-b)};lucid.plugin.initBlockClass({className:"PaperTapeBlock",name:"Paper Tape",searchKeywords:["flowchart","paper","tape","wave"],defaultSize:{w:160,h:120},defaultText:"Paper Tape",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Paper Tape",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:.085},{x:.5,y:.915},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor",
"LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,NoRounding:!0,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"curve",Control:[{x1:b.x+b.w/6,y1:b.y+b.h/6,x2:b.x+b.w/3-b.w/16,y2:b.y+b.h/6,x3:b.x+b.w/3,y3:b.y+b.h/6},{x1:b.x+b.w/3+b.w/10,y1:b.y+b.h/6,x2:b.x+2*b.w/3-b.w/10,y2:b.y,x3:b.x+2*b.w/3,y3:b.y},{x1:b.x+2*b.w/3+b.w/16,y1:b.y,x2:b.x+b.w-b.w/6,y2:b.y+b.h/6-b.h/6,x3:b.x+b.w,y3:b.y+b.h/6}]},{Action:"line",
x:b.x+b.w,y:b.y+b.h},{Action:"curve",Control:[{x1:b.x+b.w-b.w/6,y1:b.y+b.h-b.h/6,x2:b.x+b.w-(b.w/3-b.w/16),y2:b.y+b.h-b.h/6,x3:b.x+b.w-b.w/3,y3:b.y+b.h-b.h/6},{x1:b.x+b.w-(b.w/3+b.w/10),y1:b.y+b.h-b.h/6,x2:b.x+b.w-(2*b.w/3-b.w/10),y2:b.y+b.h,x3:b.x+b.w-2*b.w/3,y3:b.y+b.h},{x1:b.x+b.w-(2*b.w/3+b.w/16),y1:b.y+b.h,x2:b.x+b.w-(b.w-b.w/6),y2:b.y+b.h-(b.h/6-b.h/6),x3:b.x+b.w-b.w,y3:b.y+b.h-b.h/6}]},{Action:"close"}]}]}})})();(function(){var d=Math.atan(32/120),c=function(a,b){var c=lucid.plugin.getProperty(b,
"InsetMargin")||0;return lucid.math.Box.safePad(a,-c)};lucid.plugin.initBlockClass({className:"ManualOperationBlockNew",name:"Manual Operation",searchKeywords:["flowchart","manual","operation","trapezoid"],defaultSize:{w:160,h:120},defaultText:"Manual Operation",onInit:function(a){lucid.plugin.addBlockTextArea(a,{id:"Text",value:"Manual Operation",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}}},
{docVersionInstated:2,value:function(b){return{x:b.x,y:b.y,w:b.w,h:b.h,fitShape:lucid.plugin.getProperty(a,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(b){return c(b,a)}}])});1<k()&&(lucid.plugin.registerProperty(a,"TextWrap","fit"),lucid.plugin.registerProperty(a,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(c,function(a,b){var c=lucid.plugin.getProperty(b,"InsetMargin")||0;return lucid.math.Box.safePad(a,c)}),getLinkPoints:function(a){a=
lucid.plugin.getProperty(a,"BoundingBox");a=a.h/a.w*Math.tan(d)/2;return[{x:.5,y:0},{x:.5,y:1},{x:a,y:.5},{x:1-a,y:.5}]},getRenderDataKey:function(a){return["FillColor","LineColor","LineWidth"]},getRenderData:function(a,b){var c=a.BoundingBox,e=c.h*Math.tan(d);return[{FillColor:a.FillColor,StrokeColor:a.LineColor,LineWidth:a.LineWidth,Actions:[{Action:"move",x:c.x,y:c.y},{Action:"line",x:c.x+c.w,y:c.y},{Action:"line",x:c.x+c.w-e,y:c.y+c.h},{Action:"line",x:c.x+e,y:c.y+c.h},{Action:"close"}]}]},getOffsetProperties:function(a,
b,c){lucid.plugin.getProperty(a,"BoundingBox");b=lucid.plugin.defaultOffsetProperties(a,b,c)[a].BoundingBox;var e=b.h*Math.tan(d);b.w<2*e&&(e=2*e-b.w,b.w+=e,0<c.x&&(b.x-=e));c={};c[a]={BoundingBox:b};return c}})})();lucid.plugin.initBlockClass({className:"ManualOperationBlock",name:"Manual Operation",searchKeywords:["flowchart","manual","operation","trapezoid"],defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Manual Operation",getBoundingBox:function(c){return z(c,
function(a){return{x:a.x+.25*a.w,y:a.y,w:.5*a.w,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,"InsetMargin")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,"TextWrap","fit"),lucid.plugin.registerProperty(d,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:.1,y:.5},{x:.9,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,
StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+.8*a.w,y:a.y+a.h},{Action:"line",x:a.x+.2*a.w,y:a.y+a.h},{Action:"close"}]}]}});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"DelayBlock",name:"Delay",searchKeywords:["flowchart","delay","semicircle"],defaultSize:{w:120,h:120},defaultText:"Delay",onInit:function(c){lucid.plugin.addBlockTextArea(c,
{id:"Text",value:"Delay",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+10,y:a.y,w:a.w-.5*(a.h>2*a.w?a.w:.5*a.h),h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",
5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox,d=b.h>2*b.w?b.w:.5*b.h;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",
x:b.x,y:b.y},{Action:"line",x:b.x+b.w-d,y:b.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x+b.w-2*d,b.y,2*d,b.h,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"StoredDataBlock",name:"Stored Data",searchKeywords:["flowchart","stored","data"],defaultSize:{w:160,h:120},defaultText:"Stored Data",
onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Stored Data",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.1*a.w,y:a.y,w:.7*a.w,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,
"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:.9,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",
x:b.x+b.w,y:b.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x+.9*b.w,b.y,.2*b.w,b.h,1.5*Math.PI,.5*Math.PI)},{Action:"line",x:b.x+.1*b.w,y:b.y+b.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,.2*b.w,b.h,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"MergeBlock",name:"Merge",searchKeywords:["flowchart",
"merge","triangle"],defaultSize:{w:160,h:120},defaultText:"Merge",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Merge",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.2*a.w,y:a.y,w:.6*a.w,h:.6*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});
1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:.25,y:.5},{x:.75,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,
StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w/2,y:b.y+b.h},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"ConnectorBlock",name:"Connector",searchKeywords:["flowchart","connector","circle"],defaultSize:{w:80,h:80},defaultText:"A",onInit:function(c){lucid.plugin.addBlockTextArea(c,
{id:"Text",value:"A",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,
function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+b.w,y:b.y+b.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x,b.y,b.w,b.h,0,
2*Math.PI)},{Action:"close"}]}]}})})();lucid.plugin.initBlockClass({className:"OrBlock",name:"Or",searchKeywords:["flowchart","or","reticle","crosshairs"],defaultSize:{w:80,h:80},onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+
a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h/2},{Action:"line",x:a.x+a.w,y:a.y+a.h/2},{Action:"move",x:a.x+a.w/2,y:a.y},{Action:"line",x:a.x+a.w/2,y:a.y+a.h}]}]}});lucid.plugin.initBlockClass({className:"SummingJunctionBlock",name:"Summing Junction",searchKeywords:["flowchart","summing","junction","reticle","crosshairs"],
defaultSize:{w:80,h:80},onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]},{FillColor:null,StrokeColor:d.LineColor,
LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+.1464*a.w,y:a.y+.1464*a.h},{Action:"line",x:a.x+.8536*a.w,y:a.y+.8536*a.h},{Action:"move",x:a.x+.8536*a.w,y:a.y+.1464*a.h},{Action:"line",x:a.x+.1464*a.w,y:a.y+.8536*a.h}]}]}});(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"DisplayBlock",name:"Display",searchKeywords:["flowchart","display","tag"],defaultSize:{w:160,h:120},defaultText:"Display",
onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Display",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+.25*a.w,y:a.y+.25*a.h,w:.6*a.w,h:.5*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),
lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=c.BoundingBox,d=b.x+1*b.w/5,e=b.y+b.h/2;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,
LineWidth:c.LineWidth,Actions:[{Action:"move",x:d,y:b.y},{Action:"line",x:b.x+.9*b.w,y:b.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(b.x+.8*b.w,b.y,.2*b.w,b.h,3*Math.PI/2,5*Math.PI/2)},{Action:"line",x:d,y:b.y+b.h},{Action:"line",x:b.x,y:e},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,-b)};lucid.plugin.initBlockClass({className:"OffPageLinkBlock",name:"Off-Page Link",searchKeywords:["flowchart",
"offpage","off","page","link"],defaultSize:{w:120,h:120},defaultText:"Off-Page Link",onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Off-Page Link",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+10,y:a.y,w:a.w-20,h:.8*a.h}}},{docVersionInstated:2,value:function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,
c)}}])});1<k()&&(lucid.plugin.registerProperty(c,"TextWrap","fit"),lucid.plugin.registerProperty(c,"InsetMargin",5))},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0;return lucid.math.Box.safePad(c,b)}),getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},onCreate:function(c){lucid.plugin.selectBlockLink(c)},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},
getRenderData:function(c,a){var b=c.BoundingBox;return[{FillColor:c.FillColor,StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+.6*b.h},{Action:"line",x:b.x+b.w/2,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+.6*b.h},{Action:"close"}]}]}})})();(function(){var d=function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,d=lucid.math.Box.getRelativeBox(c,.0625,0,.9375,1);return d=lucid.math.Box.safePad(d,-b)};
lucid.plugin.initBlockClass({className:"NoteBlock",name:"Note",searchKeywords:["flowchart","note"],defaultSize:{w:160,h:120},onInit:function(c){lucid.plugin.addBlockTextArea(c,{id:"Text",value:"Note",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(a){return{x:a.x+10,y:a.y,w:a.w-10,h:a.h,fitShape:lucid.plugin.getProperty(c,"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(a){return d(a,c)}}]),wantReturn:!0,align:"left"});
lucid.plugin.registerProperty(c,"TextWrap","fit");lucid.plugin.registerProperty(c,"InsetMargin",5)},onTextAreaOverflowChange:plugin.common.TextAreaOverflowUtils.getOnOverflowCallback(d,function(c,a){var b=lucid.plugin.getProperty(a,"InsetMargin")||0,b=lucid.math.Box.safePad(c,b);return blockBB=lucid.math.Box.getInverseRelativeBox(b,.0625,0,.9375,1)}),getLinkPoints:function(){return[{x:0,y:.5}]},getRenderDataKey:function(c){return["FillColor","LineColor","LineWidth"]},getRenderData:function(c,a){var b=
c.BoundingBox;return[{FillColor:c.FillColor,Actions:[{Action:"move",x:b.x,y:b.y},{Action:"line",x:b.x+b.w,y:b.y},{Action:"line",x:b.x+b.w,y:b.y+b.h},{Action:"line",x:b.x,y:b.y+b.h},{Action:"close"}]},{StrokeColor:c.LineColor,LineWidth:c.LineWidth,Actions:[{Action:"move",x:b.x+b.w/10,y:b.y},{Action:"line",x:b.x,y:b.y},{Action:"line",x:b.x,y:b.y+b.h},{Action:"line",x:b.x+b.w/10,y:b.y+b.h}]}]}})})();lucid.plugin.initBlockClass({className:"TextBlock",name:"Text",searchKeywords:[],defaultSize:{w:160,h:120},
onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Text",getBoundingBox:function(c){return{x:c.x+20,y:c.y,w:c.w-40,h:c.h}},wantReturn:!0})},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},
{Action:"close"}]}]}});var B="ProcessBlock DecisionBlock TerminatorBlock PredefinedProcessBlock DocumentBlock MultiDocumentBlock ManualInputBlock PreparationBlock DataBlockNew DatabaseBlock DirectAccessStorageBlock InternalStorageBlock PaperTapeBlock ManualOperationBlockNew DelayBlock StoredDataBlock MergeBlock ConnectorBlock OrBlock SummingJunctionBlock DisplayBlock OffPageLinkBlock".split(" ");lucid.plugin.createNextBlockGroup(B);lucid.plugin.createExchangeGroup(B);lucid.plugin.initBlockClass({className:"SwimLaneBlock",
name:"Swim Lane",defaultSize:{w:320,h:320},container:!0,onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Swim Lane",getBoundingBox:function(c){return{x:c.x+20,y:c.y,w:c.w-40,h:40}}})},getLinkPoints:function(){return[{x:.5,y:0}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox,b=40;40>a.h&&(b=a.h/3);return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},
{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+b},{Action:"line",x:a.x,y:a.y+b},{Action:"close"}]},{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+a.h},{Action:"line",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h}]}]}});lucid.plugin.initBlockClass(A());lucid.plugin.initBlockClass(A(!0));lucid.plugin.addContextMenuItems(function(){var d=function(a,b,c){if(!a||1!=a.length)return!1;void 0===c&&(c=1);var d=lucid.plugin.getBlockClassName(a[0]),
e=lucid.plugin.getProperty(a[0],"Lanes");return d&&-1<d.toLowerCase().indexOf("swimlaneblock")&&e&&e.length>=c&&(b?!lucid.plugin.getProperty(a[0],"Vertical"):!!lucid.plugin.getProperty(a[0],"Vertical"))},c=function(a,b){var c=b.Lanes,d=b.BoundingBox,e=b.Rotation,f=d.w,g=d.x;if(e)for(a=lucid.math.Point.rotate(a,lucid.math.Box.center(d),-e),e=c.length-1;0<=e;e--){d=f*c[e].p;if(a.x>g&&a.x<g+d)break;g+=d}else for(e=0;e<c.length;e++){d=f*c[e].p;if(a.x>g&&a.x<g+d)break;g+=d}return e},a=function(a,b,c){for(var d=
b.BoundingBox,e={x:d.x,y:d.y,w:d.w*b.Lanes[a].p,h:d.h},f=0;f<a;f++)e.x+=d.w*b.Lanes[f].p;c&&(e.w=d.w-(e.x-d.x));return e},b=function(b,c,d,e){var f=d.Lanes,g=d.BoundingBox,n=[],k=lucid.math.Box.rotate(g,d.Rotation||0),r={x:k.x+k.w/2,y:k.y+k.h/2};if(b>f.length)return n;var t=a(b,d,e);d.Vertical||(t.x+=2*(g.x+g.w/2-(t.x+t.w/2)));lucid.array.forEach(c,function(a){var b=lucid.plugin.getProperty(a,"BoundingBox");if(b){var c=lucid.plugin.getProperty(a,"Rotation")||0,b=lucid.math.Box.rotate(b,c);d.Vertical||
(b=lucid.math.Box.rotate(b,Math.PI/2,r));lucid.math.Box.within(b,t)&&n.push(a)}});return n},g=function(a,b,c,d){for(a=0;a<c.length;a++){var e=lucid.plugin.getProperty(c[a],"BoundingBox");e&&(d.Vertical?e.x+=b:e.y+=b,lucid.plugin.setProperty(c[a],"BoundingBox",e))}},e=function(c,d,e,f){var l=f.Lanes;if(d>e){var k=d;d=e;e=k}var n=lucid.plugin.getContained(c),k=b(d,n,f),n=b(e,n,f),r=a(d,f),y=a(e,f);g(c,y.w,k,f);g(c,-r.w,n,f);d<l.length&&e<l.length&&(k=l[d],l[d]=l[e],l[e]=k);lucid.plugin.setProperty(c,
"Lanes",l)},f=function(a,b,d){if(1==b.length&&b[0]){var f=lucid.plugin.getAllProperties(b[0]),g=f.Lanes.length-1;f.Vertical?(a=c(a,f),"r"===d&&a<g?e(b[0],a,a+1,f):"l"===d&&0<a&&e(b[0],a,a-1,f)):(a=c(a,f),"u"===d&&0<a?e(b[0],a,a-1,f):"d"===d&&a<g&&e(b[0],a,a+1,f))}};return[{external:!0,label:"Insert Lane Before",logAction:"chart.viewport.context.swimlane.insertLaneBefore",action:function(a,b){if(1==b.length&&b[0]){var d=lucid.plugin.getAllProperties(b[0]);50>d.Lanes.length&&(d=c(a,d),plugin.common.Swimlane.updateLanes("add",
b[0],d,!0,!1))}},visible:function(a){return(d(a,!1,1)||d(a,!0,1))&&50>lucid.plugin.getProperty(a[0],"Lanes").length}},{external:!0,label:"Insert Lane After",logAction:"chart.viewport.context.swimlane.insertLaneAfter",action:function(a,b){if(1==b.length&&b[0]){var d=lucid.plugin.getAllProperties(b[0]);50>d.Lanes.length&&(d=c(a,d),plugin.common.Swimlane.updateLanes("add",b[0],d,!1,!1))}},visible:function(a){return(d(a,!1,1)||d(a,!0,1))&&50>lucid.plugin.getProperty(a[0],"Lanes").length}},{external:!0,
label:"Move Lane To Left",logAction:"chart.viewport.context.swimlane.moveLaneLeft",action:function(a,b){f(a,b,"l")},visible:function(a){return d(a,!1,2)}},{external:!0,label:"Move Lane To Right",logAction:"chart.viewport.context.swimlane.moveLaneRight",action:function(a,b){f(a,b,"r")},visible:function(a){return d(a,!1,2)}},{external:!0,label:"Move Lane Up",logAction:"chart.viewport.context.swimlane.moveLaneUp",action:function(a,b){f(a,b,"u")},visible:function(a){return d(a,!0,2)}},{external:!0,label:"Move Lane Down",
logAction:"chart.viewport.context.swimlane.moveLaneDown",action:function(a,b){f(a,b,"d")},visible:function(a){return d(a,!0,2)}},{external:!0,label:"Remove Lane",logAction:"chart.viewport.context.swimlane.removeLane",action:function(d,e){if(1==e.length&&e[0]){var f=lucid.plugin.getAllProperties(e[0]);if(1<f.Lanes.length){for(var k=c(d,f),l=f.Lanes,q=a(k,f),n=[],r=f.BoundingBox.w*(1-l[k].p),y=lucid.plugin.getContained(e[0]),t=b(k,y,f),v=0;v<t.length;v++)lucid.plugin.deleteItem(t[v]);k+1<l.length&&
(y=b(k+1,y,f,!0),g(e[0],-q.w,y,f));for(v=0;v<l.length;v++)v!=k&&(l[v].p=f.BoundingBox.w*l[v].p/r,n.push(l[v]));lucid.plugin.setProperty(e[0],"Lanes",n);f.Vertical||(f.BoundingBox.x+=(f.BoundingBox.w-r)/2,f.BoundingBox.y-=(f.BoundingBox.w-r)/2);f.BoundingBox.w=r;lucid.plugin.setProperty(e[0],"Lane_"+l[k].tid,"Swim Lane");lucid.plugin.setProperty(e[0],"BoundingBox",f.BoundingBox)}}},visible:function(a){if(1!=a.length||!a[0])return!1;var b=lucid.plugin.getBlockClassName(a[0]);a=lucid.plugin.getProperty(a[0],
"Lanes");return b&&-1<b.toLowerCase().indexOf("swimlaneblock")&&a&&1<a.length}}]}());lucid.plugin.initBlockClass({className:"RectangleContainerBlock",name:"Rectangle Container",defaultSize:{w:320,h:240},container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:["flowchart","container","rectangle"],getRenderDataKey:function(d){return["Fill","FillColor","LineColor","LineWidth"]},
getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"DiamondContainerBlock",name:"Diamond Container",defaultSize:{w:320,h:240},container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,onInit:function(d){},getLinkPoints:function(){return[{x:.5,
y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:["flowchart","container","diamond"],getRenderDataKey:function(d){return["Fill","FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox,b=a.x+a.w/2,g=a.y+a.h/2;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:b,y:a.y},{Action:"line",x:a.x+a.w,y:g},{Action:"line",x:b,y:a.y+a.h},{Action:"line",x:a.x,y:g},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"RoundedRectangleContainerBlock",
name:"Rounded Rectangle Container",container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,defaultSize:{w:320,h:240},onInit:function(d){lucid.plugin.registerProperty(d,"RoundCorners",30)},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:["flowchart","container","rectangle","rounded"],getRenderDataKey:function(d){return["Fill","FillColor","LineColor","LineWidth","RoundCorners"]},getRenderData:function(d,c){var a=d.BoundingBox,b="sample"==c?a.h/4:
d.RoundCorners,b=Math.min(b,a.w/2,a.h/2);return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+a.w-b,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y,2*b,2*b,-Math.PI/2,0)},{Action:"line",x:a.x+a.w,y:a.y+a.h-b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-2*b,2*b,2*b,0,Math.PI/2)},{Action:"line",x:a.x+b,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,
a.y+a.h-2*b,2*b,2*b,Math.PI/2,Math.PI)},{Action:"line",x:a.x,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*b,2*b,Math.PI,3*Math.PI/2)},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"CircleContainerBlock",name:"Circle Container",container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,defaultSize:{w:320,h:240},onInit:function(d){},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},searchKeywords:["flowchart","container",
"circle"],getRenderDataKey:function(d){return["Fill","FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"PillContainerBlock",name:"Pill Container",container:!0,disabledPropertyControls:["FlipX",
"FlipY"],rLock:!0,defaultSize:{w:320,h:240},onInit:function(d){},searchKeywords:["flowchart","container","oval","pill"],getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["Fill","FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.Fill?d.FillColor:null,StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+.8*a.w,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+
.6*a.w,a.y,.4*a.w,a.h,-.5*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+.2*a.w,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,.4*a.w,a.h,.5*Math.PI,1.5*Math.PI)},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"BraceBlock",name:"Double Brace",defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!1,onInit:function(d){lucid.plugin.registerProperty(d,"Spread",.0625)},variants:{BraceBlockRotated:{defaultProperties:function(){return{Rotation:-Math.PI/
2}}}},searchKeywords:"flowchart container brace curly bracket double".split(" "),getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth","Spread"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+2*b,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+b,a.y,2*b,2*b,1.5*Math.PI,Math.PI)},{Action:"line",
x:a.x+b,y:a.y+a.h/2-b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x-b,a.y+a.h/2-2*b,2*b,2*b,0,.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x-b,a.y+a.h/2,2*b,2*b,1.5*Math.PI,2*Math.PI)},{Action:"line",x:a.x+b,y:a.y+a.h-b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+b,a.y+a.h-2*b,2*b,2*b,Math.PI,.5*Math.PI)},{Action:"move",x:a.x+a.w-2*b,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*b,a.y+a.h-2*b,2*b,
2*b,.5*Math.PI,0)},{Action:"line",x:a.x+a.w-b,y:a.y+a.h/2+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-b,a.y+a.h/2,2*b,2*b,Math.PI,1.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-b,a.y+a.h/2-2*b,2*b,2*b,.5*Math.PI,Math.PI)},{Action:"line",x:a.x+a.w-b,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-3*b,a.y,2*b,2*b,2*Math.PI,1.5*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:"BraceBlockRotated",name:"Double Brace",
defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,onInit:function(d){lucid.plugin.registerProperty(d,"Spread",.0625)},searchKeywords:"flowchart container brace curly bracket double".split(" "),getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth","Spread"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,
Actions:[{Action:"move",x:a.x,y:a.y+2*b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+b,2*b,2*b,1*Math.PI,1.5*Math.PI)},{Action:"line",x:a.x+a.w/2-b,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2-2*b,a.y-b,2*b,2*b,.5*Math.PI,0*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2,a.y-b,2*b,2*b,1*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+a.w-b,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*
b,a.y+b,2*b,2*b,1.5*Math.PI,2*Math.PI)},{Action:"move",x:a.x+a.w,y:a.y+a.h-2*b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-3*b,2*b,2*b,0*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+a.w/2+b,y:a.y+a.h-b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2,a.y+a.h-b,2*b,2*b,1.5*Math.PI,1*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w/2-2*b,a.y+a.h-b,2*b,2*b,2*Math.PI,1.5*Math.PI)},{Action:"line",x:a.x+b,y:a.y+a.h-b},{Action:"curve",
Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-3*b,2*b,2*b,.5*Math.PI,1*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:"BracketBlock",name:"Double Bracket",defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,onInit:function(d){lucid.plugin.registerProperty(d,"Spread",.125)},searchKeywords:["flowchart","container","bracket","double"],getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},variants:{BracketBlockRotated:{defaultProperties:function(){return{Rotation:-Math.PI/
2}}}},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth","Spread"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+b,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*b,2*b,1.5*Math.PI,Math.PI)},{Action:"line",x:a.x,y:a.y+a.h-b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*b,2*b,2*b,Math.PI,.5*Math.PI)},{Action:"move",
x:a.x+a.w-b,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-2*b,2*b,2*b,.5*Math.PI,0)},{Action:"line",x:a.x+a.w,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y,2*b,2*b,2*Math.PI,1.5*Math.PI)}]}]}});lucid.plugin.initBlockClass({className:"BracketBlockRotated",name:"Double Bracket",defaultSize:{w:320,h:320},container:!0,disabledPropertyControls:["FlipX","FlipY"],rLock:!0,onInit:function(d){lucid.plugin.registerProperty(d,
"Spread",.125)},searchKeywords:["flowchart","container","bracket","double"],getLinkPoints:function(){return[{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth","Spread"]},getRenderData:function(d,c){var a=d.BoundingBox,b=d.Spread*(a.h>a.w?a.w:a.h);return[{StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,2*b,2*b,1*Math.PI,1.5*Math.PI)},{Action:"line",x:a.x+
a.w-b,y:a.y},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y,2*b,2*b,1.5*Math.PI,2*Math.PI)},{Action:"move",x:a.x+a.w,y:a.y+a.h-b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x+a.w-2*b,a.y+a.h-2*b,2*b,2*b,0*Math.PI,.5*Math.PI)},{Action:"line",x:a.x+b,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y+a.h-2*b,2*b,2*b,.5*Math.PI,1*Math.PI)}]}]}});(function(){lucid.plugin.initBlockClass({className:"BraceNoteBlock",name:"Curly Brace Note",
searchKeywords:"ui interface brace curly bracket note".split(" "),defaultSize:{w:80,h:160},variants:{Right:{defaultProperties:function(){return{BraceDirection:"Right"}}}},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Note",value:"Note",getBoundingBox:plugin.common.DocVersionedProps.getValueForDocVersion([{docVersionInstated:0,value:function(c){var a=.0625*c.h,b="Right"===lucid.plugin.getProperty(d,"BraceDirection");return{x:c.x+(b?0:3)*a,y:c.y,w:c.w-3*a,h:c.h,fitShape:lucid.plugin.getProperty(d,
"InsetMargin")||0,hideOverflow:!0}}},{docVersionInstated:5,value:function(c){var a=.0625*c.h,b="Right"===lucid.plugin.getProperty(d,"BraceDirection"),g=lucid.plugin.getProperty(d,"InsetMargin")||0;c={x:c.x+(b?0:3)*a,y:c.y,w:c.w-3*a,h:c.h};return c=lucid.math.Box.safePad(c,-g,{w:10,h:10})}}])});lucid.plugin.registerProperty(d,"TextWrap","fit");lucid.plugin.registerProperty(d,"InsetMargin",5)},onCreate:function(d){var c="Right"===lucid.plugin.getProperty(d,"BraceDirection")?"right":"left";lucid.plugin.updateBlockTextArea(d,
"Note",{align:c})},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth","BraceDirection"]},getRenderData:function(d,c){var a=d.BoundingBox,b=.0625*a.h,g=d.LineWidth;"sample"==c&&(b*=2,a={x:a.y,y:a.y,w:a.h,h:a.h});var e="Right"===d.BraceDirection,f=e?-1:1,h=a.w/2,h=a.x+(h-h*f),k=h+b*f,g=[{Actions:[{Action:"move",x:a.x,y:a.y},{Action:"line",x:a.x,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y},{Action:"close"}]},{StrokeColor:d.LineColor,LineWidth:g,
Actions:[{Action:"move",x:h,y:a.y+a.h},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-b,a.y+a.h-2*b,2*b,2*b,.5*Math.PI,Math.PI*(.5-.5*f))},{Action:"line",x:k,y:a.y+a.h/2+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(k-(b-b*f),a.y+a.h/2,2*b,2*b,Math.PI*(1+(.5-.5*f)),1.5*Math.PI)},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(k-(b-b*f),a.y+a.h/2-2*b,2*b,2*b,.5*Math.PI,Math.PI*(1-(.5-.5*f)))},{Action:"line",x:k,y:a.y+b},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(h-
b,a.y,2*b,2*b,Math.PI*(2-(.5-.5*f)),1.5*Math.PI)}]}],e=e?0:3*b,b=3*b-e;"sample"==c&&g.push({FillColor:lucid.color.darken(d.FillColor,.5),Actions:[{Action:"move",x:a.x+e,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-b,y:a.y+.3*a.h},{Action:"line",x:a.x+.8*a.w-b,y:a.y+.4*a.h},{Action:"line",x:a.x+e,y:a.y+.4*a.h},{Action:"close"},{Action:"move",x:a.x+e,y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-b,y:a.y+.45*a.h},{Action:"line",x:a.x+.9*a.w-b,y:a.y+.55*a.h},{Action:"line",x:a.x+e,y:a.y+.55*a.h},{Action:"close"},
{Action:"move",x:a.x+e,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-b,y:a.y+.6*a.h},{Action:"line",x:a.x+.7*a.w-b,y:a.y+.7*a.h},{Action:"line",x:a.x+e,y:a.y+.7*a.h},{Action:"close"}]});return g}})})();lucid.plugin.initBlockClass({className:"LoopLimitBlock",name:"Loop Limit",searchKeywords:["flowchart","loop","limit"],defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Loop Limit",getBoundingBox:function(c){return z(c,function(a){return{x:a.x+20,y:a.y,w:a.w-
40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,"InsetMargin")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,"TextWrap","fit"),lucid.plugin.registerProperty(d,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,StrokeColor:d.LineColor,LineWidth:d.LineWidth,
Actions:[{Action:"move",x:a.x,y:a.y+.2*a.h},{Action:"line",x:a.x+.2*a.w,y:a.y},{Action:"line",x:a.x+.8*a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+.2*a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"CardBlock",name:"Card",searchKeywords:["flowchart","card","square","rectangle"],defaultSize:{w:160,h:120},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Card",getBoundingBox:function(c){return z(c,
function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,"InsetMargin")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,"TextWrap","fit"),lucid.plugin.registerProperty(d,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,
StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x,y:a.y+.2*a.h},{Action:"line",x:a.x+.2*a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y},{Action:"line",x:a.x+a.w,y:a.y+a.h},{Action:"line",x:a.x,y:a.y+a.h},{Action:"close"}]}]}});lucid.plugin.initBlockClass({className:"TapeDataBlock",name:"Tape Data",searchKeywords:["flowchart","tape","data","circle"],defaultSize:{w:100,h:100},onInit:function(d){lucid.plugin.addBlockTextArea(d,{id:"Text",value:"Tape Data",getBoundingBox:function(c){return z(c,
function(a){return{x:a.x+20,y:a.y,w:a.w-40,h:a.h}},function(a){return{x:a.x,y:a.y,w:a.w,h:a.h,fitShape:lucid.plugin.getProperty(d,"InsetMargin")||0,hideOverflow:!0}})}});1<k()&&(lucid.plugin.registerProperty(d,"TextWrap","fit"),lucid.plugin.registerProperty(d,"InsetMargin",5))},getLinkPoints:function(){return[{x:.5,y:0},{x:.5,y:1},{x:0,y:.5},{x:1,y:.5}]},getRenderDataKey:function(d){return["FillColor","LineColor","LineWidth"]},getRenderData:function(d,c){var a=d.BoundingBox;return[{FillColor:d.FillColor,
StrokeColor:d.LineColor,LineWidth:d.LineWidth,Actions:[{Action:"move",x:a.x+a.w,y:a.y+a.h/2},{Action:"curve",Control:lucid.math.ellipseArcControlPoints(a.x,a.y,a.w,a.h,0,2*Math.PI)},{Action:"close"},{Action:"move",x:a.x+a.w/2,y:a.y+a.h},{Action:"line",x:a.x+a.w,y:a.y+a.h}]}]}});lucid.plugin.createToolGroups({Flowchart:["ProcessBlock","DecisionBlock","TerminatorBlock","PredefinedProcessBlock","DocumentBlock","MultiDocumentBlock","ManualInputBlock","PreparationBlock","DataBlockNew","DatabaseBlock",
"DirectAccessStorageBlock","InternalStorageBlock","PaperTapeBlock","ManualOperationBlockNew","DelayBlock","StoredDataBlock","MergeBlock","ConnectorBlock","OrBlock","SummingJunctionBlock","DisplayBlock","OffPageLinkBlock",{className:"BraceNoteBlock",name:"Curly Brace Note - Left"},{className:"BraceNoteBlock",variant:"Right",name:"Curly Brace Note - Right"},"NoteBlock"],Containers:"AdvancedSwimLaneBlock AdvancedSwimLaneBlockRotated RectangleContainerBlock DiamondContainerBlock RoundedRectangleContainerBlock CircleContainerBlock PillContainerBlock BraceBlock BracketBlock BraceBlockRotated BracketBlockRotated".split(" ")})})();
//# sourceMappingURL=/js/plugins/v2/source-maps/flowchart.js.map
};
